
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>2.4. Glimpse of Chicago &#8212; An Introduction to Python Jupyter Notebooks for College Math Teachers</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=87e54e7c" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=07d05eac" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'PreCollege/Celestial/Chicago';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="2.5. Arts in STEM (STEAM)" href="steam.html" />
    <link rel="prev" title="2.3. Beginning Python Programming" href="../GettingStarted/python.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.png" class="logo__image only-light" alt="An Introduction to Python Jupyter Notebooks for College Math Teachers - Home"/>
    <script>document.write(`<img src="../../_static/logo.png" class="logo__image only-dark" alt="An Introduction to Python Jupyter Notebooks for College Math Teachers - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    An Introduction to Python Jupyter Notebooks for College Math Teachers
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Preface.html">1. PREFACE</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../JMM23.html">1.1. JMM 2023</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../lab.html">1.2. JNB LAB: Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../labsolutions.html">1.3. JNB Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../../PreCollege.html">2. PRE-COLLEGE - Wheaton College Team</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../PreCollegeIntro.html">2.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Elementary/Arithmetic/elementary.html">2.2. Elementary Blackboard Problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GettingStarted/python.html">2.3. Beginning Python Programming</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">2.4. Glimpse of Chicago</a></li>
<li class="toctree-l2"><a class="reference internal" href="steam.html">2.5. Arts in STEM (STEAM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../solutions.html">2.6. Solution to Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="demo.html">2.7. JNB LAB: After-School Program Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="demosolutions.html">2.8. JNB Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Intropy.html">3. PYTHON PROGRAMMING GUIDE - Thomas VanDrunen, Yiheng Liang</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Programming/PythonProgrammingGuideIntro.html">3.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Programming/Introduction_to_Python.html">3.2. Introduction to Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Programming/Data.html">3.3. Working with Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Programming/solutions.html">3.4. Solution to Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Programming/Plab.html">3.5. JNB Lab: Introduction to Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Programming/Plabsolutions.html">3.6. JNB Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Data.html">4. EXPLORATORY DATA ANALYSIS - Jonathan Zhu</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/EDA/sec1_basic_intro.html">4.1. Introduction to Part I</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/EDA/sec2_basic_tabular.html">4.2. Data Investigation I</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/EDA/sec3_basic_plotting.html">4.3. Plotting and Statistical Testing I</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/EDA/sec4_basic_solutions.html">4.4. Solutions to Part I Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/EDA/sec5_advanced_intro.html">4.5. Introduction to Part II</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/EDA/sec6_advanced_tabular.html">4.6. Data Investigation II</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/EDA/sec7_advanced_plotting.html">4.7. Plotting and Statistical Testing II</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/EDA/sec8_advanced_report.html">4.8. Making EDA Reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/EDA/sec9_advanced_solution.html">4.9. Solutions to Part II Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/EDA/lab.html">4.10. JNB Lab: Housing Equity Initiative</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/EDA/labsolution.html">4.11. JNB Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Prob.html">5. PROBABILITY - Laura Gross, Yiheng Liang</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/ProbIntro/prob.html">5.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/ProbIntro/prob1.html">5.2. Random Numbers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/ProbIntro/prob2.html">5.3. Probability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/ProbIntro/prob3.html">5.4. Conditional Probability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/ProbIntro/prob4.html">5.5. Probability Distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/ProbIntro/prob4a.html">5.6. Random Walks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/ProbIntro/prob5.html">5.7. Agent-based Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/ProbIntro/prob6.html">5.8. Mathematical Games</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/ProbIntro/solutions.html">5.9. Solution to Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/ProbIntro/lab.html">5.10. JNB Lab: Homicides in Chicago</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/ProbIntro/labsolution.html">5.11. JNB Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Stat.html">6. STATISTICAL INFERENCE - Peter Jantsch, Claire Wagner</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/StatInf/00_Instructor_Notes.html">6.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/StatInf/01_Foundations.html">6.2. Foundations of Statistical Inference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/StatInf/02_Inference_Categorical.html">6.3. Hypothesis Testing for Categorical Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/StatInf/03_Inference_Numerical.html">6.4. Hypothesis Testing for Numerical Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/StatInf/04_Regression.html">6.5. Linear Regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/StatInf/Solutions.html">6.6. Solutions to Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/StatInf/05_Lab.html">6.7. Lab: The Framingham Heart Study</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ProbStat/StatInf/05_Lab_Solutions.html">6.8. Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../AppliedCalc.html">7. APPLIED CALCULUS FOR DAILY LIFE - Wheaton College Team</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/AppliedCalculusIntro.html">7.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/twocommodity.html">7.2. Linear Systems and the Two-commodity Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/marginal.html">7.3. Marginal and Average Cost</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/design.html">7.4. Optimization and Object Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/cobbs.html">7.5. Optimization and Cobbs-Douglas Production</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/rates.html">7.6. Related Rates and Volumes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/football.html">7.7. Related Rates with Trig Functions and Football</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/jnb7.html">7.8. Probability Distributions and Drive Thrus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/control.html">7.9. Normal Distribution and Process Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/ols.html">7.10. Partial Derivatives and OLS Regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/gini.html">7.11. Area Between Curves and the Gini Index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/income.html">7.12. Integral Test and Income Streams</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/ode.html">7.13. Ordinary Differential Equations and Exponential Growth/Decay</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/solutions.html">7.14. Solutions to Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/AClab.html">7.15. JNB Lab: Calculus of Entropy in Daily Life and Monte Carlo Simulations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/AClabsolutions.html">7.16. JNB Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Calc.html">8. CALCULUS - Inne Singgih</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Calculus/Intro.html">8.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Calculus/2Functions.html">8.2. Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Calculus/3Limits.html">8.3. Limits, Continuity, and Rates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Calculus/4%20Derivatives.html">8.4. Derivatives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Calculus/5%20Integrals.html">8.5. Integrals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Calculus/6%20ParametricEquations.html">8.6. Parametric Equations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Calculus/7%20Sequences%20and%20Series.html">8.7. Sequences and Series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Calculus/Solutions.html">8.8. Solution to Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Calculus/clab.html">8.9. JNB LAB: Calculus Animations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Calculus/clabsolution.html">8.10. JNB Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Linear.html">9. LINEAR ALGEBRA - Soheil Anbouhi</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Linear/0.html">9.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Linear/1.html">9.2. Linear Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Linear/2.html">9.3. Matrices and Determinants</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Linear/3.html">9.4. Linear Transformations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Linear/4.html">9.5. Eigenvalues and Eigenvectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Linear/5.html">9.6. Orthogonality</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Linear/Solutions.html">9.7. Solutions to Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Linear/LAlab.html">9.8. JNB Lab: Linear Algebra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Linear/LAlabsolutions.html">9.9. JNB Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Aplin.html">10. LINEAR ALGEBRA AND OPTIMIZATION FOR DATA ANALYSIS - Wheaton College Team</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/LinearAlgebra/Introduction.html">10.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/LinearAlgebra/OLS/jnb1.html">10.2. OLS Linear Regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/LinearAlgebra/KMeans/jnb2.html">10.3. K-means Clustering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/LinearAlgebra/PCA/jnb3.html">10.4. Dimension Reduction by Principal Component Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/LinearAlgebra/SVM/jnb4.html">10.5. Binary Classification of Labeled Data by Support Vector Machines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/LinearAlgebra/solutions.html">10.6. Solution to Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/LinearAlgebra/ALlab.html">10.7. JNB LAB: Linear Algebra for Data Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/LinearAlgebra/ALlabsolution.html">10.8. JNB Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../DifEq.html">11. DIFFERENTIAL EQUATIONS - Rachel Petrik</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/DifEq/Differential%20Equations.html">11.1. Overview of Chapter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/DifEq/DE2.html">11.2. Introduction to Differential Equations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/DifEq/DE3.html">11.3. First-Order Differential Equations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/DifEq/DE4.html">11.4. Second-Order Differential Equations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/DifEq/DE5.html">11.5. Systems of First-Order Differential Equations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/DifEq/DE6.html">11.6. Laplace Transforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/DifEq/DESolutions.html">11.7. Solutions to Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/DifEq/Differential%20Equations%20Book%201%20Lab.html">11.8. JNB Lab: Differential Equations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/DifEq/Differential%20Equations%20Book%201%20Lab%20Answer%20Key.html">11.9. JNB Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../AppliedDifEq.html">12. DIFFERENTIAL EQUATIONS FOR THE BENEFIT OF SOCIETY - Wheaton College Team</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedDifEq/AppliedDiffEqIntro.html">12.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedDifEq/covid.html">12.2. Logistic Growth and COVID-19</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedDifEq/sir.html">12.3. The Basic SIR Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedDifEq/cholera.html">12.4. Cholera in Haiti</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedDifEq/cws/cws.html">12.5. CWS Model of Alzheimer’s Disease</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedDifEq/gravity/gravity.html">12.6. Gravity Fed Water Delivery</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedDifEq/erc/erc.html">12.7. Earthquake Resistant Construction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedDifEq/solutions.html">12.8. Solutions to Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedDifEq/hiv/lab.html">12.9. JNB Lab: HIV-AIDS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedDifEq/labsolutions.html">12.10. JNB Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../ComplexVar.html">13. COMPLEX VARIABLES IN GROUNDWATER MODELING - Wheaton College Team</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/Complex/complex_variables_1.html">13.1. Setting the Scene</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/Complex/complex_variables_2.html">13.2. Complex Analysis Background</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/Complex/complex_variables_3.html">13.3. Idealized Groundwater Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/Complex/complex_variables_4.html">13.4. Contaminant Extraction Modeling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/Complex/complex_variables_solutions.html">13.5. Solutions to Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/Complex/complex_variables_lab.html">13.6. JNB LAB: Complex Potentials and Contaminant Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/Complex/complex_variables_lab_solution.html">13.7. JNB Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../AdvData.html">14. ADVANCED DATA ANALYSIS - Jonathan Zhu, Claire Wagner, Ying Li</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/AdvDataAnalysis/sec0_data.html">14.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/AdvDataAnalysis/sec1_preprocessing.html">14.2. Preprocessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/AdvDataAnalysis/sec2_transform_features.html">14.3. About Text Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/AdvDataAnalysis/sec3_doc_embedding.html">14.4. Document Embedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/AdvDataAnalysis/sec4_classification_algos.html">14.5. Classification of Texts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/AdvDataAnalysis/sec5_classification_eval.html">14.6. Evaluating Classification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/AdvDataAnalysis/sec6_applications.html">14.7. Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/AdvDataAnalysis/solutions_sec1-4.html">14.8. Solutions to Exercises: Sections 1 to 4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/AdvDataAnalysis/solutions_sec5-7.html">14.9. Solutions to Exercises: Sections 5 to 7</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/AdvDataAnalysis/nlp_lab.html">14.10. JNB Lab: United States Grant Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/AdvDataAnalysis/nlp_lab_solutions.html">14.11. JNB Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../ComplexSystems.html">15. COMPLEX SYSTEMS - Wheaton College Team</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/ComplexSystems/complex_systems_1.html">15.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/ComplexSystems/complex_systems_2.html">15.2. Fundamental Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/ComplexSystems/complex_systems_3.html">15.3. Mathematical Concepts from Equilibrium Statistical Physics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/ComplexSystems/complex_systems_4.html">15.4. Societal Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/ComplexSystems/complex_systems_solutions.html">15.5. Solution to Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/ComplexSystems/complex_systems_lab.html">15.6. JNB LAB: Complex Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/ComplexSystems/complex_systems_labsolution.html">15.7. JNB Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../../genindex.html">Index</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/timothyprojectGiG/JB_Math_Textbook/main?urlpath=tree/src/PreCollege/Celestial/Chicago.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Binder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Binder logo" src="../../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/timothyprojectGiG/JB_Math_Textbook" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/timothyprojectGiG/JB_Math_Textbook/issues/new?title=Issue%20on%20page%20%2FPreCollege/Celestial/Chicago.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/PreCollege/Celestial/Chicago.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Glimpse of Chicago</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#michael-jordans-greatest-scoring-game">2.4.1. Michael Jordan’s Greatest Scoring Game</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-bad-is-covid-19">2.4.2. How Bad is COVID-19?</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">Exercises</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mapping-famous-chicagoans">2.4.3. Mapping Famous Chicagoans</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#predicting-exemplary-schools">2.4.4. Predicting Exemplary Schools</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#assignment">Assignment</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-great-migration">2.4.5. The Great Migration</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-a-map-from-our-dataframe">Creating a Map from our Dataframe</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">ASSIGNMENT</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-chicago-hardship-index">2.4.6. The Chicago Hardship Index</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#raw-data-and-summary-statistics">Raw Data and Summary Statistics</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#summary-statistics">Summary Statistics</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#k-means-clustering">K-Means Clustering</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="glimpse-of-chicago">
<h1><span class="section-number">2.4. </span>Glimpse of Chicago<a class="headerlink" href="#glimpse-of-chicago" title="Link to this heading">#</a></h1>
<div class="admonition-note admonition">
<p class="admonition-title">Note</p>
<p>In the Summer of 2020, Hope Wood (Wheaton College Urban Studies staff), Demetrius Crawford (Wheaton College Urban Studies outreach program participant) and I (Dr. Paul Isihara, Wheaton College math professor) launched the idea of creating JNB labs as a tool to teach math, data analysis and STEAM to disadvantaged Chicago grade-school students.</p>
<p>In Fall 2020, Mr. Jim Wilkes, principal of Cornerstone Academy, an alternative Christian High School serving mainly low to middle income students on the West Side of Chicago held the pilot offering of a JNB after-school program via Zoom. A class of Wheaton College student mentors worked online in small groups of 2 or 3 with Cornerstone students. Mr. Wilkes and I served as co-program directors, and Hope Wood and Antoinette Ratliff as program staff.</p>
<p>The following JNBs were developed for use with 8th graders participating in an after-school program at a non-profit organization called Celestial Ministries. The first two years, the scholars’ middle school math teacher brought them to to the program and participated in the class. I served as teacher.  Our goal was for the middle school teacher to eventually take over the primary teaching responsibilities.</p>
<p>Celestial Ministries serves mainly single parent children in the Lawndale neighborhood on the West Side of Chicago. Parents and friends were invited to a recognition ceremony in which students demonstrated various functionalities of JNBs which were covered in the program. Students who successfully completed the program were given a certificate and a 100 dollar stipend.</p>
</div>
<div class="tip admonition">
<p class="admonition-title">Word of Advice</p>
<p>There are likely opportunities to introduce Python Jupyter Notebooks in disadvantaged communities within proximity of your workplace or residence. Establishing a good working relationship with a well-established community organization and local community math teacher is highly recommended as opposed to seeking to establish a program on your own.</p>
</div>
<section id="michael-jordans-greatest-scoring-game">
<span id="index-0"></span><h2><span class="section-number">2.4.1. </span>Michael Jordan’s Greatest Scoring Game<a class="headerlink" href="#michael-jordans-greatest-scoring-game" title="Link to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In this section, we will introduce a very important programming tool called a function.</p>
</div>
<p><strong>STEP#1</strong>
Review the PowerPoint on this lesson:
<a class="reference external" href="https://drive.google.com/file/d/1GlvEmf_TnwEDfB9xgEeAQfO0dAT50LVL/view?usp=shar">link to PPT</a></p>
<p><strong>STEP #2</strong>
From the PowerPoint, a variable is like a b  ____ . A variable has a n  ______ . We can store some i  ______  such as a number (eg. 3) or a message (eg. ‘God is Good!’) in a variable.
Let’s give names to two variables:</p>
<ul class="simple">
<li><p>feet</p></li>
<li><p>inch</p></li>
</ul>
<p>In Michael Jordan’s case, the info stored in the variable feet is the number 6 and the info stored in the variable inch is also equal to 6. For short, we just write feet=6 and inch=6
Let’s go around and each person state your name and what your value is for the variables feet and inch.</p>
<p>(Answers: box, name, info)</p>
<p><strong>STEP #3</strong>
The word for a short computer program is a c ______. The programming language we are using is Py  ______ n.
In the next cell, we give Python code to create the function in STEP 2. (If it looks complicated, try to find someone to help explain it to you.)</p>
<p>(Answers: code, Python)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">height</span><span class="p">(</span><span class="n">feet</span><span class="p">,</span><span class="n">inch</span><span class="p">):</span>
    <span class="n">height_in_inches</span> <span class="o">=</span> <span class="mi">12</span><span class="o">*</span><span class="n">feet</span> <span class="o">+</span> <span class="n">inch</span>  
    <span class="k">return</span> <span class="n">height_in_inches</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">height</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>  <span class="c1">#Test on Seimone&#39;s height  feet=6, inch=0</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>72
</pre></div>
</div>
</div>
</div>
<p><strong>STEP #4</strong>
What do we have to do in the next cell to test our function on 6’6” Michael Jordan?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Test our function on Michael Jordan&#39;s height.</span>
</pre></div>
</div>
</div>
</div>
<p><strong>STEP #5</strong>
One of the fun parts of programming is that we can try to design a function to do almost anything we want.</p>
<p>Define a function called points(fg,ft,tp) which computes the points scored by a basketball player given the input variables</p>
<ul class="simple">
<li><p>fg= number of 2 point field goals made</p></li>
<li><p>ft=number of free throws made</p></li>
<li><p>tp=number of three point shots made</p></li>
</ul>
<p>Use a variable called pts to store the answer.</p>
<p><strong>STEP 6</strong>
In his highest scoring game, Michael Jordan made 21 two-point field goals, 21 free throws and 2 three point shots.
Check that your function gives the correct value of 69 for his point total.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Supply the missing values for points(fg,ft,tp)</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition-for-discussion admonition">
<p class="admonition-title">For Discussion</p>
<ol class="arabic simple">
<li><p>What would you like your mentors to explain about today’s lesson?</p></li>
<li><p>What is one of your favorite sports memories?</p></li>
</ol>
</div>
</section>
<section id="how-bad-is-covid-19">
<span id="index-1"></span><h2><span class="section-number">2.4.2. </span>How Bad is COVID-19?<a class="headerlink" href="#how-bad-is-covid-19" title="Link to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In this section we will analyze data imported directly from the Chicago Data Portal</p>
<p><a class="reference external" href="https://data.cityofchicago.org/">https://data.cityofchicago.org/</a></p>
</div>
<p><strong>STEP 1</strong>
Let’s read in up to 100,000 rows of COVID data for Chicago from the Chicago Data Portal.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">rawCOVID</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s1">&#39;https://data.cityofchicago.org/resource/yhhz-zm2v.json?$limit=100000&#39;</span><span class="p">)</span> <span class="c1">#Import data directly from data portal</span>
<span class="n">rawCOVID</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>zip_code</th>
      <th>week_number</th>
      <th>week_start</th>
      <th>week_end</th>
      <th>cases_weekly</th>
      <th>cases_cumulative</th>
      <th>case_rate_weekly</th>
      <th>case_rate_cumulative</th>
      <th>tests_weekly</th>
      <th>tests_cumulative</th>
      <th>...</th>
      <th>death_rate_weekly</th>
      <th>death_rate_cumulative</th>
      <th>population</th>
      <th>row_id</th>
      <th>zip_code_location</th>
      <th>:@computed_region_rpca_8um6</th>
      <th>:@computed_region_vrxf_vc4k</th>
      <th>:@computed_region_6mkv_f3dw</th>
      <th>:@computed_region_bdys_3d7i</th>
      <th>:@computed_region_43wa_7qmu</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>60601</td>
      <td>17</td>
      <td>2020-04-19T00:00:00.000</td>
      <td>2020-04-25T00:00:00.000</td>
      <td>7.0</td>
      <td>45.0</td>
      <td>47.7</td>
      <td>306.6</td>
      <td>35.0</td>
      <td>198</td>
      <td>...</td>
      <td>6.8</td>
      <td>13.6</td>
      <td>14675</td>
      <td>60601-2020-17</td>
      <td>{'type': 'Point', 'coordinates': [-87.622844, ...</td>
      <td>42.0</td>
      <td>38.0</td>
      <td>14309.0</td>
      <td>580.0</td>
      <td>36.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>60601</td>
      <td>12</td>
      <td>2021-03-21T00:00:00.000</td>
      <td>2021-03-27T00:00:00.000</td>
      <td>29.0</td>
      <td>1003.0</td>
      <td>197.6</td>
      <td>6834.8</td>
      <td>616.0</td>
      <td>23059</td>
      <td>...</td>
      <td>0.0</td>
      <td>75.0</td>
      <td>14675</td>
      <td>60601-2021-12</td>
      <td>{'type': 'Point', 'coordinates': [-87.622844, ...</td>
      <td>42.0</td>
      <td>38.0</td>
      <td>14309.0</td>
      <td>580.0</td>
      <td>36.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>60601</td>
      <td>38</td>
      <td>2020-09-13T00:00:00.000</td>
      <td>2020-09-19T00:00:00.000</td>
      <td>7.0</td>
      <td>204.0</td>
      <td>47.7</td>
      <td>1390.1</td>
      <td>325.0</td>
      <td>5654</td>
      <td>...</td>
      <td>0.0</td>
      <td>34.1</td>
      <td>14675</td>
      <td>60601-2020-38</td>
      <td>{'type': 'Point', 'coordinates': [-87.622844, ...</td>
      <td>42.0</td>
      <td>38.0</td>
      <td>14309.0</td>
      <td>580.0</td>
      <td>36.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>60601</td>
      <td>43</td>
      <td>2021-10-24T00:00:00.000</td>
      <td>2021-10-30T00:00:00.000</td>
      <td>22.0</td>
      <td>1552.0</td>
      <td>149.9</td>
      <td>10575.8</td>
      <td>1243.0</td>
      <td>58296</td>
      <td>...</td>
      <td>0.0</td>
      <td>81.8</td>
      <td>14675</td>
      <td>60601-2021-43</td>
      <td>{'type': 'Point', 'coordinates': [-87.622844, ...</td>
      <td>42.0</td>
      <td>38.0</td>
      <td>14309.0</td>
      <td>580.0</td>
      <td>36.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>60601</td>
      <td>24</td>
      <td>2020-06-07T00:00:00.000</td>
      <td>2020-06-13T00:00:00.000</td>
      <td>6.0</td>
      <td>78.0</td>
      <td>40.9</td>
      <td>531.5</td>
      <td>106.0</td>
      <td>782</td>
      <td>...</td>
      <td>0.0</td>
      <td>34.1</td>
      <td>14675</td>
      <td>60601-2020-24</td>
      <td>{'type': 'Point', 'coordinates': [-87.622844, ...</td>
      <td>42.0</td>
      <td>38.0</td>
      <td>14309.0</td>
      <td>580.0</td>
      <td>36.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>60601</td>
      <td>26</td>
      <td>2020-06-21T00:00:00.000</td>
      <td>2020-06-27T00:00:00.000</td>
      <td>4.0</td>
      <td>88.0</td>
      <td>27.3</td>
      <td>599.7</td>
      <td>175.0</td>
      <td>1075</td>
      <td>...</td>
      <td>0.0</td>
      <td>34.1</td>
      <td>14675</td>
      <td>60601-2020-26</td>
      <td>{'type': 'Point', 'coordinates': [-87.622844, ...</td>
      <td>42.0</td>
      <td>38.0</td>
      <td>14309.0</td>
      <td>580.0</td>
      <td>36.0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>60601</td>
      <td>28</td>
      <td>2020-07-05T00:00:00.000</td>
      <td>2020-07-11T00:00:00.000</td>
      <td>4.0</td>
      <td>96.0</td>
      <td>27.3</td>
      <td>654.2</td>
      <td>202.0</td>
      <td>1439</td>
      <td>...</td>
      <td>0.0</td>
      <td>34.1</td>
      <td>14675</td>
      <td>60601-2020-28</td>
      <td>{'type': 'Point', 'coordinates': [-87.622844, ...</td>
      <td>42.0</td>
      <td>38.0</td>
      <td>14309.0</td>
      <td>580.0</td>
      <td>36.0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>60601</td>
      <td>39</td>
      <td>2020-09-20T00:00:00.000</td>
      <td>2020-09-26T00:00:00.000</td>
      <td>9.0</td>
      <td>213.0</td>
      <td>61.3</td>
      <td>1451.4</td>
      <td>390.0</td>
      <td>6044</td>
      <td>...</td>
      <td>6.8</td>
      <td>40.9</td>
      <td>14675</td>
      <td>60601-2020-39</td>
      <td>{'type': 'Point', 'coordinates': [-87.622844, ...</td>
      <td>42.0</td>
      <td>38.0</td>
      <td>14309.0</td>
      <td>580.0</td>
      <td>36.0</td>
    </tr>
    <tr>
      <th>8</th>
      <td>60601</td>
      <td>40</td>
      <td>2020-09-27T00:00:00.000</td>
      <td>2020-10-03T00:00:00.000</td>
      <td>5.0</td>
      <td>218.0</td>
      <td>34.1</td>
      <td>1485.5</td>
      <td>393.0</td>
      <td>6437</td>
      <td>...</td>
      <td>0.0</td>
      <td>40.9</td>
      <td>14675</td>
      <td>60601-2020-40</td>
      <td>{'type': 'Point', 'coordinates': [-87.622844, ...</td>
      <td>42.0</td>
      <td>38.0</td>
      <td>14309.0</td>
      <td>580.0</td>
      <td>36.0</td>
    </tr>
    <tr>
      <th>9</th>
      <td>60601</td>
      <td>41</td>
      <td>2020-10-04T00:00:00.000</td>
      <td>2020-10-10T00:00:00.000</td>
      <td>7.0</td>
      <td>225.0</td>
      <td>47.7</td>
      <td>1533.2</td>
      <td>433.0</td>
      <td>6870</td>
      <td>...</td>
      <td>0.0</td>
      <td>40.9</td>
      <td>14675</td>
      <td>60601-2020-41</td>
      <td>{'type': 'Point', 'coordinates': [-87.622844, ...</td>
      <td>42.0</td>
      <td>38.0</td>
      <td>14309.0</td>
      <td>580.0</td>
      <td>36.0</td>
    </tr>
  </tbody>
</table>
<p>10 rows × 26 columns</p>
</div></div></div>
</div>
<p>Let’s check the number of rows and columns.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rawCOVID</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(10560, 26)
</pre></div>
</div>
</div>
</div>
<p>We’ll list the 26 column names</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="n">rawCOVID</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;zip_code&#39;,
 &#39;week_number&#39;,
 &#39;week_start&#39;,
 &#39;week_end&#39;,
 &#39;cases_weekly&#39;,
 &#39;cases_cumulative&#39;,
 &#39;case_rate_weekly&#39;,
 &#39;case_rate_cumulative&#39;,
 &#39;tests_weekly&#39;,
 &#39;tests_cumulative&#39;,
 &#39;test_rate_weekly&#39;,
 &#39;test_rate_cumulative&#39;,
 &#39;percent_tested_positive_weekly&#39;,
 &#39;percent_tested_positive_cumulative&#39;,
 &#39;deaths_weekly&#39;,
 &#39;deaths_cumulative&#39;,
 &#39;death_rate_weekly&#39;,
 &#39;death_rate_cumulative&#39;,
 &#39;population&#39;,
 &#39;row_id&#39;,
 &#39;zip_code_location&#39;,
 &#39;:@computed_region_rpca_8um6&#39;,
 &#39;:@computed_region_vrxf_vc4k&#39;,
 &#39;:@computed_region_6mkv_f3dw&#39;,
 &#39;:@computed_region_bdys_3d7i&#39;,
 &#39;:@computed_region_43wa_7qmu&#39;]
</pre></div>
</div>
</div>
</div>
<p><strong>Q1</strong> Does case matter when referring to a column name?</p>
<p><strong>STEP TWO</strong>
Let’s streamline the data to just 4 columns, drop rows with missing data,  simplify the column names, and then display the first 20 rows.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">COVID</span><span class="o">=</span><span class="n">rawCOVID</span><span class="p">[[</span><span class="s1">&#39;deaths_cumulative&#39;</span><span class="p">,</span> <span class="s2">&quot;population&quot;</span><span class="p">,</span>  <span class="s1">&#39;tests_cumulative&#39;</span><span class="p">,</span><span class="s1">&#39;zip_code&#39;</span><span class="p">]]</span>
<span class="n">COVID</span><span class="o">.</span><span class="n">dropna</span>  <span class="c1">#drop rows with missing data</span>
<span class="n">COVID</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;deaths&quot;</span><span class="p">,</span><span class="s2">&quot;population&quot;</span><span class="p">,</span><span class="s2">&quot;tests&quot;</span><span class="p">,</span><span class="s2">&quot;zip&quot;</span><span class="p">]</span> <span class="c1">#simplify the column names</span>
<span class="n">COVID</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>deaths</th>
      <th>population</th>
      <th>tests</th>
      <th>zip</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2</td>
      <td>14675</td>
      <td>198</td>
      <td>60601</td>
    </tr>
    <tr>
      <th>1</th>
      <td>11</td>
      <td>14675</td>
      <td>23059</td>
      <td>60601</td>
    </tr>
    <tr>
      <th>2</th>
      <td>5</td>
      <td>14675</td>
      <td>5654</td>
      <td>60601</td>
    </tr>
    <tr>
      <th>3</th>
      <td>12</td>
      <td>14675</td>
      <td>58296</td>
      <td>60601</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>14675</td>
      <td>782</td>
      <td>60601</td>
    </tr>
    <tr>
      <th>5</th>
      <td>5</td>
      <td>14675</td>
      <td>1075</td>
      <td>60601</td>
    </tr>
    <tr>
      <th>6</th>
      <td>5</td>
      <td>14675</td>
      <td>1439</td>
      <td>60601</td>
    </tr>
    <tr>
      <th>7</th>
      <td>6</td>
      <td>14675</td>
      <td>6044</td>
      <td>60601</td>
    </tr>
    <tr>
      <th>8</th>
      <td>6</td>
      <td>14675</td>
      <td>6437</td>
      <td>60601</td>
    </tr>
    <tr>
      <th>9</th>
      <td>6</td>
      <td>14675</td>
      <td>6870</td>
      <td>60601</td>
    </tr>
    <tr>
      <th>10</th>
      <td>7</td>
      <td>14675</td>
      <td>7642</td>
      <td>60601</td>
    </tr>
    <tr>
      <th>11</th>
      <td>7</td>
      <td>14675</td>
      <td>8222</td>
      <td>60601</td>
    </tr>
    <tr>
      <th>12</th>
      <td>7</td>
      <td>14675</td>
      <td>8798</td>
      <td>60601</td>
    </tr>
    <tr>
      <th>13</th>
      <td>7</td>
      <td>14675</td>
      <td>9377</td>
      <td>60601</td>
    </tr>
    <tr>
      <th>14</th>
      <td>8</td>
      <td>14675</td>
      <td>10125</td>
      <td>60601</td>
    </tr>
    <tr>
      <th>15</th>
      <td>8</td>
      <td>14675</td>
      <td>11129</td>
      <td>60601</td>
    </tr>
    <tr>
      <th>16</th>
      <td>8</td>
      <td>14675</td>
      <td>11710</td>
      <td>60601</td>
    </tr>
    <tr>
      <th>17</th>
      <td>9</td>
      <td>14675</td>
      <td>12417</td>
      <td>60601</td>
    </tr>
    <tr>
      <th>18</th>
      <td>9</td>
      <td>14675</td>
      <td>13092</td>
      <td>60601</td>
    </tr>
    <tr>
      <th>19</th>
      <td>10</td>
      <td>14675</td>
      <td>13973</td>
      <td>60601</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><strong>Q2</strong> Why is there different information for the same zip code?</p>
<p><strong>STEP THREE</strong></p>
<p>Let’s check how many rows have data in each column.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">COVID</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>deaths        10560
population    10560
tests         10560
zip           10560
dtype: int64
</pre></div>
</div>
</div>
</div>
<p><strong>Q3</strong>  How many data rows are there in each column?</p>
<p><strong>STEP FOUR</strong></p>
<p>Let’s find out how many times each zip code appears.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">COVID</span><span class="p">[</span><span class="s2">&quot;zip&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>60601      176
60602      176
60646      176
60647      176
60649      176
60651      176
60652      176
60653      176
60654      176
60655      176
60656      176
60657      176
60661      176
60614      176
60615      176
60617      176
60618      176
60827      176
60707      176
60666      176
60660      176
60643      176
60633      176
60624      176
60640      176
60625      176
60630      176
60659      176
60628      176
60645      176
60644      176
60610      176
60620      176
60603      176
60607      176
60608      176
60606      176
60604      176
60605      176
60611      176
60612      176
60609      176
60613      176
60616      176
60619      176
60621      176
60642      176
60622      176
60623      176
60626      176
60629      176
60631      176
60632      176
60636      176
60637      176
60634      176
60638      176
60639      176
60641      176
Unknown    176
Name: zip, dtype: int64
</pre></div>
</div>
</div>
</div>
<p><strong>STEP FIVE</strong></p>
<p>Let’s make a copy of the COVID dataframe and display the first 5 rows.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df1</span><span class="o">=</span><span class="n">COVID</span>
<span class="n">df1</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>deaths</th>
      <th>population</th>
      <th>tests</th>
      <th>zip</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2</td>
      <td>14675</td>
      <td>198</td>
      <td>60601</td>
    </tr>
    <tr>
      <th>1</th>
      <td>11</td>
      <td>14675</td>
      <td>23059</td>
      <td>60601</td>
    </tr>
    <tr>
      <th>2</th>
      <td>5</td>
      <td>14675</td>
      <td>5654</td>
      <td>60601</td>
    </tr>
    <tr>
      <th>3</th>
      <td>12</td>
      <td>14675</td>
      <td>58296</td>
      <td>60601</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>14675</td>
      <td>782</td>
      <td>60601</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><strong>STEP SIX</strong></p>
<p>Filter data by a specific zip code, for example, ‘60611’</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span><span class="o">=</span><span class="n">df1</span><span class="p">[</span><span class="n">df1</span><span class="p">[</span><span class="s1">&#39;zip&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;60611&#39;</span><span class="p">]</span>
<span class="n">df2</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>deaths</th>
      <th>population</th>
      <th>tests</th>
      <th>zip</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>214</th>
      <td>3</td>
      <td>32426</td>
      <td>10229</td>
      <td>60611</td>
    </tr>
    <tr>
      <th>215</th>
      <td>4</td>
      <td>32426</td>
      <td>11000</td>
      <td>60611</td>
    </tr>
    <tr>
      <th>216</th>
      <td>4</td>
      <td>32426</td>
      <td>11777</td>
      <td>60611</td>
    </tr>
    <tr>
      <th>218</th>
      <td>14</td>
      <td>32426</td>
      <td>45055</td>
      <td>60611</td>
    </tr>
    <tr>
      <th>229</th>
      <td>14</td>
      <td>32426</td>
      <td>41668</td>
      <td>60611</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span><span class="p">[</span><span class="s2">&quot;zip&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>60611    176
Name: zip, dtype: int64
</pre></div>
</div>
</div>
</div>
<p><strong>STEP SEVEN</strong></p>
<p>Let’s find the largest value in the ‘tests’ column for zip ‘60611’.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[</span><span class="n">df1</span><span class="p">[</span><span class="s2">&quot;zip&quot;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;60637&#39;</span><span class="p">]</span> <span class="c1">#get just rows with zip 60611</span>
<span class="n">numtested</span><span class="o">=</span><span class="n">df2</span><span class="p">[</span><span class="s2">&quot;tests&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="c1">#get the largest number for tests</span>
<span class="n">numtested</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>413972
</pre></div>
</div>
</div>
</div>
<p><strong>Q4</strong>
How can we find how many deaths due to COVID have occurred in zip ‘60623’?  (Create a new dataframe for 60623 called temp)</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df3</span> <span class="o">=</span> <span class="n">COVID</span><span class="p">[</span><span class="n">df1</span><span class="p">[</span><span class="s2">&quot;zip&quot;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;60623&#39;</span><span class="p">]</span> <span class="c1">#get just rows with zip 60611</span>
<span class="n">numdeaths</span><span class="o">=</span><span class="n">df3</span><span class="p">[</span><span class="s2">&quot;deaths&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="c1">#get the largest number for tests</span>
<span class="n">numdeaths</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>334
</pre></div>
</div>
</div>
</div>
<p><strong>Q5</strong> How can we get the population in 60623?</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df3</span> <span class="o">=</span> <span class="n">COVID</span><span class="p">[</span><span class="n">df1</span><span class="p">[</span><span class="s2">&quot;zip&quot;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;60623&#39;</span><span class="p">]</span> <span class="c1">#get just rows with zip 60611</span>
<span class="n">pop</span><span class="o">=</span><span class="n">df3</span><span class="p">[</span><span class="s2">&quot;population&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="c1">#get the largest number for tests</span>
<span class="n">pop</span>
</pre></div>
</div>
</div>
</details>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df3</span> <span class="o">=</span> <span class="n">COVID</span><span class="p">[</span><span class="n">df1</span><span class="p">[</span><span class="s2">&quot;zip&quot;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;60623&#39;</span><span class="p">]</span> <span class="c1">#get just rows with zip 60611</span>
<span class="n">pop</span><span class="o">=</span><span class="n">df3</span><span class="p">[</span><span class="s2">&quot;population&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="c1">#get the largest number for tests</span>
<span class="n">pop</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>85979
</pre></div>
</div>
</div>
</div>
<p><strong>STEP EIGHT</strong>
We can instruct the computer to give us the number of COVID tests for any Chicago zipcode.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">MyCOVID</span><span class="p">(</span><span class="n">COVID</span><span class="p">,</span><span class="nb">zip</span><span class="p">):</span>
    <span class="n">alreadychecked</span><span class="o">=</span><span class="mi">0</span>  <span class="c1">#eliminate duplication of information</span>
    <span class="k">for</span> <span class="n">z</span> <span class="ow">in</span> <span class="n">COVID</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>  <span class="c1">#go through all the index values</span>
        <span class="k">if</span> <span class="n">COVID</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">z</span><span class="p">,</span><span class="s2">&quot;zip&quot;</span><span class="p">]</span><span class="o">==</span><span class="nb">zip</span> <span class="ow">and</span> <span class="n">alreadychecked</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>    <span class="c1">#found the zip we requested (first-time)</span>
            <span class="n">alreadychecked</span><span class="o">=</span><span class="mi">1</span>  <span class="c1">#we will only do this once</span>
            <span class="n">df</span><span class="o">=</span><span class="n">COVID</span><span class="p">[</span><span class="n">COVID</span><span class="p">[</span><span class="s2">&quot;zip&quot;</span><span class="p">]</span><span class="o">==</span><span class="nb">zip</span><span class="p">]</span>
            <span class="n">numtested</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;tests&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Zip code: &quot;</span><span class="p">,</span> <span class="nb">zip</span><span class="p">)</span>  <span class="c1">#print zipcode</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;number tested is &quot;</span><span class="p">,</span> <span class="n">numtested</span><span class="p">)</span> <span class="c1">#print number tested</span>
    <span class="k">return</span> <span class="p">(</span><span class="s2">&quot;Enter a different zip code if you wish.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Q6</strong> Test out the function on zip code ‘60610’</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">MyCOVID</span><span class="p">(</span><span class="n">COVID</span><span class="p">,</span><span class="s1">&#39;60637&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Zip code:  60637
number tested is  413972
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Enter a different zip code if you wish.&#39;
</pre></div>
</div>
</div>
</div>
<section id="exercises">
<h3>Exercises<a class="headerlink" href="#exercises" title="Link to this heading">#</a></h3>
<div class="admonition-exercises admonition">
<p class="admonition-title">Exercises</p>
<ol class="arabic simple">
<li><p>Define a function myCOVID2() which outputs for each given zip code the population, number tested, and number of deaths.</p></li>
<li><p>Use your function myCOVID2() to determine the COVID data for each of the following Chicago landmarks:</p></li>
</ol>
<p>a) North Park University (zip  ‘60625’)</p>
<p>b) Wheaton in Chicago (zip=‘60637’)</p>
<ol class="arabic simple" start="3">
<li><p>Why is COVID disproportionately impacting black and brown communities?</p></li>
</ol>
</div>
</section>
</section>
<section id="mapping-famous-chicagoans">
<span id="index-2"></span><h2><span class="section-number">2.4.3. </span>Mapping Famous Chicagoans<a class="headerlink" href="#mapping-famous-chicagoans" title="Link to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the section we will learn how to use Python to put information on a map of a geographical location.</p>
</div>
<p><strong>Step One</strong>
Let’s begin by importing data of some famous people born in Chicago.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">Chi</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;chicagoans.csv&#39;</span><span class="p">)</span>
<span class="n">Chi</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Name</th>
      <th>Age</th>
      <th>Alive</th>
      <th>Noted For</th>
      <th>Place of Birth</th>
      <th>Zip</th>
      <th>Lat</th>
      <th>Lon</th>
      <th>fun fact</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Michelle Obama</td>
      <td>56</td>
      <td>yes</td>
      <td>First Lady</td>
      <td>Provident Hospital</td>
      <td>60605</td>
      <td>41.802665</td>
      <td>-87.613657</td>
      <td>father worked at city water plant</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Robin Williams</td>
      <td>63</td>
      <td>no</td>
      <td>Actor</td>
      <td>St Luke's Hospital</td>
      <td>60605</td>
      <td>41.863100</td>
      <td>-87.623100</td>
      <td>went to Julliard with Christopher Reeve</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Walt Disney</td>
      <td>65</td>
      <td>no</td>
      <td>Film Producer</td>
      <td>149 Tripp Ave</td>
      <td>60651</td>
      <td>41.907879</td>
      <td>-87.732594</td>
      <td>won 22 oscars</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Bobby Fischer</td>
      <td>64</td>
      <td>no</td>
      <td>Chess</td>
      <td>Michael Reese  Hospital</td>
      <td>60606</td>
      <td>41.884116</td>
      <td>-87.637656</td>
      <td>grandmaster at age 15</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Isiah Thomas</td>
      <td>59</td>
      <td>yes</td>
      <td>Basketball</td>
      <td>West Side</td>
      <td>60624</td>
      <td>41.874827</td>
      <td>-87.710075</td>
      <td>youngest of 9 children</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><strong>Q1</strong> How old was Bobby Fischer when he became a grandmaster?</p>
<p><strong>STEP TWO</strong>
Let’s use a Python library called folium to make a map of Chicago.</p>
<div class="cell docutils container" id="index-3">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>folium
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting folium
  Downloading folium-0.14.0-py2.py3-none-any.whl (102 kB)
                                              0.0/102.3 kB ? eta -:--:--
     -------------------------------------- 102.3/102.3 kB 5.8 MB/s eta 0:00:00
Collecting branca&gt;=0.6.0 (from folium)
  Downloading branca-0.6.0-py3-none-any.whl (24 kB)
Requirement already satisfied: jinja2&gt;=2.9 in c:\users\pisihara\appdata\local\anaconda3\lib\site-packages (from folium) (3.1.2)
Requirement already satisfied: numpy in c:\users\pisihara\appdata\local\anaconda3\lib\site-packages (from folium) (1.24.3)
Requirement already satisfied: requests in c:\users\pisihara\appdata\local\anaconda3\lib\site-packages (from folium) (2.29.0)
Requirement already satisfied: MarkupSafe&gt;=2.0 in c:\users\pisihara\appdata\local\anaconda3\lib\site-packages (from jinja2&gt;=2.9-&gt;folium) (2.1.1)
Requirement already satisfied: charset-normalizer&lt;4,&gt;=2 in c:\users\pisihara\appdata\local\anaconda3\lib\site-packages (from requests-&gt;folium) (2.0.4)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in c:\users\pisihara\appdata\local\anaconda3\lib\site-packages (from requests-&gt;folium) (3.4)
Requirement already satisfied: urllib3&lt;1.27,&gt;=1.21.1 in c:\users\pisihara\appdata\local\anaconda3\lib\site-packages (from requests-&gt;folium) (1.26.16)
Requirement already satisfied: certifi&gt;=2017.4.17 in c:\users\pisihara\appdata\local\anaconda3\lib\site-packages (from requests-&gt;folium) (2023.5.7)
Installing collected packages: branca, folium
Successfully installed branca-0.6.0 folium-0.14.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">folium</span> <span class="c1"># map rendering library</span>
<span class="kn">from</span> <span class="nn">folium.features</span> <span class="kn">import</span> <span class="n">DivIcon</span> <span class="c1">#used to add popup info to a map</span>
<span class="n">Chicago_map</span> <span class="o">=</span> <span class="n">folium</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="p">[</span><span class="mf">41.886456</span><span class="p">,</span> <span class="o">-</span><span class="mf">87.62325</span><span class="p">],</span>  <span class="n">tiles</span><span class="o">=</span><span class="s2">&quot;openstreetmap&quot;</span><span class="p">,</span> <span class="n">zoom_start</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">Chicago_map</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-1.12.4.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_f5dc590a7cedb642037017ffbc42559d {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_f5dc590a7cedb642037017ffbc42559d&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_f5dc590a7cedb642037017ffbc42559d = L.map(
                &quot;map_f5dc590a7cedb642037017ffbc42559d&quot;,
                {
                    center: [41.886456, -87.62325],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_06875a5bace08542c5024e09f9293993 = L.tileLayer(
                &quot;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;Data by \u0026copy; \u003ca target=\&quot;_blank\&quot; href=\&quot;http://openstreetmap.org\&quot;\u003eOpenStreetMap\u003c/a\u003e, under \u003ca target=\&quot;_blank\&quot; href=\&quot;http://www.openstreetmap.org/copyright\&quot;\u003eODbL\u003c/a\u003e.&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 18, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            ).addTo(map_f5dc590a7cedb642037017ffbc42559d);
        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<p><strong>Q2</strong></p>
<p>Try adjusting the “zoom_start” value. What happens?</p>
<p>What happens if you change the numbers in location=[41.886456, -87.62325]”</p>
<p><strong>STEP THREE</strong>
Let’s add our data about famous Chicagoans to the map.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Chicago_map</span><span class="o">=</span><span class="n">folium</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="p">[</span><span class="mf">41.886456</span><span class="p">,</span><span class="o">-</span><span class="mf">87.62325</span><span class="p">],</span><span class="n">tiles</span><span class="o">=</span><span class="s2">&quot;openstreetmap&quot;</span><span class="p">,</span><span class="n">zoom_start</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">Chi</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
    <span class="n">p</span><span class="o">=</span><span class="p">[</span><span class="n">Chi</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Lat&quot;</span><span class="p">],</span><span class="n">Chi</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Lon&quot;</span><span class="p">]]</span>
    <span class="n">folium</span><span class="o">.</span><span class="n">Marker</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">icon</span><span class="o">=</span><span class="n">DivIcon</span><span class="p">(</span>
        <span class="n">icon_size</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
        <span class="n">icon_anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span>
        <span class="n">html</span><span class="o">=</span><span class="s1">&#39;&lt;div style=&quot;font-size:20pt; color:red&quot;&gt;&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">Chi</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Name&quot;</span><span class="p">])</span> <span class="o">+</span><span class="s1">&#39;&lt;/div&gt;&#39;</span><span class="p">,</span>
            <span class="p">))</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">Chicago_map</span><span class="p">)</span>
    <span class="n">Chicago_map</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">folium</span><span class="o">.</span><span class="n">CircleMarker</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">))</span>
<span class="n">Chicago_map</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;Chicagoans.html&quot;</span><span class="p">)</span>
<span class="n">Chicago_map</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-1.12.4.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_085c04085ead1c5ee11ba69f3f96b24f {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_085c04085ead1c5ee11ba69f3f96b24f&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_085c04085ead1c5ee11ba69f3f96b24f = L.map(
                &quot;map_085c04085ead1c5ee11ba69f3f96b24f&quot;,
                {
                    center: [41.886456, -87.62325],
                    crs: L.CRS.EPSG3857,
                    zoom: 11,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_157d3b36b0b8b5ac13fececae0835401 = L.tileLayer(
                &quot;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;Data by \u0026copy; \u003ca target=\&quot;_blank\&quot; href=\&quot;http://openstreetmap.org\&quot;\u003eOpenStreetMap\u003c/a\u003e, under \u003ca target=\&quot;_blank\&quot; href=\&quot;http://www.openstreetmap.org/copyright\&quot;\u003eODbL\u003c/a\u003e.&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 18, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            ).addTo(map_085c04085ead1c5ee11ba69f3f96b24f);
        
    
            var marker_dfca7fc64dd9bf021d619e25c4f3b9ea = L.marker(
                [41.802665, -87.613657],
                {}
            ).addTo(map_085c04085ead1c5ee11ba69f3f96b24f);
        
    
            var div_icon_840ba35d3b9c5dd584f337a1b490a342 = L.divIcon({&quot;className&quot;: &quot;empty&quot;, &quot;html&quot;: &quot;\u003cdiv style=\&quot;font-size:20pt; color:red\&quot;\u003eMichelle Obama\u003c/div\u003e&quot;, &quot;iconAnchor&quot;: [0, 8], &quot;iconSize&quot;: [100, 0]});
            marker_dfca7fc64dd9bf021d619e25c4f3b9ea.setIcon(div_icon_840ba35d3b9c5dd584f337a1b490a342);
        
    
            var circle_marker_87c9a6e7279ab3762d93c15cb0b3f469 = L.circleMarker(
                [41.802665, -87.613657],
                {&quot;bubblingMouseEvents&quot;: true, &quot;color&quot;: &quot;black&quot;, &quot;dashArray&quot;: null, &quot;dashOffset&quot;: null, &quot;fill&quot;: false, &quot;fillColor&quot;: &quot;black&quot;, &quot;fillOpacity&quot;: 0.2, &quot;fillRule&quot;: &quot;evenodd&quot;, &quot;lineCap&quot;: &quot;round&quot;, &quot;lineJoin&quot;: &quot;round&quot;, &quot;opacity&quot;: 1.0, &quot;radius&quot;: 1, &quot;stroke&quot;: true, &quot;weight&quot;: 3}
            ).addTo(map_085c04085ead1c5ee11ba69f3f96b24f);
        
    
            var marker_8c3796e9ddc548963d0fdd92751cd9d1 = L.marker(
                [41.8631, -87.6231],
                {}
            ).addTo(map_085c04085ead1c5ee11ba69f3f96b24f);
        
    
            var div_icon_419d49dc020b22588b5255a47dad5d7e = L.divIcon({&quot;className&quot;: &quot;empty&quot;, &quot;html&quot;: &quot;\u003cdiv style=\&quot;font-size:20pt; color:red\&quot;\u003eRobin Williams\u003c/div\u003e&quot;, &quot;iconAnchor&quot;: [0, 8], &quot;iconSize&quot;: [100, 0]});
            marker_8c3796e9ddc548963d0fdd92751cd9d1.setIcon(div_icon_419d49dc020b22588b5255a47dad5d7e);
        
    
            var circle_marker_c018fec187a376d9d0cc0112842a0fb9 = L.circleMarker(
                [41.8631, -87.6231],
                {&quot;bubblingMouseEvents&quot;: true, &quot;color&quot;: &quot;black&quot;, &quot;dashArray&quot;: null, &quot;dashOffset&quot;: null, &quot;fill&quot;: false, &quot;fillColor&quot;: &quot;black&quot;, &quot;fillOpacity&quot;: 0.2, &quot;fillRule&quot;: &quot;evenodd&quot;, &quot;lineCap&quot;: &quot;round&quot;, &quot;lineJoin&quot;: &quot;round&quot;, &quot;opacity&quot;: 1.0, &quot;radius&quot;: 1, &quot;stroke&quot;: true, &quot;weight&quot;: 3}
            ).addTo(map_085c04085ead1c5ee11ba69f3f96b24f);
        
    
            var marker_289bf10ba01c263b1de33877984ed87d = L.marker(
                [41.907879, -87.732594],
                {}
            ).addTo(map_085c04085ead1c5ee11ba69f3f96b24f);
        
    
            var div_icon_7af8863d575fcc7c478ad68dfea1fa14 = L.divIcon({&quot;className&quot;: &quot;empty&quot;, &quot;html&quot;: &quot;\u003cdiv style=\&quot;font-size:20pt; color:red\&quot;\u003eWalt Disney\u003c/div\u003e&quot;, &quot;iconAnchor&quot;: [0, 8], &quot;iconSize&quot;: [100, 0]});
            marker_289bf10ba01c263b1de33877984ed87d.setIcon(div_icon_7af8863d575fcc7c478ad68dfea1fa14);
        
    
            var circle_marker_490145421e53b39cfdb9ce689b020661 = L.circleMarker(
                [41.907879, -87.732594],
                {&quot;bubblingMouseEvents&quot;: true, &quot;color&quot;: &quot;black&quot;, &quot;dashArray&quot;: null, &quot;dashOffset&quot;: null, &quot;fill&quot;: false, &quot;fillColor&quot;: &quot;black&quot;, &quot;fillOpacity&quot;: 0.2, &quot;fillRule&quot;: &quot;evenodd&quot;, &quot;lineCap&quot;: &quot;round&quot;, &quot;lineJoin&quot;: &quot;round&quot;, &quot;opacity&quot;: 1.0, &quot;radius&quot;: 1, &quot;stroke&quot;: true, &quot;weight&quot;: 3}
            ).addTo(map_085c04085ead1c5ee11ba69f3f96b24f);
        
    
            var marker_0358ebb6b06d854d26801d87d4fb859b = L.marker(
                [41.884116, -87.637656],
                {}
            ).addTo(map_085c04085ead1c5ee11ba69f3f96b24f);
        
    
            var div_icon_ea3062e268afc4031e3b2e7a119e545c = L.divIcon({&quot;className&quot;: &quot;empty&quot;, &quot;html&quot;: &quot;\u003cdiv style=\&quot;font-size:20pt; color:red\&quot;\u003eBobby Fischer\u003c/div\u003e&quot;, &quot;iconAnchor&quot;: [0, 8], &quot;iconSize&quot;: [100, 0]});
            marker_0358ebb6b06d854d26801d87d4fb859b.setIcon(div_icon_ea3062e268afc4031e3b2e7a119e545c);
        
    
            var circle_marker_7ae5cac318135cd31e8f958bcc03f861 = L.circleMarker(
                [41.884116, -87.637656],
                {&quot;bubblingMouseEvents&quot;: true, &quot;color&quot;: &quot;black&quot;, &quot;dashArray&quot;: null, &quot;dashOffset&quot;: null, &quot;fill&quot;: false, &quot;fillColor&quot;: &quot;black&quot;, &quot;fillOpacity&quot;: 0.2, &quot;fillRule&quot;: &quot;evenodd&quot;, &quot;lineCap&quot;: &quot;round&quot;, &quot;lineJoin&quot;: &quot;round&quot;, &quot;opacity&quot;: 1.0, &quot;radius&quot;: 1, &quot;stroke&quot;: true, &quot;weight&quot;: 3}
            ).addTo(map_085c04085ead1c5ee11ba69f3f96b24f);
        
    
            var marker_e52e7cf0c8c75db3ae92801fb3ef1821 = L.marker(
                [41.874827, -87.710075],
                {}
            ).addTo(map_085c04085ead1c5ee11ba69f3f96b24f);
        
    
            var div_icon_4df4c892058536ef650850099fff2214 = L.divIcon({&quot;className&quot;: &quot;empty&quot;, &quot;html&quot;: &quot;\u003cdiv style=\&quot;font-size:20pt; color:red\&quot;\u003eIsiah Thomas\u003c/div\u003e&quot;, &quot;iconAnchor&quot;: [0, 8], &quot;iconSize&quot;: [100, 0]});
            marker_e52e7cf0c8c75db3ae92801fb3ef1821.setIcon(div_icon_4df4c892058536ef650850099fff2214);
        
    
            var circle_marker_7d9c5a2d2c74e6ddf2930d9b7877eca0 = L.circleMarker(
                [41.874827, -87.710075],
                {&quot;bubblingMouseEvents&quot;: true, &quot;color&quot;: &quot;black&quot;, &quot;dashArray&quot;: null, &quot;dashOffset&quot;: null, &quot;fill&quot;: false, &quot;fillColor&quot;: &quot;black&quot;, &quot;fillOpacity&quot;: 0.2, &quot;fillRule&quot;: &quot;evenodd&quot;, &quot;lineCap&quot;: &quot;round&quot;, &quot;lineJoin&quot;: &quot;round&quot;, &quot;opacity&quot;: 1.0, &quot;radius&quot;: 1, &quot;stroke&quot;: true, &quot;weight&quot;: 3}
            ).addTo(map_085c04085ead1c5ee11ba69f3f96b24f);
        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<p><strong>Q3</strong> What side of the city was Michelle Obama born?</p>
<p><strong>STEP FOUR</strong>
Let’s make a function which can add another person to our dataframe called Chi</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">addperson</span><span class="p">(</span><span class="n">map_name</span><span class="p">,</span><span class="n">df</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">age</span><span class="p">,</span><span class="n">alive</span><span class="p">,</span><span class="n">noted</span><span class="p">,</span><span class="n">birth</span><span class="p">,</span><span class="n">zipcode</span><span class="p">,</span><span class="n">lat</span><span class="p">,</span><span class="n">lon</span><span class="p">,</span><span class="n">fact</span><span class="p">):</span>
    <span class="n">our_map</span><span class="o">=</span><span class="n">map_name</span> 
    <span class="n">new_row</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Name&#39;</span><span class="p">:</span><span class="n">name</span><span class="p">,</span> 
                   <span class="s1">&#39;Age&#39;</span><span class="p">:</span><span class="n">age</span><span class="p">,</span> 
                   <span class="s1">&#39;Alive&#39;</span><span class="p">:</span><span class="n">alive</span><span class="p">,</span>
                   <span class="s1">&#39;Noted For&#39;</span><span class="p">:</span><span class="n">noted</span><span class="p">,</span>
                    <span class="s1">&#39;Place of Birth&#39;</span><span class="p">:</span><span class="n">birth</span><span class="p">,</span>
                    <span class="s1">&#39;Zip&#39;</span><span class="p">:</span><span class="n">zipcode</span><span class="p">,</span>
                    <span class="s1">&#39;Lat&#39;</span><span class="p">:</span><span class="n">lat</span><span class="p">,</span>
                    <span class="s1">&#39;Lon&#39;</span><span class="p">:</span><span class="n">lon</span><span class="p">,</span>
                    <span class="s1">&#39;fun fact&#39;</span><span class="p">:</span><span class="n">fact</span>            <span class="p">}</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">new_row</span><span class="p">])],</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">i</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span>
    <span class="n">p</span><span class="o">=</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Lat&quot;</span><span class="p">],</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Lon&quot;</span><span class="p">]]</span>
    <span class="n">folium</span><span class="o">.</span><span class="n">Marker</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">icon</span><span class="o">=</span><span class="n">DivIcon</span><span class="p">(</span>
        <span class="n">icon_size</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
        <span class="n">icon_anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span>
        <span class="n">html</span><span class="o">=</span><span class="s1">&#39;&lt;div style=&quot;font-size: 15pt; color : blue&quot;&gt;&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Name&quot;</span><span class="p">])</span> <span class="o">+</span><span class="s1">&#39;&lt;/div&gt;&#39;</span><span class="p">,</span>
            <span class="p">))</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">our_map</span><span class="p">)</span>
    <span class="n">our_map</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">folium</span><span class="o">.</span><span class="n">CircleMarker</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">df</span><span class="p">,</span><span class="n">our_map</span>
</pre></div>
</div>
</div>
</details>
</div>
<p><strong>Q4</strong> What command is used to add a new line to the dataframe df?</p>
<p><strong>STEP FIVE</strong>
Let’s add Jenifer Hudson to our dataframe using the following info:</p>
<p>‘Jennifer Hudson’,38,‘yes’,‘Actress’,‘Englewood’,60621,41.779699,-87.633194,‘worked at Burger King’</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Chi</span><span class="p">,</span><span class="n">Chicago_map</span><span class="p">]</span><span class="o">=</span><span class="n">addperson</span><span class="p">(</span><span class="n">Chicago_map</span><span class="p">,</span><span class="n">Chi</span><span class="p">,</span><span class="s1">&#39;Jennifer Hudson&#39;</span><span class="p">,</span><span class="s1">&#39;Actress&#39;</span><span class="p">,</span><span class="mi">41</span><span class="p">,</span><span class="s1">&#39;yes&#39;</span><span class="p">,</span><span class="s1">&#39;Englewood&#39;</span><span class="p">,</span><span class="mi">60621</span><span class="p">,</span><span class="mf">41.779699</span><span class="p">,</span><span class="o">-</span><span class="mf">87.633194</span><span class="p">,</span><span class="s1">&#39;worked at Burger King&#39;</span><span class="p">)</span>
<span class="n">Chicago_map</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="p">[</span><span class="n">Chi</span><span class="p">,</span><span class="n">Chicago_map</span><span class="p">]</span><span class="o">=</span><span class="n">addperson</span><span class="p">(</span><span class="n">Chicago_map</span><span class="p">,</span><span class="n">Chi</span><span class="p">,</span><span class="s1">&#39;Jennifer Hudson&#39;</span><span class="p">,</span><span class="s1">&#39;Actress&#39;</span><span class="p">,</span><span class="mi">41</span><span class="p">,</span><span class="s1">&#39;yes&#39;</span><span class="p">,</span><span class="s1">&#39;Englewood&#39;</span><span class="p">,</span><span class="mi">60621</span><span class="p">,</span><span class="mf">41.779699</span><span class="p">,</span><span class="o">-</span><span class="mf">87.633194</span><span class="p">,</span><span class="s1">&#39;worked at Burger King&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">Chicago_map</span>

<span class="ne">NameError</span>: name &#39;addperson&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p><strong>Q5</strong> Where did Jennifer Hudson work before becoming famous?</p>
<p><strong>STEP SIX</strong>
Add your info to the map by editing the info in the next cell.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#answer to Step Six</span>
</pre></div>
</div>
</div>
</div>
<p><strong>STEP SEVEN</strong>
Use the following two commands to save your map and info in a new Excel file:</p>
<p>Chicago_map.save(“Chicagoans.html”)</p>
<p>Chi.to_excel(‘ChiRevised.xlsx’)</p>
<p>Enter and run the commands in the cell below.</p>
<p><strong>Q7</strong> Did your map display correctly?  Did the new Excel file include your name?</p>
<div class="admonition-discussion admonition">
<p class="admonition-title">Discussion</p>
<ol class="arabic simple">
<li><p>Whom do you admire?  Why so?</p></li>
<li><p>What character qualities can help someone to be successful in life?</p></li>
<li><p>What can help you to be more successful?</p></li>
</ol>
</div>
</section>
<section id="predicting-exemplary-schools">
<h2><span class="section-number">2.4.4. </span>Predicting Exemplary Schools<a class="headerlink" href="#predicting-exemplary-schools" title="Link to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This section is a friendly competition predict whether a K-8 Chicago school’s IL State Board of Education Summative Designation is designated ‘Exemplary’ (the ‘Non-Exemplary’ school categories are “Commendable”, “Targeted”, and “Comprehensive”).</p>
<p>The prediction will be based on the file MiddleSchool.xlsx with the following data:</p>
<ul class="simple">
<li><p>Student Enrollment - Black or African American</p></li>
<li><p>Student Enrollment - Hispanic or Latino</p></li>
<li><p>Student Enrollment - Children with Disabilities</p></li>
<li><p>Student Enrollment - Low Income</p></li>
<li><p>Total Number of School Days</p></li>
<li><p>8th Grade Passing Algebra 1</p></li>
<li><p>Student Attendance Rate</p></li>
<li><p>Student Chronic Truancy Rate</p></li>
<li><p>Avg Class Size – All Grades</p></li>
<li><p>Teacher Retention Rate</p></li>
</ul>
</div>
<p id="index-12"><span id="index-11"></span><span id="index-10"></span><span id="index-9"></span><span id="index-8"></span><span id="index-7"></span><span id="index-6"></span><span id="index-5"></span><span id="index-4"></span><strong>Scoring</strong></p>
<p>Scoring for our competition is based on values for the <strong>Confusion Matrix</strong>:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{pmatrix}
TP &amp; FN \\
FP &amp; TN 
\end{pmatrix}
\end{split}\]</div>
<p>where</p>
<ul class="simple">
<li><p>TP=True Positive: your model predicts exemplary and the school is exemplary</p></li>
<li><p>TN=True Negative: your model predicts not exemplary and the school is not exemplary</p></li>
<li><p>FP=False Positive: your model predicts exemplary but the school is not exemplary</p></li>
<li><p>FN=False Negative: your model predicts not exemplary but the school is exemplary</p></li>
</ul>
<p>The number of each type of prediction then determines</p>
<ul class="simple">
<li><p><strong>Accuracy</strong> = <span class="math notranslate nohighlight">\(\frac{\mid TP\mid + \mid TN \mid}{\mid TP\mid + \mid TN \mid+ \mid FP\mid + \mid FN \mid}\)</span>    (proportion that were correctly predicted out of all the schools)</p></li>
<li><p><strong>Specificity (Precision)</strong> = <span class="math notranslate nohighlight">\(\frac{\mid TP\mid}{\mid TP\mid + \mid FP\mid }\)</span> (proportion that were correct out of those you predicted to be exemplary)</p></li>
<li><p><strong>Sensitivity (Recall)</strong> = <span class="math notranslate nohighlight">\(\frac{\mid TP\mid}{\mid TP\mid + \mid FN\mid }\)</span> (proportion that you predicted correctly among just the exemplary schools)</p></li>
</ul>
<p>Your competition (F1) score is the geometric mean of the precision (specificity), and recall(sensitivity):</p>
<div class="math notranslate nohighlight">
\[
F_1=2\frac{precision*recall}{precision+recall}
\]</div>
<p><strong>STEP ONE</strong> Exploratory Data Analysis
1a) Import the usual libraries including matplotlib.pyplot as plt, as well as the MiddleSchool report card data into a datframe df.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s2">&quot;MiddleSchool.xlsx&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>School Name</th>
      <th>School Type</th>
      <th>Grades Served</th>
      <th>Summative Designation</th>
      <th># Student Enrollment</th>
      <th>% Student Enrollment - Black or African American</th>
      <th>% Student Enrollment - Hispanic or Latino</th>
      <th>% Student Enrollment - Children with Disabilities</th>
      <th>% Student Enrollment - Low Income</th>
      <th>Total Number of School Days</th>
      <th>% 8th Grade Passing Algebra 1</th>
      <th>Student Attendance Rate</th>
      <th>Student Chronic Truancy Rate</th>
      <th>Avg Class Size – All Grades</th>
      <th>Teacher Retention Rate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Barbour Two-Way Lang Immersion</td>
      <td>ELEMENTARY</td>
      <td>K 1 2 3 4 5 6 7 8</td>
      <td>Commendable</td>
      <td>779</td>
      <td>6.0</td>
      <td>84.3</td>
      <td>6.5</td>
      <td>72.9</td>
      <td>181</td>
      <td>0.0</td>
      <td>96.1</td>
      <td>7.4</td>
      <td>26.2</td>
      <td>91.4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Galapagos Rockford Charter Sch</td>
      <td>CHARTER SCH</td>
      <td>K 1 2 3 4 5 6 7 8</td>
      <td>Commendable</td>
      <td>343</td>
      <td>60.1</td>
      <td>18.4</td>
      <td>16.6</td>
      <td>44.3</td>
      <td>181</td>
      <td>0.0</td>
      <td>95.8</td>
      <td>29.6</td>
      <td>19.1</td>
      <td>44.2</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><strong>1b)</strong> Display the column names and the number of data rows in each column.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>School Name                                          122
School Type                                          122
Grades Served                                        122
Summative Designation                                122
# Student Enrollment                                 122
% Student Enrollment - Black or African American     122
% Student Enrollment - Hispanic or Latino            122
% Student Enrollment - Children with Disabilities    122
% Student Enrollment - Low Income                    122
Total Number of School Days                          122
% 8th Grade Passing Algebra 1                        122
Student Attendance Rate                              122
Student Chronic Truancy Rate                         122
Avg Class Size – All Grades                          122
Teacher Retention Rate                               122
dtype: int64
</pre></div>
</div>
</div>
</div>
<p><strong>1c</strong> Get the max and min values in each column.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">n1min</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;# Student Enrollment&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">n1max</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;# Student Enrollment&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="n">n2min</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;% Student Enrollment - Black or African American&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">n2max</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;% Student Enrollment - Black or African American&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="n">n3min</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;% Student Enrollment - Hispanic or Latino&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">n3max</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;% Student Enrollment - Hispanic or Latino&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="n">n4min</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;% Student Enrollment - Children with Disabilities&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">n4max</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;% Student Enrollment - Children with Disabilities&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="n">n5min</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;% Student Enrollment - Low Income&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">n5max</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;% Student Enrollment - Low Income&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="n">n6min</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Total Number of School Days&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">n6max</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Total Number of School Days&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="n">n7min</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;% 8th Grade Passing Algebra 1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">n7max</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;% 8th Grade Passing Algebra 1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="n">n8min</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Student Attendance Rate&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">n8max</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Student Attendance Rate&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="n">n9min</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Student Chronic Truancy Rate&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">n9max</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Student Chronic Truancy Rate&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="n">n10min</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Avg Class Size – All Grades&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">n10max</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Avg Class Size – All Grades&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="n">n11min</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Teacher Retention Rate&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">n11max</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Teacher Retention Rate&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;min enroll&quot;</span><span class="p">,</span><span class="n">n1min</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;max enroll&quot;</span><span class="p">,</span><span class="n">n1max</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;min % Student Enrollment - Black or African American&quot;</span><span class="p">,</span><span class="n">n2min</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;max % Student Enrollment - Black or African American&quot;</span><span class="p">,</span><span class="n">n2max</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;min % Student Enrollment - Hispanic or Latino&quot;</span><span class="p">,</span><span class="n">n3min</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;max % Student Enrollment - Hispanic or Latino&quot;</span><span class="p">,</span><span class="n">n3max</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;min % Student Enrollment - Children with Disabilities&quot;</span><span class="p">,</span><span class="n">n4min</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;max % Student Enrollment - Children with Disabilities&quot;</span><span class="p">,</span><span class="n">n4max</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;min % Student Enrollment - Low Income&quot;</span><span class="p">,</span><span class="n">n5min</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;max % Student Enrollment - Low Income&quot;</span><span class="p">,</span><span class="n">n5max</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;min Total Number of School Days&quot;</span><span class="p">,</span><span class="n">n6min</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;max Total Number of School Days&quot;</span><span class="p">,</span><span class="n">n6max</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;min % 8th Grade Passing Algebra 1&quot;</span><span class="p">,</span><span class="n">n7min</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;max % 8th Grade Passing Algebra 1&quot;</span><span class="p">,</span><span class="n">n7max</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;min Student Attendance Rate&quot;</span><span class="p">,</span><span class="n">n8min</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;max Student Attendance Rate&quot;</span><span class="p">,</span><span class="n">n8max</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;min Student Chronic Truancy Rate&quot;</span><span class="p">,</span><span class="n">n9min</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;max Student Chronic Truancy Rate&quot;</span><span class="p">,</span><span class="n">n9max</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Avg Class Size – All Grades&quot;</span><span class="p">,</span><span class="n">n10min</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Avg Class Size – All Grades&quot;</span><span class="p">,</span><span class="n">n10max</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Teacher Retention Rate&quot;</span><span class="p">,</span><span class="n">n11min</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Teacher Retention Rate&quot;</span><span class="p">,</span><span class="n">n11max</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>min enroll 92
max enroll 1306
min % Student Enrollment - Black or African American 0.2
max % Student Enrollment - Black or African American 99.5
min % Student Enrollment - Hispanic or Latino 0.5
max % Student Enrollment - Hispanic or Latino 99.8
min % Student Enrollment - Children with Disabilities 5.8
max % Student Enrollment - Children with Disabilities 56.3
min % Student Enrollment - Low Income 0.3
max % Student Enrollment - Low Income 99.6
min Total Number of School Days 174
max Total Number of School Days 186
min % 8th Grade Passing Algebra 1 0.0
max % 8th Grade Passing Algebra 1 100.0
min Student Attendance Rate 91.1
max Student Attendance Rate 99.7
min Student Chronic Truancy Rate 0.0
max Student Chronic Truancy Rate 46.2
Avg Class Size – All Grades 2.0
Avg Class Size – All Grades 31.6
Teacher Retention Rate 0.0
Teacher Retention Rate 100.0
</pre></div>
</div>
</div>
</div>
<p><strong>1d</strong> Check how many schools are in each category.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Summative Designation&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Commendable      102
Targeted           8
Exemplary          6
Comprehensive      6
Name: Summative Designation, dtype: int64
</pre></div>
</div>
</div>
</div>
<p><strong>STEP TWO</strong>
Define a function which predicts whether a school is exemplary (1) or not-exemplary (0).</p>
<p><strong>2a</strong> For a simple prediction, let us predict that a school is exemplary if the Teacher Retention Rate is at least 90%.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#---PREDICTION MODEL----#</span>
<span class="k">def</span> <span class="nf">mypredict</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Teacher Retention Rate&quot;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">90</span><span class="p">:</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Prediction&quot;</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Prediction&quot;</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span>
    <span class="k">return</span> <span class="n">df</span>

<span class="c1">#---APPLY MODEL TO OUR DATA---#</span>
<span class="n">mydf</span><span class="o">=</span><span class="n">mypredict</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">mydf</span><span class="o">=</span><span class="n">mydf</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1">#---COMPUTE YOUR SCORE---#</span>
<span class="n">TP</span><span class="o">=</span><span class="mi">0</span>
<span class="n">TN</span><span class="o">=</span><span class="mi">0</span>
<span class="n">FP</span><span class="o">=</span><span class="mi">0</span>
<span class="n">FN</span><span class="o">=</span><span class="mi">0</span>
<span class="n">numschools</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">mydf</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">mydf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Prediction&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">mydf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Summative Designation&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;Exemplary&quot;</span><span class="p">:</span>
        <span class="n">TP</span><span class="o">=</span><span class="n">TP</span><span class="o">+</span><span class="mi">1</span>
    <span class="k">if</span> <span class="n">mydf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Prediction&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span> <span class="ow">and</span> <span class="n">mydf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Summative Designation&quot;</span><span class="p">]</span><span class="o">!=</span><span class="s2">&quot;Exemplary&quot;</span><span class="p">:</span>
        <span class="n">TN</span><span class="o">=</span><span class="n">TN</span><span class="o">+</span><span class="mi">1</span>
    <span class="k">if</span> <span class="n">mydf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Prediction&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">mydf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Summative Designation&quot;</span><span class="p">]</span><span class="o">!=</span><span class="s2">&quot;Exemplary&quot;</span><span class="p">:</span>
        <span class="n">FP</span><span class="o">=</span><span class="n">FP</span><span class="o">+</span><span class="mi">1</span>
    <span class="k">if</span> <span class="n">mydf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Prediction&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span> <span class="ow">and</span> <span class="n">mydf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Summative Designation&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;Exemplary&quot;</span><span class="p">:</span>
        <span class="n">FN</span><span class="o">=</span><span class="n">FN</span><span class="o">+</span><span class="mi">1</span>
    <span class="n">numschools</span><span class="o">=</span><span class="n">numschools</span><span class="o">+</span><span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;|TP|=&quot;</span><span class="p">,</span><span class="n">TP</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;|TN|=&quot;</span><span class="p">,</span><span class="n">TN</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;|FP|=&quot;</span><span class="p">,</span><span class="n">FP</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;|FN|=&quot;</span><span class="p">,</span><span class="n">FN</span><span class="p">)</span>
<span class="n">accuracy</span><span class="o">=</span><span class="nb">round</span><span class="p">((</span><span class="n">TP</span><span class="o">+</span><span class="n">TN</span><span class="p">)</span><span class="o">/</span><span class="n">numschools</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">precision</span><span class="o">=</span><span class="nb">round</span><span class="p">(</span><span class="n">TP</span><span class="o">/</span><span class="p">(</span><span class="n">TP</span><span class="o">+</span><span class="n">FP</span><span class="p">),</span><span class="mi">2</span><span class="p">)</span>
<span class="n">recall</span><span class="o">=</span><span class="nb">round</span><span class="p">(</span><span class="n">TP</span><span class="o">/</span><span class="p">(</span><span class="n">TP</span><span class="o">+</span><span class="n">FN</span><span class="p">),</span><span class="mi">2</span><span class="p">)</span>
<span class="n">F1score</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">precision</span><span class="o">*</span><span class="n">recall</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">precision</span><span class="o">+</span><span class="n">recall</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Accuracy (</span><span class="si">% c</span><span class="s2">orrect all 122 schools)=&quot;</span><span class="p">,</span><span class="mi">100</span><span class="o">*</span><span class="n">accuracy</span><span class="p">,</span><span class="s2">&quot;%&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Precision (</span><span class="si">% c</span><span class="s2">orrect of those you predicted to be exemplary) =&quot;</span><span class="p">,</span><span class="mi">100</span><span class="o">*</span><span class="n">precision</span><span class="p">,</span><span class="s2">&quot;%&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recall (</span><span class="si">% c</span><span class="s2">orrect of schools that are exemplary) =&quot;</span><span class="p">,</span><span class="mi">100</span><span class="o">*</span><span class="n">recall</span><span class="p">,</span><span class="s2">&quot;%&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;COMPETITION F1 SCORE=&#39;</span><span class="p">,</span><span class="nb">round</span><span class="p">(</span><span class="n">F1score</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&quot;%&quot;</span> <span class="p">)</span>
    
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>|TP|= 5
|TN|= 70
|FP|= 46
|FN|= 1
Accuracy (% correct all 122 schools)= 61.0 %
Precision (% correct of those you predicted to be exemplary) = 10.0 %
Recall (% correct of schools that are exemplary) = 83.0 %
COMPETITION F1 SCORE= 17.85 %
</pre></div>
</div>
</div>
</div>
<section id="assignment">
<h3>Assignment<a class="headerlink" href="#assignment" title="Link to this heading">#</a></h3>
<div class="admonition-assignment admonition">
<p class="admonition-title">Assignment</p>
<p>Modify the Prediction Model to see how high you can score.</p>
</div>
</section>
</section>
<section id="the-great-migration">
<h2><span class="section-number">2.4.5. </span>The Great Migration<a class="headerlink" href="#the-great-migration" title="Link to this heading">#</a></h2>
<p>DATASETS:</p>
<p>migration.xlsx (source <a class="reference external" href="https://www.census.gov/dataviz/visualizations/020/508.php">https://www.census.gov/dataviz/visualizations/020/508.php</a>);
uscities.xlsx ((<a class="reference external" href="https://simplemaps.com/data/us-cities">https://simplemaps.com/data/us-cities</a>))</p>
<p>SUMMARY: We create a heat map to show the %change in African Americans living in cities in the Northern and Southern USA as a result of the Great Migrations. Those with the largest increase (over 20%) were all in the North.</p>
<p>BACKGROUND:  Isabel Wilkerson gives a good introduction to the Great Migration. (Run the next cell)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">YouTubeVideo</span>
<span class="n">YouTubeVideo</span><span class="p">(</span><span class="s1">&#39;n3qA8DNc2Ss&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
        <iframe
            width="400"
            height="300"
            src="https://www.youtube.com/embed/n3qA8DNc2Ss"
            frameborder="0"
            allowfullscreen
            
        ></iframe>
        </div></div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import Libraries</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> 
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span> 
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span> 
</pre></div>
</div>
</div>
</details>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">### Creating a Dataframe with %Changes in African American Population by (Lat,Lon) Location</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple">
<li><p>Use pandas to import the datafile migration.xlsx into a dataframe called migration.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">migration</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;migration.xlsx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="2">
<li><p>Display the first two rows of migration.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">migration</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>City and State</th>
      <th>Percentage-point change in Black population 1940-1970</th>
      <th>Percentage-point change in Black population 1910-1940</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Aberdeen, SD</td>
      <td>-0.5</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Abilene, TX</td>
      <td>-0.8</td>
      <td>0.1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Shorten the column names (MIg1=1st Great Migration, Mig2=2nd Great Migration), separate the City and State, and create a multi-index with city and state.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">migdf</span><span class="o">=</span><span class="n">migration</span> <span class="c1">#make a copy of the original dataframe</span>
<span class="n">migdf</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;City&quot;</span><span class="p">,</span><span class="s2">&quot;Mig2&quot;</span><span class="p">,</span><span class="s2">&quot;Mig1&quot;</span><span class="p">]</span> <span class="c1">#rename the columns</span>
<span class="n">migdf</span><span class="p">[</span><span class="s2">&quot;city&quot;</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;city&quot;</span>  <span class="c1">#create a column for the city</span>
<span class="n">migdf</span><span class="p">[</span><span class="s2">&quot;state&quot;</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;state&quot;</span>  <span class="c1">#create a column for the state</span>
<span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">migdf</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
    <span class="n">x</span><span class="o">=</span><span class="n">migdf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">m</span><span class="p">,</span><span class="s2">&quot;City&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="p">)</span>  <span class="c1">#split the city from the state</span>
    <span class="n">migdf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">m</span><span class="p">,</span><span class="s2">&quot;city&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1">#add the city to the city column</span>
    <span class="n">migdf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">m</span><span class="p">,</span><span class="s2">&quot;state&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="c1">#add the state to the state column</span>
<span class="n">migdf</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;City&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1">#Drop the original City column</span>
<span class="n">migdf</span><span class="o">=</span><span class="n">migdf</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="s2">&quot;city&quot;</span><span class="p">,</span><span class="s2">&quot;state&quot;</span><span class="p">],</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1">#create multi-index</span>
<span class="n">migdf</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>Mig2</th>
      <th>Mig1</th>
    </tr>
    <tr>
      <th>city</th>
      <th>state</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Aberdeen</th>
      <th>SD</th>
      <td>-0.5</td>
      <td>0</td>
    </tr>
    <tr>
      <th>Abilene</th>
      <th>TX</th>
      <td>-0.8</td>
      <td>0.1</td>
    </tr>
    <tr>
      <th>Akron</th>
      <th>OH</th>
      <td>4.1</td>
      <td>12.5</td>
    </tr>
    <tr>
      <th>Albany</th>
      <th>NY</th>
      <td>1.2</td>
      <td>10</td>
    </tr>
    <tr>
      <th>Albuquerque</th>
      <th>NM</th>
      <td>-0.7</td>
      <td>0.7</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Read the lat lon data for US cities in the file “uscities.xlsx” and make [“city”,“state”] the multi-index.</p></li>
</ol>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rawlatlon</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s2">&quot;uscities.xlsx&quot;</span><span class="p">)</span> <span class="c1">#read data</span>
<span class="n">latlon</span><span class="o">=</span><span class="n">rawlatlon</span><span class="p">[[</span><span class="s2">&quot;city_ascii&quot;</span><span class="p">,</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span><span class="s2">&quot;lng&quot;</span><span class="p">,</span><span class="s2">&quot;state_id&quot;</span><span class="p">]]</span> <span class="c1">#select columns</span>
<span class="n">latlon</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;city&quot;</span><span class="p">,</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span><span class="s2">&quot;lon&quot;</span><span class="p">,</span><span class="s2">&quot;state&quot;</span><span class="p">]</span> <span class="c1">#rename columns</span>
<span class="n">latlon</span><span class="o">=</span><span class="n">latlon</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="s2">&quot;city&quot;</span><span class="p">,</span><span class="s2">&quot;state&quot;</span><span class="p">],</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1">#create multi-index</span>
<span class="n">latlon</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>lat</th>
      <th>lon</th>
    </tr>
    <tr>
      <th>city</th>
      <th>state</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>South Creek</th>
      <th>WA</th>
      <td>46.9994</td>
      <td>-122.3921</td>
    </tr>
    <tr>
      <th>Roslyn</th>
      <th>WA</th>
      <td>47.2507</td>
      <td>-121.0989</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ol class="arabic simple" start="5">
<li><p>We’ll perform an inner join (intersection) of the two dataframes migdf and latlon. This will add the lat lon data to the migdf data</p></li>
</ol>
<div class="cell docutils container" id="index-14">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">latlon</span><span class="p">,</span><span class="n">migdf</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">,</span> <span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span><span class="s2">&quot;lon&quot;</span><span class="p">,</span><span class="s2">&quot;Mig2&quot;</span><span class="p">,</span><span class="s2">&quot;Mig1&quot;</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="s2">&quot;GM.xlsx&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>lat</th>
      <th>lon</th>
      <th>Mig2</th>
      <th>Mig1</th>
    </tr>
    <tr>
      <th>city</th>
      <th>state</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Seattle</th>
      <th>WA</th>
      <td>47.6211</td>
      <td>-122.3244</td>
      <td>0.1</td>
      <td>6.1</td>
    </tr>
    <tr>
      <th>Spokane</th>
      <th>WA</th>
      <td>47.6671</td>
      <td>-117.4330</td>
      <td>-0.2</td>
      <td>0.7</td>
    </tr>
    <tr>
      <th>Tacoma</th>
      <th>WA</th>
      <td>47.2431</td>
      <td>-122.4531</td>
      <td>-0.3</td>
      <td>6.2</td>
    </tr>
    <tr>
      <th>New Castle</th>
      <th>DE</th>
      <td>39.6685</td>
      <td>-75.5692</td>
      <td>-2</td>
      <td>-3.2</td>
    </tr>
    <tr>
      <th>Wilmington</th>
      <th>DE</th>
      <td>39.7415</td>
      <td>-75.5413</td>
      <td>2.3</td>
      <td>31</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ol class="arabic simple" start="6">
<li><p>Check for missing data.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Mig1&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;No data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>lat     6
lon     6
Mig2    6
Mig1    6
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Mig2&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;No data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>lat     14
lon     14
Mig2    14
Mig1    14
dtype: int64
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="7">
<li><p>Remove rows with missing data.</p></li>
</ol>
<div class="cell docutils container" id="index-15">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>lat     245
lon     245
Mig2    245
Mig1    245
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Mig1&quot;</span><span class="p">]</span><span class="o">!=</span><span class="s2">&quot;No data&quot;</span><span class="p">]</span>
<span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Mig2&quot;</span><span class="p">]</span><span class="o">!=</span><span class="s2">&quot;No data&quot;</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>lat     231
lon     231
Mig2    231
Mig1    231
dtype: int64
</pre></div>
</div>
</div>
</div>
<section id="creating-a-map-from-our-dataframe">
<h3>Creating a Map from our Dataframe<a class="headerlink" href="#creating-a-map-from-our-dataframe" title="Link to this heading">#</a></h3>
<ol class="arabic simple" start="8">
<li><p>Make a heat map of the 1st Great Migration.</p></li>
</ol>
<div class="cell tag_hide-input docutils container" id="index-16">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">35</span><span class="p">,</span> <span class="mi">40</span><span class="p">))</span>
<span class="n">X</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Mig1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="n">Y</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;lat&quot;</span><span class="p">]</span>
<span class="n">heat_map</span><span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">hist2d</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span> <span class="c1">#heat map is a 2dimensional histogram</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;% Change in Afr. American Population First Great Migration(1910-1940)&quot;</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Latitude&quot;</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">names</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">names</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>   <span class="c1">##add the names of the cities and %change in Afr. American population</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">names</span><span class="o">.</span><span class="n">Mig1</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">names</span><span class="o">.</span><span class="n">lat</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">names</span><span class="o">.</span><span class="n">city</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;  &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">names</span><span class="o">.</span><span class="n">Mig1</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="n">cbar</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">()</span>
<span class="n">cbar</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s1">&#39;# of cities&#39;</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">270</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">cbar</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;Migration1.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../../_images/1ac59b52b6dd8b21b86863743a556b26d67f93027cb9006d924ccd3534a48e83.png" src="../../_images/1ac59b52b6dd8b21b86863743a556b26d67f93027cb9006d924ccd3534a48e83.png" />
</div>
</div>
<ol class="arabic simple" start="9">
<li><p>Improve clarity by specifying certain cities to display.</p></li>
</ol>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">35</span><span class="p">,</span> <span class="mi">40</span><span class="p">))</span>
<span class="n">X</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Mig1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="n">Y</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;lat&quot;</span><span class="p">]</span>
<span class="n">heat_map</span><span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">hist2d</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">.6</span><span class="p">)</span> <span class="c1">#heat map is a 2dimensional histogram</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;% Change in Afr. American Population First Great Migration(1910-1940)&quot;</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Latitude&quot;</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span><span class="mi">45</span><span class="p">)</span>
<span class="n">names</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">names</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>   <span class="c1">##add the names of the cities and %change in Afr. American population</span>
    <span class="k">if</span> <span class="n">names</span><span class="o">.</span><span class="n">Mig1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">0</span> <span class="ow">and</span> <span class="nb">any</span><span class="p">(</span><span class="n">names</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;city&#39;</span><span class="p">]</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Austin&quot;</span><span class="p">,</span><span class="s2">&quot;Chicago&quot;</span><span class="p">,</span><span class="s2">&quot;Detroit&quot;</span><span class="p">,</span><span class="s2">&quot;Cleveland&quot;</span><span class="p">,</span><span class="s2">&quot;Dallas&quot;</span><span class="p">,</span><span class="s2">&quot;Denver&quot;</span><span class="p">,</span><span class="s2">&quot;Grand Rapids&quot;</span><span class="p">,</span><span class="s2">&quot;Houston&quot;</span><span class="p">,</span><span class="s2">&quot;Huntsville&quot;</span><span class="p">,</span><span class="s2">&quot;Indianapolis&quot;</span><span class="p">,</span><span class="s2">&quot;Jacksonville&quot;</span><span class="p">,</span><span class="s2">&quot;Louisville&quot;</span><span class="p">,</span><span class="s2">&quot;Miami&quot;</span><span class="p">,</span><span class="s2">&quot;Milwaukee&quot;</span><span class="p">,</span><span class="s2">&quot;Minneapolis&quot;</span><span class="p">,</span><span class="s2">&quot;Montgomery&quot;</span><span class="p">,</span><span class="s2">&quot;Mobile&quot;</span><span class="p">,</span><span class="s2">&quot;Nashville&quot;</span><span class="p">,</span><span class="s2">&quot;New York&quot;</span><span class="p">,</span><span class="s2">&quot;New Orleans&quot;</span><span class="p">,</span><span class="s2">&quot;Newark&quot;</span><span class="p">,</span><span class="s2">&quot;Omaha&quot;</span><span class="p">,</span><span class="s2">&quot;Philadelphia&quot;</span><span class="p">,</span><span class="s2">&quot;Pittsburgh&quot;</span><span class="p">,</span><span class="s2">&quot;Providence&quot;</span><span class="p">,</span><span class="s2">&quot;Raleigh&quot;</span><span class="p">,</span><span class="s2">&quot;San Antonio&quot;</span><span class="p">,</span><span class="s2">&quot;San Francisco&quot;</span><span class="p">,</span><span class="s2">&quot;Seattle&quot;</span><span class="p">,</span><span class="s2">&quot;St. Louis&quot;</span><span class="p">,</span><span class="s2">&quot;Washington, DC&quot;</span><span class="p">,]):</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">names</span><span class="o">.</span><span class="n">Mig1</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">names</span><span class="o">.</span><span class="n">lat</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="s2">&quot;x&quot;</span><span class="o">+</span><span class="n">names</span><span class="o">.</span><span class="n">city</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;  &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">names</span><span class="o">.</span><span class="n">Mig1</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">names</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;city&#39;</span><span class="p">]</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Chicago&quot;</span><span class="p">,</span><span class="s2">&quot;Detroit&quot;</span><span class="p">,</span><span class="s2">&quot;Cleveland&quot;</span><span class="p">,</span><span class="s2">&quot;Dallas&quot;</span><span class="p">,</span><span class="s2">&quot;Grand Rapids&quot;</span><span class="p">,</span><span class="s2">&quot;Indianapolis&quot;</span><span class="p">,</span><span class="s2">&quot;Louisville&quot;</span><span class="p">,</span><span class="s2">&quot;Milwaukee&quot;</span><span class="p">,</span><span class="s2">&quot;Minneapolis&quot;</span><span class="p">,</span><span class="s2">&quot;Montgomery&quot;</span><span class="p">,</span><span class="s2">&quot;Nashville&quot;</span><span class="p">,</span><span class="s2">&quot;New York&quot;</span><span class="p">,</span><span class="s2">&quot;Newark&quot;</span><span class="p">,</span><span class="s2">&quot;Omaha&quot;</span><span class="p">,</span><span class="s2">&quot;Philadelphia&quot;</span><span class="p">,</span><span class="s2">&quot;Pittsburgh&quot;</span><span class="p">,</span><span class="s2">&quot;Providence&quot;</span><span class="p">,</span><span class="s2">&quot;Raleigh&quot;</span><span class="p">,</span><span class="s2">&quot;San Francisco&quot;</span><span class="p">,</span><span class="s2">&quot;Seattle&quot;</span><span class="p">,</span><span class="s2">&quot;St. Louis&quot;</span><span class="p">,</span><span class="s2">&quot;Washington, DC&quot;</span><span class="p">,]):</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">names</span><span class="o">.</span><span class="n">Mig1</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">names</span><span class="o">.</span><span class="n">lat</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="s2">&quot;x&quot;</span><span class="o">+</span><span class="n">names</span><span class="o">.</span><span class="n">city</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;  &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">names</span><span class="o">.</span><span class="n">Mig1</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>

<span class="n">cbar</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">()</span>
<span class="n">cbar</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s1">&#39;# of cities&#39;</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">270</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">cbar</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;Migration1Simplified.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../../_images/12fa0f95e610fe55045917ae1188be96ffd55210d91df724dce42002b0d2bcbe.png" src="../../_images/12fa0f95e610fe55045917ae1188be96ffd55210d91df724dce42002b0d2bcbe.png" />
</div>
</div>
</section>
<section id="id1">
<h3>ASSIGNMENT<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<div class="admonition-assignment admonition">
<p class="admonition-title">Assignment</p>
<p>Make heatmaps for Mig2 and compare it with the heatmaps for Mig1. (Eg. What happened in Chicago?)</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#import libraries</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span> <span class="c1"># plotting library</span>
<span class="kn">import</span> <span class="nn">sklearn</span>
<span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">KMeans</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="the-chicago-hardship-index">
<h2><span class="section-number">2.4.6. </span>The Chicago Hardship Index<a class="headerlink" href="#the-chicago-hardship-index" title="Link to this heading">#</a></h2>
<div class="admonition note" id="index-17">
<p class="admonition-title">Note</p>
<p>This section is all about Chicago, so has been included here. As it contains more advanced coding methods (explained in later chapters), the coding cells may be skimmed or skipped entirely and returned to later.</p>
</div>
<section id="raw-data-and-summary-statistics">
<h3>Raw Data and Summary Statistics<a class="headerlink" href="#raw-data-and-summary-statistics" title="Link to this heading">#</a></h3>
<p>The hardship index is a way to use data to explore urban inequities. Exploratory data analysis for social justice issues should aim to be accessible, significant, equitable, impartial, and transparent.</p>
<img alt="Drawing" src="../../_images/table13.png" />
<p>The hardship index (HI) is the mean of six indicator estimates. Each indicator has been normalized and scaled from 0-100 (except per capita income). A higher hardship index value indicates greater hardship. The 6 raw indicator estimates are complicated by time variation over 5-year periods (US Census Bureau 2008) and geographical boundary approximation (Great Cities Institute 2019). The indicators are</p>
<ul class="simple">
<li><p>UNEMP = % of community age 16 and older who are unemployed</p></li>
<li><p>NOHS = % of community age 25 and older without a high school diploma</p></li>
<li><p>DEP = % of community who are dependent (under age 18 or over age 64)</p></li>
<li><p>HOUS= % of community with overcrowded housing (more than 1 occupant per room)</p></li>
<li><p>POV = % below federal poverty line</p></li>
<li><p>INC = per capita income</p></li>
</ul>
<p>Datafile:  ‘HIHOM20142017.xlsx’</p>
<p>Data Source: <a class="reference external" href="https://greatcities.uic.edu/wp-content/uploads/2016/07/GCI-Hardship-Index-Fact-SheetV2.pdf">https://greatcities.uic.edu/wp-content/uploads/2016/07/GCI-Hardship-Index-Fact-SheetV2.pdf</a> (2010-2014) <a class="reference external" href="https://greatcities.uic.edu/wp-content/uploads/2019/12/Hardship-Index-Fact-Sheet-2017-ACS-Final-1.pdf">https://greatcities.uic.edu/wp-content/uploads/2019/12/Hardship-Index-Fact-Sheet-2017-ACS-Final-1.pdf</a> (2013-2017).</p>
</section>
<section id="summary-statistics">
<h3>Summary Statistics<a class="headerlink" href="#summary-statistics" title="Link to this heading">#</a></h3>
<ol class="arabic simple" id="index-18">
<li><p>Upload the hardship index data for 2014 and 2017. The first two of seventy-seven community areas in Chicago are printed below.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_hardship</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;HIHOM20142017.xlsx&#39;</span><span class="p">)</span>
<span class="n">raw_hardship</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Community</th>
      <th>index</th>
      <th>population(K)</th>
      <th>HI14</th>
      <th>UNEMP14</th>
      <th>NOHS14</th>
      <th>DEP14</th>
      <th>HOUS14</th>
      <th>POV14</th>
      <th>INC14</th>
      <th>...</th>
      <th>UNEMP17</th>
      <th>NOHS17</th>
      <th>DEP17</th>
      <th>HOUS17</th>
      <th>POV17</th>
      <th>INC17</th>
      <th>HOM14</th>
      <th>HOM17</th>
      <th>LAT</th>
      <th>LON</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Albany Park</td>
      <td>13</td>
      <td>48.0</td>
      <td>47.0</td>
      <td>10.0</td>
      <td>26.9</td>
      <td>32.2</td>
      <td>9.5</td>
      <td>18.3</td>
      <td>23240</td>
      <td>...</td>
      <td>7.1</td>
      <td>14.3</td>
      <td>32.0</td>
      <td>8.6</td>
      <td>16.5</td>
      <td>25848</td>
      <td>2</td>
      <td>1</td>
      <td>41.96823</td>
      <td>-87.72421</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Archer Heights</td>
      <td>56</td>
      <td>14.0</td>
      <td>54.4</td>
      <td>14.3</td>
      <td>32.2</td>
      <td>38.5</td>
      <td>9.8</td>
      <td>14.6</td>
      <td>16507</td>
      <td>...</td>
      <td>9.2</td>
      <td>17.9</td>
      <td>40.2</td>
      <td>9.7</td>
      <td>15.9</td>
      <td>18497</td>
      <td>0</td>
      <td>3</td>
      <td>41.81093</td>
      <td>-87.72677</td>
    </tr>
  </tbody>
</table>
<p>2 rows × 21 columns</p>
</div></div></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Separate the 2014 and 2017 hardship index (HI) data into two dataframes called “dfHI14” and “dfHI17.” The column names will reflect the year</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfHI14</span><span class="o">=</span><span class="n">raw_hardship</span><span class="p">[[</span><span class="s2">&quot;Community&quot;</span><span class="p">,</span><span class="s2">&quot;HI14&quot;</span><span class="p">,</span><span class="s2">&quot;UNEMP14&quot;</span><span class="p">,</span><span class="s2">&quot;NOHS14&quot;</span><span class="p">,</span><span class="s2">&quot;DEP14&quot;</span><span class="p">,</span><span class="s2">&quot;HOUS14&quot;</span><span class="p">,</span><span class="s2">&quot;POV14&quot;</span><span class="p">,</span><span class="s2">&quot;INC14&quot;</span><span class="p">]]</span>
<span class="n">dfHI14</span> <span class="o">=</span> <span class="n">dfHI14</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Community&#39;</span><span class="p">:</span><span class="s1">&#39;Community14&#39;</span><span class="p">})</span>
<span class="n">dfHI17</span><span class="o">=</span><span class="n">raw_hardship</span><span class="p">[[</span><span class="s2">&quot;Community&quot;</span><span class="p">,</span><span class="s2">&quot;HI17&quot;</span><span class="p">,</span><span class="s2">&quot;UNEMP17&quot;</span><span class="p">,</span><span class="s2">&quot;NOHS17&quot;</span><span class="p">,</span><span class="s2">&quot;DEP17&quot;</span><span class="p">,</span><span class="s2">&quot;HOUS17&quot;</span><span class="p">,</span><span class="s2">&quot;POV17&quot;</span><span class="p">,</span><span class="s2">&quot;INC17&quot;</span><span class="p">]]</span>
<span class="n">dfHI17</span> <span class="o">=</span> <span class="n">dfHI17</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Community&#39;</span><span class="p">:</span><span class="s1">&#39;Community17&#39;</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="3">
<li><p>The first two communities’ HI and the indicator scores for 2014 are printed below.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfHI14</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Community14</th>
      <th>HI14</th>
      <th>UNEMP14</th>
      <th>NOHS14</th>
      <th>DEP14</th>
      <th>HOUS14</th>
      <th>POV14</th>
      <th>INC14</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Albany Park</td>
      <td>47.0</td>
      <td>10.0</td>
      <td>26.9</td>
      <td>32.2</td>
      <td>9.5</td>
      <td>18.3</td>
      <td>23240</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Archer Heights</td>
      <td>54.4</td>
      <td>14.3</td>
      <td>32.2</td>
      <td>38.5</td>
      <td>9.8</td>
      <td>14.6</td>
      <td>16507</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ol class="arabic simple" start="4">
<li><p>The scores for two communities in 2017 are printed below.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfHI17</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Community17</th>
      <th>HI17</th>
      <th>UNEMP17</th>
      <th>NOHS17</th>
      <th>DEP17</th>
      <th>HOUS17</th>
      <th>POV17</th>
      <th>INC17</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Albany Park</td>
      <td>45.7</td>
      <td>7.1</td>
      <td>14.3</td>
      <td>32.0</td>
      <td>8.6</td>
      <td>16.5</td>
      <td>25848</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Archer Heights</td>
      <td>56.1</td>
      <td>9.2</td>
      <td>17.9</td>
      <td>40.2</td>
      <td>9.7</td>
      <td>15.9</td>
      <td>18497</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ol class="arabic simple" start="5">
<li><p>Calculate the summary statistics for indicators from the data in all seventy-seven communities.
For example, we calculate statistics for the HOUS indicator in 2017. By replacing “HOUS17,” statistics for other indicators can be calculated–like “HI17,” “NOHS17”, etc.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">=</span><span class="n">dfHI17</span><span class="p">[</span><span class="s2">&quot;HOUS17&quot;</span><span class="p">]</span>
<span class="kn">import</span> <span class="nn">numpy</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Minimum: &quot;</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Maximum: &quot;</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Standard Deviation: &quot;</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mean: &quot;</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Median: &quot;</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Minimum:  0.3
Maximum:  13.6
Standard Deviation:  2.87070805717617
Mean:  4.114285714285715
Median:  3.3
</pre></div>
</div>
</div>
</div>
<p>The table below lists the indicator values for several communities, as shown above, and the summary statistics for each indicator.</p>
<img alt="Drawing" src="../../_images/hardship.png" />
</section>
<section id="k-means-clustering">
<span id="index-19"></span><h3>K-Means Clustering<a class="headerlink" href="#k-means-clustering" title="Link to this heading">#</a></h3>
<p>We will use a machine learning method called K-means clustering  (see Chapter 10.3) to visualize patterns in the geographic information. By plotting the homicide data with it, we can investigate a relationship between location, hardship cluster, and number of homocides.  We use the sklearn library for machine learning.</p>
<p>Datafile:  ‘standardizedindicators.xlsx’</p>
<ol class="arabic simple">
<li><p>Read standardized hardship index and homicide data.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hom_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;standardizedindicators.xlsx&#39;</span><span class="p">)</span>
<span class="n">hom_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Community</th>
      <th>index</th>
      <th>HI14</th>
      <th>UNEMP14</th>
      <th>NOHS14</th>
      <th>DEP14</th>
      <th>HOUS14</th>
      <th>POV14</th>
      <th>INC14</th>
      <th>HI17</th>
      <th>UNEMP17</th>
      <th>NOHS17</th>
      <th>DEP17</th>
      <th>HOUS17</th>
      <th>POV17</th>
      <th>INC17</th>
      <th>HOM14</th>
      <th>HOM17</th>
      <th>LAT</th>
      <th>LON</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Albany Park</td>
      <td>13</td>
      <td>47.0</td>
      <td>-0.705481</td>
      <td>0.667993</td>
      <td>-0.470891</td>
      <td>1.42992</td>
      <td>-0.353466</td>
      <td>-0.165118</td>
      <td>45.7</td>
      <td>-0.706842</td>
      <td>0.506067</td>
      <td>-0.530539</td>
      <td>1.562581</td>
      <td>-0.418499</td>
      <td>-0.183089</td>
      <td>2</td>
      <td>1</td>
      <td>41.96823</td>
      <td>-87.72421</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Archer Heights</td>
      <td>56</td>
      <td>54.4</td>
      <td>-0.193683</td>
      <td>1.136956</td>
      <td>0.471085</td>
      <td>1.51857</td>
      <td>-0.672245</td>
      <td>-0.605100</td>
      <td>56.1</td>
      <td>-0.442634</td>
      <td>1.090575</td>
      <td>0.742190</td>
      <td>1.945762</td>
      <td>-0.473646</td>
      <td>-0.607925</td>
      <td>0</td>
      <td>3</td>
      <td>41.81093</td>
      <td>-87.72677</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Create dataframe with just HI and HOM 2017 info</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">HIHOM</span><span class="o">=</span><span class="n">hom_df</span><span class="p">[[</span><span class="s2">&quot;UNEMP17&quot;</span><span class="p">,</span><span class="s2">&quot;NOHS17&quot;</span><span class="p">,</span><span class="s2">&quot;DEP17&quot;</span><span class="p">,</span><span class="s2">&quot;HOUS17&quot;</span><span class="p">,</span><span class="s2">&quot;POV17&quot;</span><span class="p">,</span><span class="s2">&quot;INC17&quot;</span><span class="p">]]</span>
<span class="n">HIHOM</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>UNEMP17</th>
      <th>NOHS17</th>
      <th>DEP17</th>
      <th>HOUS17</th>
      <th>POV17</th>
      <th>INC17</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>-0.706842</td>
      <td>0.506067</td>
      <td>-0.530539</td>
      <td>1.562581</td>
      <td>-0.418499</td>
      <td>-0.183089</td>
    </tr>
    <tr>
      <th>1</th>
      <td>-0.442634</td>
      <td>1.090575</td>
      <td>0.742190</td>
      <td>1.945762</td>
      <td>-0.473646</td>
      <td>-0.607925</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-0.128101</td>
      <td>2.243355</td>
      <td>0.773232</td>
      <td>0.552377</td>
      <td>1.575995</td>
      <td>-0.574983</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.035456</td>
      <td>-0.257040</td>
      <td>0.229994</td>
      <td>-0.283653</td>
      <td>-0.896442</td>
      <td>-0.290469</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1.054544</td>
      <td>0.018978</td>
      <td>0.586979</td>
      <td>-0.771338</td>
      <td>0.629300</td>
      <td>-0.609312</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Use the KMeans() function to make n_clusters=2 clusters and get the labels indicating which cluster each point belongs to.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fit the k means model</span>
<span class="n">k_means</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="s2">&quot;k-means++&quot;</span><span class="p">,</span> <span class="n">n_clusters</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">n_init</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">k_means</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">HIHOM</span><span class="p">)</span>
<span class="c1">#Get Labels</span>
<span class="n">k_means_labels</span> <span class="o">=</span> <span class="n">k_means</span><span class="o">.</span><span class="n">labels_</span>
<span class="n">k_means_labels</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\pisihara\AppData\Local\anaconda3\Lib\site-packages\sklearn\cluster\_kmeans.py:1382: UserWarning: KMeans is known to have a memory leak on Windows with MKL, when there are less chunks than available threads. You can avoid it by setting the environment variable OMP_NUM_THREADS=1.
  warnings.warn(
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 1, 0, 1, 0, 1, 1, 0,
       0, 1, 0, 1, 1, 0, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1,
       1, 0, 0, 0, 0, 0, 1, 0, 1, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1,
       0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1])
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="4">
<li><p>Add the labels to hom_df</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hom_df</span><span class="p">[</span><span class="s2">&quot;CLASS&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">k_means_labels</span>
<span class="n">hom_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Community</th>
      <th>index</th>
      <th>HI14</th>
      <th>UNEMP14</th>
      <th>NOHS14</th>
      <th>DEP14</th>
      <th>HOUS14</th>
      <th>POV14</th>
      <th>INC14</th>
      <th>HI17</th>
      <th>...</th>
      <th>NOHS17</th>
      <th>DEP17</th>
      <th>HOUS17</th>
      <th>POV17</th>
      <th>INC17</th>
      <th>HOM14</th>
      <th>HOM17</th>
      <th>LAT</th>
      <th>LON</th>
      <th>CLASS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Albany Park</td>
      <td>13</td>
      <td>47.0</td>
      <td>-0.705481</td>
      <td>0.667993</td>
      <td>-0.470891</td>
      <td>1.42992</td>
      <td>-0.353466</td>
      <td>-0.165118</td>
      <td>45.7</td>
      <td>...</td>
      <td>0.506067</td>
      <td>-0.530539</td>
      <td>1.562581</td>
      <td>-0.418499</td>
      <td>-0.183089</td>
      <td>2</td>
      <td>1</td>
      <td>41.96823</td>
      <td>-87.72421</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Archer Heights</td>
      <td>56</td>
      <td>54.4</td>
      <td>-0.193683</td>
      <td>1.136956</td>
      <td>0.471085</td>
      <td>1.51857</td>
      <td>-0.672245</td>
      <td>-0.605100</td>
      <td>56.1</td>
      <td>...</td>
      <td>1.090575</td>
      <td>0.742190</td>
      <td>1.945762</td>
      <td>-0.473646</td>
      <td>-0.607925</td>
      <td>0</td>
      <td>3</td>
      <td>41.81093</td>
      <td>-87.72677</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>2 rows × 21 columns</p>
</div></div></div>
</div>
<ol class="arabic simple" start="5">
<li><p>Make a geographic plot of Chicago’s 77 community areas with marker color (blue or
red) indicating k-means bi-clustering based only on the 6 standardized economic hardship
indicators. Affluent community areas such as the Loop (central business district), Near
North Side (which includes the “Gold Coast”), and Hyde Park (site of the University of
Chicago) appear in blue. Lower-income communities with a history of injustices, including Woodlawn, Englewood, and Austin, appear in red. Marker sizes are proportional to
homicide counts, with actual numbers in parentheses following named community areas.</p></li>
</ol>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span><span class="mi">20</span><span class="p">))</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;CLASS&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>   <span class="c1">#toggle class (0 or 1) if &quot;Loop&quot; does not appear on the map</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LON&#39;</span><span class="p">],</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LAT&#39;</span><span class="p">],</span><span class="n">s</span><span class="o">=</span><span class="mi">20</span><span class="o">*</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;HOM17&#39;</span><span class="p">]</span><span class="o">+</span><span class="mi">20</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.95</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Community&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Loop&quot;</span><span class="p">]:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LON&#39;</span><span class="p">]</span><span class="o">+</span><span class="mf">.003</span><span class="p">,</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LAT&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.005</span><span class="p">,</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Community&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;HOM17&#39;</span><span class="p">])</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Community&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Hyde Park&quot;</span><span class="p">,</span><span class="s2">&quot;Near West Side&quot;</span><span class="p">,</span><span class="s2">&quot;Kenwood&quot;</span><span class="p">,</span><span class="s2">&quot;Near North Side&quot;</span><span class="p">,</span><span class="s2">&quot;Near South Side&quot;</span><span class="p">,</span><span class="s2">&quot;West Town&quot;</span><span class="p">]:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LON&#39;</span><span class="p">]</span><span class="o">+</span><span class="mf">.003</span><span class="p">,</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LAT&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.005</span><span class="p">,</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Community&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;HOM17&#39;</span><span class="p">])</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Community&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Lincoln Park&quot;</span><span class="p">,</span><span class="s2">&quot;Lakeview&quot;</span><span class="p">,</span><span class="s2">&quot;Uptown&quot;</span><span class="p">,</span><span class="s2">&quot;Edgewater&quot;</span><span class="p">,</span><span class="s2">&quot;Rogers Park&quot;</span><span class="p">,</span><span class="s2">&quot;Logan Square&quot;</span><span class="p">,</span><span class="s2">&quot;Avondale&quot;</span><span class="p">,</span><span class="s2">&quot;North Center&quot;</span><span class="p">]:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LON&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.015</span><span class="p">,</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LAT&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.0075</span><span class="p">,</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Community&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;HOM17&#39;</span><span class="p">])</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Community&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Lincoln Square&quot;</span><span class="p">,</span><span class="s2">&quot;Irving Park&quot;</span><span class="p">,</span><span class="s2">&quot;Portage Park&quot;</span><span class="p">,</span><span class="s2">&quot;Jefferson Park&quot;</span><span class="p">]:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LON&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.025</span><span class="p">,</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LAT&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.0075</span><span class="p">,</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Community&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;HOM17&#39;</span><span class="p">])</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Community&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Dunning&quot;</span><span class="p">,</span><span class="s2">&quot;O’Hare&quot;</span><span class="p">,</span><span class="s2">&quot;Edison Park&quot;</span><span class="p">,</span><span class="s2">&quot;Norwood Park&quot;</span><span class="p">]:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LON&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.015</span><span class="p">,</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LAT&#39;</span><span class="p">]</span><span class="o">+</span><span class="mf">.005</span><span class="p">,</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Community&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;HOM17&#39;</span><span class="p">])</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Community&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Forest Glen&quot;</span><span class="p">,</span><span class="s2">&quot;Garfield Ridge&quot;</span><span class="p">,</span><span class="s2">&quot;Clearning&quot;</span><span class="p">,</span><span class="s2">&quot;Ashburn&quot;</span><span class="p">,</span><span class="s2">&quot;Beverly&quot;</span><span class="p">,</span><span class="s2">&quot;Mount Greenwood&quot;</span><span class="p">,</span><span class="s2">&quot;Morgan Park&quot;</span><span class="p">]:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LON&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.015</span><span class="p">,</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LAT&#39;</span><span class="p">]</span><span class="o">+</span><span class="mf">.0015</span><span class="p">,</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Community&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;HOM17&#39;</span><span class="p">])</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    
        
        
        <span class="k">if</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Community&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Hegewisch&quot;</span><span class="p">]:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LON&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.01</span><span class="p">,</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LAT&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.0075</span><span class="p">,</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Community&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;HOM17&#39;</span><span class="p">])</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    
    
    <span class="k">else</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LON&#39;</span><span class="p">],</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LAT&#39;</span><span class="p">],</span><span class="n">s</span><span class="o">=</span><span class="mi">20</span><span class="o">*</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;HOM17&#39;</span><span class="p">]</span><span class="o">+</span><span class="mi">20</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.95</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Community&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Austin&quot;</span><span class="p">,</span><span class="s2">&quot;Belmont Craigin&quot;</span><span class="p">,</span><span class="s2">&quot;Montclare&quot;</span><span class="p">]:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LON&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.02</span><span class="p">,</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LAT&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.013</span><span class="p">,</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Community&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;HOM17&#39;</span><span class="p">])</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Community&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Woodlawn&quot;</span><span class="p">,</span><span class="s2">&quot;Englewood&quot;</span><span class="p">,</span><span class="s2">&quot;Chicago Lawn&quot;</span><span class="p">,</span><span class="s2">&quot;South Lawndale&quot;</span><span class="p">,</span><span class="s2">&quot;McKinley Park&quot;</span><span class="p">,</span><span class="s2">&quot;Brighton Park&quot;</span><span class="p">,</span><span class="s2">&quot;Archer Heights&quot;</span><span class="p">,</span><span class="s2">&quot;West Elsdon&quot;</span><span class="p">,</span><span class="s2">&quot;West Lawn&quot;</span><span class="p">,</span><span class="s2">&quot;New City&quot;</span><span class="p">,</span><span class="s2">&quot;Greater Grand Crossing&quot;</span><span class="p">,</span><span class="s2">&quot;Auburn Gresham&quot;</span><span class="p">,</span><span class="s2">&quot;South Chicago&quot;</span><span class="p">,</span><span class="s2">&quot;East Side&quot;</span><span class="p">,</span><span class="s2">&quot;South Deering&quot;</span><span class="p">,</span><span class="s2">&quot;Riverdale&quot;</span><span class="p">]:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LON&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.015</span><span class="p">,</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LAT&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.009</span><span class="p">,</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Community&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;HOM17&#39;</span><span class="p">])</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Community&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Avalon Park&quot;</span><span class="p">,</span><span class="s2">&quot;Burnside&quot;</span><span class="p">,</span><span class="s2">&quot;Pullman&quot;</span><span class="p">]:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LON&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.015</span><span class="p">,</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LAT&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.006</span><span class="p">,</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Community&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;HOM17&#39;</span><span class="p">])</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Community&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Roseland&quot;</span><span class="p">,</span><span class="s2">&quot;North Lawndale&quot;</span><span class="p">,</span><span class="s2">&quot;East Garfield Park&quot;</span><span class="p">,</span><span class="s2">&quot;Hermosa&quot;</span><span class="p">,</span><span class="s2">&quot;West Englewood&quot;</span><span class="p">,</span><span class="s2">&quot;Humboldt Park&quot;</span><span class="p">]:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LON&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.015</span><span class="p">,</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LAT&#39;</span><span class="p">]</span><span class="o">+</span><span class="mf">.007</span><span class="p">,</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Community&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;HOM17&#39;</span><span class="p">])</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Community&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;West Garfield Park&quot;</span><span class="p">]:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LON&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.04</span><span class="p">,</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LAT&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.007</span><span class="p">,</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Community&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;HOM17&#39;</span><span class="p">])</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Community&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Lower West Side&quot;</span><span class="p">,</span><span class="s2">&quot;Oakland&quot;</span><span class="p">,</span><span class="s2">&quot;Douglas&quot;</span><span class="p">,</span><span class="s2">&quot;Armour Square&quot;</span><span class="p">]:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LON&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.001</span><span class="p">,</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LAT&#39;</span><span class="p">]</span><span class="o">+</span><span class="mf">.002</span><span class="p">,</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Community&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;HOM17&#39;</span><span class="p">])</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Community&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Bridgeport&quot;</span><span class="p">]:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LON&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.01</span><span class="p">,</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LAT&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.005</span><span class="p">,</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Community&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;HOM17&#39;</span><span class="p">])</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Community&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;South Shore&quot;</span><span class="p">]:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LON&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.015</span><span class="p">,</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LAT&#39;</span><span class="p">]</span><span class="o">+</span><span class="mf">.003</span><span class="p">,</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Community&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;HOM17&#39;</span><span class="p">])</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Community&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Washington Park&quot;</span><span class="p">,</span><span class="s2">&quot;West Pullman&quot;</span><span class="p">,</span><span class="s2">&quot;Grand Boulevard&quot;</span><span class="p">]:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LON&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.025</span><span class="p">,</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LAT&#39;</span><span class="p">]</span><span class="o">+</span><span class="mf">.003</span><span class="p">,</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Community&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;HOM17&#39;</span><span class="p">])</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Community&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Fuller Park&quot;</span><span class="p">]:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LON&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.027</span><span class="p">,</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LAT&#39;</span><span class="p">]</span><span class="o">+</span><span class="mf">.002</span><span class="p">,</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Community&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;HOM17&#39;</span><span class="p">])</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Community&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Washington Heights&quot;</span><span class="p">]:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LON&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.05</span><span class="p">,</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LAT&#39;</span><span class="p">]</span><span class="o">+</span><span class="mf">.005</span><span class="p">,</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Community&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;HOM17&#39;</span><span class="p">])</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;Community&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;West Ridge&quot;</span><span class="p">,</span><span class="s2">&quot;North Park&quot;</span><span class="p">,</span><span class="s2">&quot;Albany Park&quot;</span><span class="p">]:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LON&#39;</span><span class="p">]</span><span class="o">-</span><span class="mf">.02</span><span class="p">,</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;LAT&#39;</span><span class="p">]</span><span class="o">+</span><span class="mf">.005</span><span class="p">,</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Community&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">hom_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;HOM17&#39;</span><span class="p">])</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="c1">#plt.gca().set_facecolor(&#39;lightgray&#39;)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span> 
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="c1">#title</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;KMeans Classification of Community Areas by 6 Standardized Hardship Indicators&#39;</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Longitude&quot;</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Latitude&quot;</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;lower left&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;Fig4.png&quot;</span><span class="p">)</span> 
<span class="c1">#show the plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>No artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.
</pre></div>
</div>
<img alt="../../_images/9fae9ff381b614c1bee5d9148b0c38aa4121aab53ea150afafdee9ec0b4f18c6.png" src="../../_images/9fae9ff381b614c1bee5d9148b0c38aa4121aab53ea150afafdee9ec0b4f18c6.png" />
</div>
</div>
<div class="admonition-exercise admonition">
<p class="admonition-title">Exercise</p>
<p>Note that the Near North Side has the same homicide count as Riverdale. However, the homicide rate in Riverdale was 10 times higher than the Near North Side.  Using the 2017 data, change the marker size so that it corresponds to homicide rate (per 10,000 people) rather than homicide count.</p>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./PreCollege/Celestial"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../GettingStarted/python.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">2.3. </span>Beginning Python Programming</p>
      </div>
    </a>
    <a class="right-next"
       href="steam.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">2.5. </span>Arts in STEM (STEAM)</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#michael-jordans-greatest-scoring-game">2.4.1. Michael Jordan’s Greatest Scoring Game</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-bad-is-covid-19">2.4.2. How Bad is COVID-19?</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">Exercises</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mapping-famous-chicagoans">2.4.3. Mapping Famous Chicagoans</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#predicting-exemplary-schools">2.4.4. Predicting Exemplary Schools</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#assignment">Assignment</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-great-migration">2.4.5. The Great Migration</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-a-map-from-our-dataframe">Creating a Map from our Dataframe</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">ASSIGNMENT</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-chicago-hardship-index">2.4.6. The Chicago Hardship Index</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#raw-data-and-summary-statistics">Raw Data and Summary Statistics</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#summary-statistics">Summary Statistics</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#k-means-clustering">K-Means Clustering</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Paul Isihara, Claire Wagner, Peter Jantsch, and Thomas VanDrunen, Editors
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <p>
  <a rel='license' href='http://creativecommons.org/licenses/by/4.0/'><img alt='Creative Commons License' width=88 style='border-width:0' src='https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by.png'/></a>
  Except where otherwise noted, this work is licensed under a <a rel='license' href='http://creativecommons.org/licenses/by/4.0/'>Creative Commons Attribution 4.0 International License</a>.
</p>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>