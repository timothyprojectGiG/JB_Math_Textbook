
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>5.9. Solution to Exercises &#8212; An Introduction to Python Jupyter Notebooks for College Math Teachers</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=07d05eac" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=3ee479438cf8b5e0d341"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'ProbStat/ProbIntro/solutions';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="5.10. JNB Lab Homicides in Chicago" href="lab.html" />
    <link rel="prev" title="5.8. Mathematical Games" href="prob6.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.png" class="logo__image only-light" alt="An Introduction to Python Jupyter Notebooks for College Math Teachers - Home"/>
    <script>document.write(`<img src="../../_static/logo.png" class="logo__image only-dark" alt="An Introduction to Python Jupyter Notebooks for College Math Teachers - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    An Introduction to  Python Jupyter Notebooks for College Math Teachers
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Preface.html">1. PREFACE</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../JMM23.html">1.1. JMM 2023</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../lab.html">1.2. JNB LAB: Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../labsolutions.html">1.3. JNB Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../PreCollege.html">2. PRE-COLLEGE</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Elementary/Arithmetic/elementary.html">2.1. Elementary Blackboard Problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../PreCollege/GettingStarted/python.html">2.2. Beginning Python Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../PreCollege/Celestial/Chicago.html">2.3. Glimpse of Chicago</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../PreCollege/Celestial/steam.html">2.4. Arts in STEM (STEAM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../PreCollege/solutions.html">2.5. Solution to Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../PreCollege/Celestial/demo.html">2.6. JNB LAB: After-School Program Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../PreCollege/Celestial/demosolutions.html">2.7. JNB Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Intropy.html">3. PYTHON PROGRAMMING GUIDE - Thomas VanDrunen, Yiheng Liang</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Programming/Introduction_to_Python.html">3.1. Introduction to Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Programming/Data.html">3.2. Working with Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Programming/solutions.html">3.3. Solution to Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Programming/Plab.html">3.4. JNB Lab: Introduction to Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Programming/Plabsolutions.html">3.5. JNB Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Data.html">4. EXPLORATORY DATA ANALYSIS - Wheaton College Team</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../EDA/1.%20Great%20Migration.html">4.1. The Great Migration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../EDA/2.%20Chicago%20Hardship%20Index.html">4.2. The Chicago Hardship Index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../EDA/solutions.html">4.3. Solution to Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../EDA/lab.html">4.4. JNB Lab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../EDA/labsolution.html">4.5. JNB Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../../Prob.html">5. PROBABILITY - Laura Gross, Yiheng Liang</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="prob.html">5.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="prob1.html">5.2. Random Numbers</a></li>
<li class="toctree-l2"><a class="reference internal" href="prob2.html">5.3. Probability</a></li>
<li class="toctree-l2"><a class="reference internal" href="prob3.html">5.4. Conditional Probability</a></li>
<li class="toctree-l2"><a class="reference internal" href="prob4.html">5.5. Probability Distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="prob4a.html">5.6. Random Walks</a></li>
<li class="toctree-l2"><a class="reference internal" href="prob5.html">5.7. Agent-based Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="prob6.html">5.8. Mathematical Games</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">5.9. Solution to Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="lab.html">5.10. JNB Lab Homicides in Chicago</a></li>
<li class="toctree-l2"><a class="reference internal" href="labsolution.html">5.11. JNB Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Stat.html">6. STATISTICAL INFERENCE - Peter Jantsch, Claire Wagner</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../StatInf/00_Instructor_Notes.html">6.1. Introduction and Instructor Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../StatInf/01_Foundations.html">6.2. Foundations of Statistical Inference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../StatInf/02_Inference_Categorical.html">6.3. Hypothesis Testing for Categorical Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../StatInf/03_Inference_Numerical.html">6.4. Hypothesis Testing for Numerical Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../StatInf/04_Regression.html">6.5. Linear Regression</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../AppliedCalc.html">7. APPLIED CALCULUS FOR DAILY LIFE - Wheaton College Team</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/twocommodity.html">7.1. Linear Systems and the Two-commodity Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/marginal.html">7.2. Marginal and Average Cost</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/design.html">7.3. Optimization and Object Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/cobbs.html">7.4. Optimization and Cobbs-Douglas Production</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/rates.html">7.5. Related Rates and Volumes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/football.html">7.6. Related Rates with Trig Functions and Football</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/jnb7.html">7.7. Probability Distributions and Drive Thrus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/control.html">7.8. Normal Distribution and Process Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/ols.html">7.9. Partial Derivatives and OLS Regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/gini.html">7.10. Area Between Curves and the Gini Index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/income.html">7.11. Integral Test and Income Streams</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/ode.html">7.12. Ordinary Differential Equations and Exponential Growth/Decay</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/solutions.html">7.13. Solutions to Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/AClab.html">7.14. JNB Lab: Calculus of Entropy in Daily Life and Monte Carlo Simulations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedCalc/AClabsolutions.html">7.15. JNB Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Calc.html">8. CALCULUS - Inne Singgih</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Calculus/Intro.html">8.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Calculus/2Functions.html">8.2. Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Calculus/3Limits.html">8.3. Limits, Continuity, and Rates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Calculus/4%20Derivatives.html">8.4. Derivatives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Calculus/5%20Integrals.html">8.5. Integrals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Calculus/6%20ParametricEquations.html">8.6. Parametric Equations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Calculus/7%20Sequences%20and%20Series.html">8.7. Sequences and Series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Calculus/Solutions.html">8.8. Solution to Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Calculus/clab.html">8.9. JNB LAB: Calculus Animations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Calculus/clabsolution.html">8.10. JNB Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Linear.html">9. LINEAR ALGEBRA - Soheil Anbouhi</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Linear/0.html">9.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Linear/1.html">9.2. Linear Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Linear/2.html">9.3. Matrices and Determinants</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Linear/3.html">9.4. Linear Transformations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Linear/4.html">9.5. Eigenvalues and Eigenvectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Linear/5.html">9.6. Orthogonality</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Linear/Solutions.html">9.7. Solutions to Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Linear/LAlab.html">9.8. Linear Algebra Lab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/Linear/LAlabsolutions.html">9.9. Linear Algebra Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Aplin.html">10. LINEAR ALGEBRA AND OPTIMIZATION FOR DATA ANALYSIS - Wheaton College Team</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/LinearAlgebra/Introduction.html">10.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/LinearAlgebra/OLS/jnb1.html">10.2. OLS Linear Regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/LinearAlgebra/KMeans/jnb2.html">10.3. K-means Clustering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/LinearAlgebra/PCA/jnb3.html">10.4. Dimension Reduction by Principal Component Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/LinearAlgebra/SVM/jnb4.html">10.5. Binary Classification of Labelled Data by Support Vector Machines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/LinearAlgebra/solutions.html">10.6. Solution to Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/LinearAlgebra/ALlab.html">10.7. JNB LAB: Linear Algebra for Data Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/LinearAlgebra/ALlabsolution.html">10.8. JNB Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../DifEq.html">11. DIFFERENTIAL EQUATIONS - Rachel Petrik</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/DifEq/Differential%20Equations.html">11.1. Overview of Chapter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/DifEq/DE2.html">11.2. Introduction to Differential Equations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/DifEq/DE3.html">11.3. First-Order Differential Equations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/DifEq/DE4.html">11.4. Second-Order Differential Equations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/DifEq/DE5.html">11.5. Systems of First-Order Differential Equations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/DifEq/DE6.html">11.6. Laplace Transforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/DifEq/DESolutions.html">11.7. Solutions to Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/DifEq/Differential%20Equations%20Book%201%20Lab.html">11.8. Differential Equations Lab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/DifEq/Differential%20Equations%20Book%201%20Lab%20Answer%20Key.html">11.9. Differential Equations Lab Answer Key</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../AppliedDifEq.html">12. DIFFERENTIAL EQUATIONS FOR THE BENEFIT OF SOCIETY - Wheaton College Team</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedDifEq/covid.html">12.1. Logistic Growth and COVID-19</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedDifEq/sir.html">12.2. The Basic SIR Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedDifEq/cholera.html">12.3. Cholera in Haiti</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedDifEq/cws/cws.html">12.4. CWS Model of Alzheimer’s Disease</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedDifEq/gravity/gravity.html">12.5. Gravity Fed Water Delivery</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedDifEq/erc/erc.html">12.6. Earthquake Resistant Construction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedDifEq/solutions.html">12.7. Solutions to Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedDifEq/hiv/lab.html">12.8. JNB Lab: HIV-AIDS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Undergrad/AppliedDifEq/labsolutions.html">12.9. JNB Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../ComplexVar.html">13. COMPLEX VARIABLES IN GROUNDWATER MODELING - Wheaton College Team</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/Complex/complex_variables_1.html">13.1. Setting the Scene</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/Complex/complex_variables_2.html">13.2. Complex Analysis Background</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/Complex/complex_variables_3.html">13.3. Idealized Groundwater Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/Complex/complex_variables_4.html">13.4. Contaminant Extraction Modeling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/Complex/complex_variables_solutions.html">13.5. Solutions to Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/Complex/complex_variables_lab.html">13.6. JNB LAB: Complex Potentials and Contaminant Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/Complex/complex_variables_lab_solution.html">13.7. JNB Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../AdvData.html">14. ADVANCED DATA ANALYSIS - Ying Li, Jonathan Zhu</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/AdvDataAnalysis/sec0_data.html">14.1. Before Reading</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/AdvDataAnalysis/sec1_preprocessing.html">14.2. Preprocessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/AdvDataAnalysis/sec2_transform_features.html">14.3. About Text Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/AdvDataAnalysis/sec3_doc_embedding.html">14.4. Document Embedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/AdvDataAnalysis/sec4_classification_algos.html">14.5. Classification of Texts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/AdvDataAnalysis/sec5_classification_eval.html">14.6. Evaluating Classification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/AdvDataAnalysis/sec6_applications.html">14.7. Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/AdvDataAnalysis/solutions.html">14.8. Solutions to Exercises</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../ComplexSystems.html">15. COMPLEX SYSTEMS - Wheaton College Team</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/ComplexSystems/complex_systems_1.html">15.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/ComplexSystems/complex_systems_2.html">15.2. Fundamental Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/ComplexSystems/complex_systems_3.html">15.3. Mathematical Concepts from Equilibrium Statistical Physics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/ComplexSystems/complex_systems_4.html">15.4. Societal Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/ComplexSystems/complex_systems_solutions.html">15.5. Solution to Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/ComplexSystems/complex_systems_lab.html">15.6. JNB LAB: Complex Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Advanced/ComplexSystems/complex_systems_labsolution.html">15.7. JNB Lab Solutions</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../../genindex.html">Index</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/timothyprojectGiG/JB_Math_Textbook/main?urlpath=tree/src/ProbStat/ProbIntro/solutions.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onBinder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/timothyprojectGiG/JB_Math_Textbook" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/timothyprojectGiG/JB_Math_Textbook/issues/new?title=Issue%20on%20page%20%2FProbStat/ProbIntro/solutions.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/ProbStat/ProbIntro/solutions.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Solution to Exercises</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#random-numbers">5.9.1. Random Numbers</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#probability">5.9.2. Probability</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conditional-probability">5.9.3. Conditional probability</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#probability-distributions">5.9.4. Probability Distributions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#random-walks">5.9.5. Random walks</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#agent-based-models">5.9.6. Agent-based models</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mathematical-games">5.9.7. Mathematical Games</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<section class="tex2jax_ignore mathjax_ignore" id="solution-to-exercises">
<h1><span class="section-number">5.9. </span>Solution to Exercises<a class="headerlink" href="#solution-to-exercises" title="Link to this heading">#</a></h1>
<p><span style='font-size:medium'>I tried to pose these questions to ask for human thought by asking the student to judge, think, etc. I intend for the student to address these questions with original thought and by referring to the chapter and any resource explicitly provided in the question, initially without doing outside research.</span></p>
<p><span style='font-size:medium'>Many of the exercises have many answers. I have provided some possible answers from my own perspective.</span></p>
<section id="random-numbers">
<h2><span class="section-number">5.9.1. </span>Random Numbers<a class="headerlink" href="#random-numbers" title="Link to this heading">#</a></h2>
<p><span style='font-size:medium'>Exercise 1. Which statement do you judge to be more accurate? Why?</span></p>
<ol class="arabic simple">
<li><p>The computer program selected a number between 1 and 10 at random.</p></li>
<li><p>The computer program selected a number between 1 and 10 arbitrarily.</p></li>
</ol>
<p><span style='font-size:medium'>I consider the first statement to be more accurate because the “arbitrary” description allows for a personal preference, often  unconscious, to come into play. A computer does not have a personal whim to influence picking some numbers over others, so “random” may be more accurate.</span></p>
<p><span style='font-size:medium'>Exercise 2. When a computer program selects a number between 1 and 10, do you think that the choice involves possible preference for some number over others? Support your answer with examples. </span></p>
<p><span style='font-size:medium'>According to this chapter, people typically speak of computers generating random numbers. (Technically the computer is doing pseudo-random number generation in which the number is produced by a step-by-step, complicated, but not random, process.) As such, I think that the process does </span><span style='font-size:medium'><strong>not</strong></span><span style='font-size:medium'> involve preference for one number over another, unless the programmer has designed the program such that one number is more likely than another to be chosen. For example, if the computer picks a (pseudo-) random number between 1 and 10 in a conventional way, we can assume each of the ten numbers is equally likely to be chosen with no preference for one number over another.  However, the programmer could write a program in which 7 is chosen 50% of the time, and the other 50% of the time, 1, 2, 3, 4, 5, 6, 8, 9, or 10 is chosen with equal probability. In this case, the computer’s choice could be said to involve a “preference” for 7 over the other numbers if you use “preference” to mean simply “an advantage”.</span></p>
<p><span style='font-size:medium'>Exercise 3: Think of an example of how randomness might be involved in a study investigating a new medicine. Explain how randomness is involved. Could computation, for example using Python, be helpful in the study? Explain your answer. </span></p>
<p><span style='font-size:medium'>A study investigating a new medicine might use randomness to place each volunteer into either a group receiving the old medicine or a group receiving the new medicine. Computation could be helpful in analyzing the results because a large number of participants might be involved, and a large amount of data might be collected. Computers are good at doing a large number of detailed calculations quickly.</span></p>
<p><span style='font-size:medium'>Exercise 4: Think of an example of how randomness might occur in the natural world. Explain how randomness is involved. Could a computer simulate or mimic a natural process in the context of your example? If so, how could a computer simulation be useful?</span></p>
<p><span style='font-size:medium'>Molecules in the air might have slight fluctuations in temperature and position that are influenced by randomness. A computer could simulate how the particles flow and influence weather, maybe by using broader observations, rather than particle-by-particle information. This could be useful in forecasting the weather.  </span></p>
<p><span style='font-size:medium'>Exercise 5: Think of an example of how randomness might occur in a game. Explain how randomness is involved. Could a computer simulate the game? If so, how could the computer simulation be useful?</span></p>
<p><span style='font-size:medium'>Randomness would occur in a game that involves drawing cards from a deck. A computer could simulate the game if it is programmed with the rules of the game. The computer simulation could be useful for investigating whether a certain strategy is effective by using it in many trials of the game.</span></p>
<p><span style='font-size:medium'>Exercise 6: Consider a die (plural: “dice”). Do you think that when we roll a physical die, we can be certain that there is an equal chance of the die landing with each of the six sides facing up? Or could there be a bias toward some sides? Explain your thinking. Do you think the outcome of a roll of the physical die could be influenced by the previous roll? Explain your thinking. How could we use a computer program to simulate a die roll? What are some advantages of doing so?</span></p>
<p><span style='font-size:medium'>I think that we cannot be certain that a physical die has an exactly equal chance of landing with each of the six sides facing up because slight imperfections in the die could produce a bias toward some sides. If the die is shaken up well before it is released, then the previous roll should not influence how the die lands. We could use a computer to simulate a die roll by having it generate a random number between 1 and 6. One advantage of using a computer simulation is that it could be used to “roll the die” many times in quick succession for purposes of testing out different ideas, such as: If you roll the die many times, you will get a 1 approximately 1/6 of the time.</span></p>
<p><span style='font-size:medium'>Exercise 7: Consider the following answer to the question “True or false— An arbitrary choice is made for no special reason”:</span></p>
<p><span style='font-size:medium'><em>“Yes, an arbitrary choice typically refers to a decision or selection that is made without any specific reason or justification. It means that there is no objective or rational basis for choosing one option over another. Arbitrary choices are often made when there is no clear preference or when the decision doesn’t have a significant impact on the outcome. In such cases, people may resort to random selection, personal whim, or other non-logical factors to make a choice.” (ChatGPT, personal communication, June 6, 2023).</em></span></p>
<p><span style='font-size:medium'>Provide a critique for which parts are right (if any). Provide justification for why they are correct. Identify which parts are wrong (if any) and explain what is wrong. Rewrite the answer in your own words with any corrections that are needed. (Retain the citation as with any paraphrased material.) Add an example that you think of yourself to clarify the answer to the true/false question.</span></p>
<p><span style='font-size:medium'>This answer is largely correct. When you ask a friend to pick an </span><span style='font-size:medium'><strong>arbitrary</strong></span><span style='font-size:medium'> integer between 1 and 10, you are asking them to make a selection without any specific reason or justification. In this scenario, there is only a personal or gut-level basis for choosing one option over another. We only ask a friend to pick a number arbitrarily when there is no “right answer” that they could use find by reasoning through which number to pick. The friend could pick based on personal whim or non-logical factors or even use a random number generated by a computer. The only part of the answer that I consider wrong is that the decision could have a significant impact on the outcome if you say, for example, “Pick an arbitrary integer between 1 and 10, and if you pick the number I wrote down on this card, I’ll give you my lunch.”</span></p>
<p><span style='font-size:medium'>Exercise 8: Use the code below to explore Python commands in the</span><span style='font-size:medium'><code class="docutils literal notranslate"><span class="pre">random</span></code></span><span style='font-size:medium'>library. Read the documentation here as desired: </span><a class="reference external" href="https://docs.python.org/3/library/random.html">https://docs.python.org/3/library/random.html</a> <span style='font-size:medium'>. For each</span><span style='font-size:medium'><code class="docutils literal notranslate"><span class="pre">print</span></code></span><span style='font-size:medium'>statement, insert a comment (using</span><span style='font-size:medium'><code class="docutils literal notranslate"><span class="pre">#</span></code></span><span style='font-size:medium'>) that describes all the possible numbers that can be generated. </span></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
3
5
1
6
19.30733945140265
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate 0, 1, 2, ..., or 5 at random.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
<span class="c1"># Generate 1, 2, 3, ..., or 6 at random.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="c1"># Generate 1, 2, 3, ..., or 6 at random.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="c1"># Generate 1, 2, 3, ..., or 6 at random.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="c1"># Generate 0, 2, 4, 6, or 8 at random.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="c1"># Generate a decimal number on the interval [10, 20).</span>
<span class="nb">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
1
5
1
4
13.446055601574948
</pre></div>
</div>
</div>
</div>
<p><span style='font-size:medium'>Exercise 9: Which does a Python program generate: a pseudo-random number or a truly random number? Give an example, and explain why the example is pseudo random or truly random.</span></p>
<p><span style='font-size:medium'>A Python program generates pseudo-random numbers even though we call it “random number generation”. For example, if we do <span style='font-size:medium'><code class="docutils literal notranslate"><span class="pre">print(random.randrange(6))</span></code></span><span style='font-size:medium'>, Python uses mathematical methods to </span><span style='font-size:medium'><strong>simulate</strong></span><span style='font-size:medium'> (mimic) randomness when it selects 0, 1, 2, 3, 4, or 5 with equal probability. The example is pseudo random because the number is produced by a step-by-step, complicated, but not random, process.</span></p>
</section>
<section id="probability">
<h2><span class="section-number">5.9.2. </span>Probability<a class="headerlink" href="#probability" title="Link to this heading">#</a></h2>
<p><span style='font-size:medium'>Exercise 1: Do Problem 5 from the beginning of the Probability section mathematically: Suppose you roll a perfect die <span class="math notranslate nohighlight">\(n\)</span> times and keep a record of each outcome. What is the chance or probability that the die lands on 1, 2, 3, 4, 5, and then 6 when rolled six times (<span class="math notranslate nohighlight">\(n=6\)</span>)? Use Python to evaluate your answer. Explain your conclusion in a complete sentence. </span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">6</span><span class="p">)</span><span class="o">**</span><span class="mi">6</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2.1433470507544573e-05
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mf">2.14</span><span class="o">/</span><span class="mi">100_000</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2.1400000000000002e-05
</pre></div>
</div>
</div>
</div>
<p><span style='font-size:medium'>The probability of rolling the sequence 1, 2, 3, 4, 5, and then 6 is approximately 2 in 100,000.</span></p>
<p><span style='font-size:medium'>Exercise 2: Do Example 5 from the beginning of the Probability section computationally: Suppose you roll a perfect die </span><span class="math notranslate nohighlight">\(n\)</span><span style='font-size:medium'> times and keep a record of each outcome. What is the chance or probability that the die lands on 1, 2, 3, 4, 5, and then 6 when rolled six times (</span><span class="math notranslate nohighlight">\(n=6\)</span><span style='font-size:medium'>)? Do a large number of trials of six rolls of a die and count the number of times the rolls come out as 1 followed by 2, followed by 3, followed by 4, followed by 5, followed by 6. A piece of syntax you may consider using is </span><span style='font-size:medium'><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">(rolls[0]</span> <span class="pre">==</span> <span class="pre">1</span> <span class="pre">and</span> <span class="pre">rolls[1]</span> <span class="pre">==</span> <span class="pre">2</span> <span class="pre">and</span> <span class="pre">rolls[2]</span> <span class="pre">==</span> <span class="pre">3</span> <span class="pre">and</span> <span class="pre">rolls[3]</span> <span class="pre">==</span> <span class="pre">4</span> <span class="pre">and</span> <span class="pre">rolls[4]</span> <span class="pre">==</span> <span class="pre">5</span> <span class="pre">and</span> <span class="pre">rolls[5]</span> <span class="pre">==</span> <span class="pre">6):</span></code></span><span style='font-size:medium'>. Compare the fraction times you get this pattern to your mathematical answer from the previous exercise in a complete sentence.</span></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">six_roll_trials</span><span class="p">(</span><span class="n">num_trials</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Return the number of times that six rolls of a six-sided die produce the sequence 1, 2, 3, 4, 5, and then 6.&#39;&#39;&#39;</span>
    <span class="n">rolls</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="n">num_trials</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
            <span class="n">rolls</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">rolls</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">rolls</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">rolls</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span> <span class="ow">and</span> <span class="n">rolls</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span> <span class="ow">and</span> <span class="n">rolls</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="mi">5</span> <span class="ow">and</span> <span class="n">rolls</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">==</span> <span class="mi">6</span><span class="p">):</span>
            <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">rolls</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">return</span> <span class="n">count</span>

<span class="k">def</span> <span class="nf">repeat_trials</span><span class="p">(</span><span class="n">reps</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Print the number of times that six rolls of a six-sided die produce the sequence 1, 2, 3, 4, 5, and then 6</span>
<span class="sd">    in 100,000 trials, and print the average number of such sequences over reps repetitions of 100,000 trials.&#39;&#39;&#39;</span>
    <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">num_successes</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">reps</span><span class="p">):</span>
        <span class="n">num_successes</span> <span class="o">=</span> <span class="n">six_roll_trials</span><span class="p">(</span><span class="mi">10</span><span class="o">**</span><span class="mi">5</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">num_successes</span><span class="p">)</span>
        <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="n">num_successes</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">count</span><span class="o">/</span><span class="n">reps</span><span class="p">)</span>

<span class="n">repeat_trials</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2
2
0
2
1
4
4
2
3
4
2.4
</pre></div>
</div>
</div>
</div>
<p><span style='font-size:medium'>When I use my program to do six coin flips 100,000 times, my mathematical answer says I should get the sequence 1, 2, 3, 4, 5, 6 approximately twice. Often I do get 2 “successes” when I do 100,000 trials. Sometimes I get 0 or 1 or sometimes as many as 6 or so, but typically if I do 100,000 trials ten times, the average number of successes is close to the predicted 2.14.</span></p>
<p><span style='font-size:medium'>Exercise 3: If event </span><span class="math notranslate nohighlight">\(A\)</span><span style='font-size:medium'> is that the die comes up 2, and event </span><span class="math notranslate nohighlight">\(B\)</span><span style='font-size:medium'> is that the die comes up with an even number, are the two events </span><span class="math notranslate nohighlight">\(A\)</span><span style='font-size:medium'> and </span><span class="math notranslate nohighlight">\(B\)</span><span style='font-size:medium'> mutually exclusive? Explain. Is the addition rule </span><span class="math notranslate nohighlight">\(P(A \ \text{or} \ B) = P(A) + P(B)\)</span><span style='font-size:medium'> applicable? If so, show that the rule holds. If not, show that the rule does not hold. Use Python to illustrate your answer. </span></p>
<p><span style='font-size:medium'>The events are not mutually exclusive because they can happen at the same time. If the die comes up 2, then then the die comes up with an even number. Therefore, the addition rule does not apply. In this case:</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># P(A)</span>
<span class="n">pA</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">6</span>
<span class="c1"># P(B)</span>
<span class="n">pB</span> <span class="o">=</span> <span class="mi">3</span><span class="o">/</span><span class="mi">6</span>
<span class="c1"># P(A or B) = P(B) = 1/2, not P(A) + P(B)</span>
<span class="n">pA</span> <span class="o">+</span> <span class="n">pB</span>
<span class="c1"># which is approximately</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.6666666666666666
</pre></div>
</div>
</div>
</div>
<p>Exercise 4: Calculate the probability (a) mathematically and (b) computationally of obtaining the given result in <span class="math notranslate nohighlight">\(n\)</span> rolls of a fair six-sided die. Make a statement in a complete sentence about how many times you expect the outcome, in terms of a number of trials (consisting of <span class="math notranslate nohighlight">\(n\)</span> rolls per trial). Compare the fraction of times your simulation produces the target pattern with your mathematical answer.</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(n=6\)</span>, all numbers are the same</p></li>
<li><p><span class="math notranslate nohighlight">\(n=6\)</span>, at least one number is different</p></li>
<li><p><span class="math notranslate nohighlight">\(n=1\)</span>, the number rolled is greater than 2</p></li>
<li><p><span class="math notranslate nohighlight">\(n=2\)</span>, the sum of the two numbers is greater than 2</p></li>
<li><p><span class="math notranslate nohighlight">\(n=2\)</span>, the two numbers are different</p></li>
<li><p><span class="math notranslate nohighlight">\(n=3\)</span>, two numbers are the same and one is different</p></li>
<li><p><span class="math notranslate nohighlight">\(n=6\)</span>, all the numbers are different</p></li>
<li><p><span class="math notranslate nohighlight">\(n=100\)</span>, all the numbers are the same</p></li>
<li><p><span class="math notranslate nohighlight">\(n=6\)</span>, the number 1 appears at least once</p></li>
<li><p><span class="math notranslate nohighlight">\(n = 6\)</span>, the number 1 appears at most once</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># (1.)</span>
<span class="c1"># (a)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;For n = 6 rolls of a fair six-sided die, the probability of getting all the numbers of the same is:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;(1/6)**5:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">((</span><span class="mi">1</span><span class="o">/</span><span class="mi">6</span><span class="p">)</span><span class="o">**</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;or approximately once in 10,000 trials: 1.3/10_000:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="mf">1.3</span><span class="o">/</span><span class="mi">10_000</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>For n = 6 rolls of a fair six-sided die, the probability of getting all the numbers of the same is:
(1/6)**5:
0.00012860082304526745
or approximately once in 10,000 trials: 1.3/10_000:
0.00013000000000000002
</pre></div>
</div>
</div>
</div>
<p>Exercise 4 Part 1b)</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># (b) Computationally, we can proceed as follows:</span>
<span class="k">def</span> <span class="nf">six_rolls_all_same_trials</span><span class="p">(</span><span class="n">num_trials</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Return the number of times that n rolls of a six-sided die produce all the same number.&#39;&#39;&#39;</span>
    <span class="n">rolls</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="n">num_trials</span><span class="p">):</span>
        <span class="n">all_same</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="n">rolls</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">rolls</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">j</span><span class="p">)</span> <span class="o">==</span> <span class="n">n</span><span class="p">:</span>
                <span class="n">all_same</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="n">all_same</span><span class="p">:</span>
            <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">rolls</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">return</span> <span class="n">count</span>

<span class="k">def</span> <span class="nf">repeat_trials</span><span class="p">(</span><span class="n">reps</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Print the number of times that n rolls of a six-sided die produce the same number in 10,000 trials,</span>
<span class="sd">    and print the average number of such sequences over reps repetitions of 100,000 trials.&#39;&#39;&#39;</span>
    <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">num_successes</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">reps</span><span class="p">):</span>
        <span class="n">num_successes</span> <span class="o">=</span> <span class="n">six_rolls_all_same_trials</span><span class="p">(</span><span class="mi">10</span><span class="o">**</span><span class="mi">4</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">num_successes</span><span class="p">)</span>
        <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="n">num_successes</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Average: </span><span class="si">{</span><span class="n">count</span><span class="o">/</span><span class="n">reps</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;How many times to we get all the numbers the same in 10,000 trials when we do 10,000 trials ten times?&quot;</span><span class="p">)</span>
<span class="n">repeat_trials</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>How many times to we get all the numbers the same in 10,000 trials when we do 10,000 trials ten times?
2
3
2
0
1
2
1
1
2
0
Average: 1.4
</pre></div>
</div>
</div>
</div>
<p>On average we get all the numbers the same around 1 or 2 times in 10,000 trials as expected.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># (2.)</span>
<span class="c1"># (a)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;For n = 6 rolls of a fair six-sided die, the probability of getting at least one number different is&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1 - (1/6)**5:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">6</span><span class="p">)</span><span class="o">**</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;or approximately once in 10,000 trials we do NOT get at least one number different.&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;To check: Summing the answer with the previous answer gives approximately 1:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">6</span><span class="p">)</span><span class="o">**</span><span class="mi">5</span> <span class="o">+</span> <span class="mf">1.3</span><span class="o">/</span><span class="mi">10_000</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>For n = 6 rolls of a fair six-sided die, the probability of getting at least one number different is
1 - (1/6)**5:
0.9998713991769548
or approximately once in 10,000 trials we do NOT get at least one number different.
To check: Summing the answer with the previous answer gives approximately 1:
1.0000013991769547
</pre></div>
</div>
</div>
</div>
<p>Exercise 4 Part 2b)</p>
<p>The simulation in (a) shows that on average we only get all the numbers the same around 1 or 2 times in 10,000 trials as expected. The rest of the time we get at least one number different from what we expected.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># (3.)</span>
<span class="c1"># (a)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;For n = 1 roll of a fair six-sided die, the number rolled is greater than 2 with probability:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;(4/6):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">4</span><span class="o">/</span><span class="mi">6</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;or approximately 2/3 of the trials:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>For n = 1 roll of a fair six-sided die, the number rolled is greater than 2 with probability:
(4/6):
0.6666666666666666
or approximately 2/3 of the trials:
0.6666666666666666
</pre></div>
</div>
</div>
</div>
<p>Exercise 4 Part 3b)</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># (b) Computationally, we can proceed as follows:</span>
<span class="k">def</span> <span class="nf">roll_greater_than_two</span><span class="p">(</span><span class="n">num_trials</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Return the fraction of times that a roll of a six-sided die produces a number greater than 2.&#39;&#39;&#39;</span>
    <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_trials</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fraction of times we got a roll &gt; 2 in </span><span class="si">{</span><span class="n">num_trials</span><span class="si">}</span><span class="s2"> trials: </span><span class="si">{</span><span class="n">count</span><span class="o">/</span><span class="n">num_trials</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">roll_greater_than_two</span><span class="p">(</span><span class="mi">100_000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Fraction of times we got a roll &gt; 2 in 100000 trials: 0.6669
</pre></div>
</div>
</div>
</div>
<p>The simulation in (b) shows we get a roll greater than 2 in about 2/3 or about 0.67 of the large number of trials as expected.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># (4.)</span>
<span class="c1"># (a)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;For n = 2 rolls of a fair six-sided die, the number rolled is greater than 2 with probability:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;35/36&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;or approximately 35/36 of the trials:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">35</span><span class="o">/</span><span class="mi">36</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>For n = 2 rolls of a fair six-sided die, the number rolled is greater than 2 with probability:
35/36
or approximately 35/36 of the trials:
0.9722222222222222
</pre></div>
</div>
</div>
</div>
<p>Exercise 4 Part 4b)</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># (b) Computationally, we can proceed as follows:</span>
<span class="k">def</span> <span class="nf">sum_greater_than_two</span><span class="p">(</span><span class="n">num_trials</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Return the fraction of times that two rolls of a six-sided die produces a number greater than 2.&#39;&#39;&#39;</span>
    <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_trials</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span> <span class="o">+</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fraction of times we get two rolls with sum &gt; 2 in </span><span class="si">{</span><span class="n">num_trials</span><span class="si">}</span><span class="s2"> trials: </span><span class="si">{</span><span class="n">count</span><span class="o">/</span><span class="n">num_trials</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">sum_greater_than_two</span><span class="p">(</span><span class="mi">100_000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Fraction of times we get two rolls with sum &gt; 2 in 100000 trials: 0.97319
</pre></div>
</div>
</div>
</div>
<p>The simulation in (b) shows we get a sum greater than 2 in about 0.97 of the large number of trials as expected.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># (5.)</span>
<span class="c1"># (a)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;For n = 2 rolls of a fair six-sided die, the numbers rolled are different with probability:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;5/6&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;or approximately 5/6 of the trials:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">5</span><span class="o">/</span><span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>For n = 2 rolls of a fair six-sided die, the numbers rolled are different with probability:
5/6
or approximately 5/6 of the trials:
0.8333333333333334
</pre></div>
</div>
</div>
</div>
<p>Exercise 4 Part 5b)</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># (b) Computationally, we can proceed as follows:</span>
<span class="k">def</span> <span class="nf">two_different</span><span class="p">(</span><span class="n">num_trials</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Return the fraction of times that two rolls of a six-sided die produce two different numbers.&#39;&#39;&#39;</span>
    <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_trials</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span> <span class="o">!=</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fraction of times we get two rolls that are different from each other in </span><span class="si">{</span><span class="n">num_trials</span><span class="si">}</span><span class="s2"> trials of two rolls: </span><span class="si">{</span><span class="n">count</span><span class="o">/</span><span class="n">num_trials</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">two_different</span><span class="p">(</span><span class="mi">100_000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Fraction of times we get two rolls that are different from each other in 100000 trials of two rolls: 0.83389
</pre></div>
</div>
</div>
</div>
<p>The simulation in (b) shows that two rolls produce two different numbers about 0.83 of the large number of trials as expected.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># (6.)</span>
<span class="c1"># (a)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;For n = 3 rolls of a fair six-sided die,&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;* two numbers are the same, and one is different&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;if&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;* they are not all different, and they are not all the same,&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;so we get two the same and one different with probability:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1 - 1*5/6*4/6 - 1/36&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;or approximately 1 - 20/36 - 1/36 of the trials:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">15</span><span class="o">/</span><span class="mi">36</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>For n = 3 rolls of a fair six-sided die,
* two numbers are the same, and one is different
if
* they are not all different, and they are not all the same,
so we get two the same and one different with probability:
1 - 1*5/6*4/6 - 1/36
or approximately 1 - 20/36 - 1/36 of the trials:
0.4166666666666667
</pre></div>
</div>
</div>
</div>
<p>Exercise 4 Part 6b)</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># (b) Computationally, we can proceed as follows:</span>
<span class="k">def</span> <span class="nf">two_same_one_different</span><span class="p">(</span><span class="n">num_trials</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Return the fraction of times that three rolls of a six-sided die produce two numbers the same and one different.&#39;&#39;&#39;</span>
    <span class="n">count</span> <span class="o">=</span> <span class="n">num_trials</span>
    <span class="n">rolls</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_trials</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
            <span class="n">rolls</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">rolls</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">rolls</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">rolls</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">rolls</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>
            <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">rolls</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">rolls</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">rolls</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="n">rolls</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">and</span> <span class="n">rolls</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">rolls</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>
            <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="n">rolls</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fraction of times that three rolls produce two numbers that are the same and one that is different in </span><span class="si">{</span><span class="n">num_trials</span><span class="si">}</span><span class="s2"> trials of three rolls: </span><span class="si">{</span><span class="n">count</span><span class="o">/</span><span class="n">num_trials</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">two_same_one_different</span><span class="p">(</span><span class="mi">100_000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Fraction of times that three rolls produce two numbers that are the same and one that is different in 100000 trials of three rolls: 0.41633
</pre></div>
</div>
</div>
</div>
<p>The simulation in (b) shows that three rolls produce two of the same numbers and one different about 0.42 of the large number of trials as expected.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># (7.)</span>
<span class="c1"># (a)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;For n = 6 rolls of a fair six-sided die, the probability that all six numbers are different is:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1 * 5/6 * 4/6 * 3/6 * 2/6 * 1/6&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;or approximately 120/6**5 of the trials:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">120</span><span class="o">/</span><span class="mi">6</span><span class="o">**</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;It happens approximately 1.5 times out of 100 on average:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="mf">1.5</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>For n = 6 rolls of a fair six-sided die, the probability that all six numbers are different is:
1 * 5/6 * 4/6 * 3/6 * 2/6 * 1/6
or approximately 120/6**5 of the trials:
0.015432098765432098
It happens approximately 1.5 times out of 100 on average:
0.015
</pre></div>
</div>
</div>
</div>
<p>Exercise 4 Part 7b)</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># (b) Computationally, we can proceed as follows:</span>
<span class="k">def</span> <span class="nf">six_rolls_all_different</span><span class="p">(</span><span class="n">num_trials</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Return the number of times that six rolls of a six-sided die produce all different numbers.&#39;&#39;&#39;</span>
    <span class="n">rolls</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="n">num_trials</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
            <span class="n">rolls</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">rolls</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">rolls</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">rolls</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">rolls</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">rolls</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">rolls</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">rolls</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">return</span> <span class="n">count</span>

<span class="k">def</span> <span class="nf">repeat_trials_different</span><span class="p">(</span><span class="n">reps</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Print the number of times that six rolls of a six-sided die produce all different numbers in 100 trials,</span>
<span class="sd">    and print the average number of such sequences over reps repetitions of 100 trials.&#39;&#39;&#39;</span>
    <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">num_successes</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">reps</span><span class="p">):</span>
        <span class="n">num_successes</span> <span class="o">=</span> <span class="n">six_rolls_all_different</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">num_successes</span><span class="p">)</span>
        <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="n">num_successes</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Average: </span><span class="si">{</span><span class="n">count</span><span class="o">/</span><span class="n">reps</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;How many times to we get all the numbers different in 100 trials when we do 100 trials ten times?&quot;</span><span class="p">)</span>
<span class="n">repeat_trials_different</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>How many times to we get all the numbers different in 100 trials when we do 100 trials ten times?
3
3
1
0
1
1
0
1
3
2
Average: 1.5
</pre></div>
</div>
</div>
</div>
<p>On average we get all the numbers different around 1.5 times in 100 trials as expected.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># (8.)</span>
<span class="c1"># (a)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;For n = 100 rolls of a fair six-sided die, the probability that all 100 numbers are the same is:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1 * (1/6)**99&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;or approximately 1/6**99 of the trials:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">6</span><span class="o">**</span><span class="mi">99</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;It happens essentially never.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>For n = 100 rolls of a fair six-sided die, the probability that all 100 numbers are the same is:
1 * (1/6)**99
or approximately 1/6**99 of the trials:
9.183880244919038e-78
It happens essentially never.
</pre></div>
</div>
</div>
</div>
<p>Exercise 4 Part 8b)</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">repeat_trials</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
0
0
0
0
0
0
0
0
0
Average: 0.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># (9.)</span>
<span class="c1"># (a)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;For n = 6 rolls of a fair six-sided die, the probability that the number 1 appears at least once is:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1 - (5/6)**6&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;or approximately 66.5</span><span class="si">% o</span><span class="s2">f the trials:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="mi">5</span><span class="o">/</span><span class="mi">6</span><span class="p">)</span><span class="o">**</span><span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>For n = 6 rolls of a fair six-sided die, the probability that the number 1 appears at least once is:
1 - (5/6)**6
or approximately 66.5% of the trials:
0.6651020233196159
</pre></div>
</div>
</div>
</div>
<p>Exercise 4 Part 9b)</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># (b) Computationally, we can proceed as follows:</span>
<span class="k">def</span> <span class="nf">at_least_1_one</span><span class="p">(</span><span class="n">num_trials</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Return the fraction of times that six rolls of a six-sided die produce at least 1 one.&#39;&#39;&#39;</span>
    <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">rolls</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_trials</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
            <span class="n">rolls</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">rolls</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">rolls</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fraction of times that six rolls produce at least 1 one in </span><span class="si">{</span><span class="n">num_trials</span><span class="si">}</span><span class="s2"> trials of six rolls: </span><span class="si">{</span><span class="n">count</span><span class="o">/</span><span class="n">num_trials</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">at_least_1_one</span><span class="p">(</span><span class="mi">100_000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Fraction of times that six rolls produce at least 1 one in 100000 trials of six rolls: 0.66659
</pre></div>
</div>
</div>
</div>
<p>The simulation in (b) shows that six rolls produce at least 1 one in about 0.67 of the large number of trials as expected.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># (10.)</span>
<span class="c1"># (a)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;For n = 6 rolls of a fair six-sided die, the probability that the number 1 appears at most once is:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;(5/6)**6 + 1/6*(5/6)**5 * 6&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;or approximately (5/6)**6 + (5/6)**5</span><span class="si">% o</span><span class="s2">f the trials:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">((</span><span class="mi">5</span><span class="o">/</span><span class="mi">6</span><span class="p">)</span><span class="o">**</span><span class="mi">6</span> <span class="o">+</span> <span class="p">(</span><span class="mi">5</span><span class="o">/</span><span class="mi">6</span><span class="p">)</span><span class="o">**</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>For n = 6 rolls of a fair six-sided die, the probability that the number 1 appears at most once is:
(5/6)**6 + 1/6*(5/6)**5 * 6
or approximately (5/6)**6 + (5/6)**5% of the trials:
0.7367755486968453
</pre></div>
</div>
</div>
</div>
<p>Exercise 4  Part 10b)</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># (b) Computationally, we can proceed as follows:</span>
<span class="k">def</span> <span class="nf">at_most_1_one</span><span class="p">(</span><span class="n">num_trials</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Return the fraction of times that six rolls of a six-sided die produce at most 1 one.&#39;&#39;&#39;</span>
    <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">rolls</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_trials</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
            <span class="n">rolls</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">rolls</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">rolls</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fraction of times that six rolls produce at most 1 one in </span><span class="si">{</span><span class="n">num_trials</span><span class="si">}</span><span class="s2"> trials of six rolls: </span><span class="si">{</span><span class="n">count</span><span class="o">/</span><span class="n">num_trials</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">at_most_1_one</span><span class="p">(</span><span class="mi">100_000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Fraction of times that six rolls produce at most 1 one in 100000 trials of six rolls: 0.73633
</pre></div>
</div>
</div>
</div>
<p>The simulation in (b) shows that six rolls produce 0 or 1 one in about 0.7 of the large number of trials as expected.</p>
<p><span style='font-size:medium'>Exercise 5: Consider the function below. Add comments to explain the code. Summarize the purpose of the function in a complete sentence. Demonstrate its performance on a sample run. Summarize the results in a complete sentence.</span></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">flip</span><span class="p">(</span><span class="n">num_flips</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Return the fraction of heads in num_flips coin flips.&#39;&#39;&#39;</span>
    <span class="n">head_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1"># Do num_flips coin flips.</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_flips</span><span class="p">):</span>
        <span class="c1"># If the flip is heads, increment heads counter.</span>
        <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">((</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="s1">&#39;H&#39;</span><span class="p">:</span>
            <span class="n">head_count</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="c1"># Return the fraction of heads flipped.</span>
    <span class="k">return</span> <span class="n">head_count</span><span class="o">/</span><span class="n">num_flips</span>

<span class="nb">print</span><span class="p">(</span><span class="n">flip</span><span class="p">(</span><span class="mi">10_000</span><span class="p">))</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.5027
</pre></div>
</div>
</div>
</div>
<p><span style='font-size:medium'>The sample run does 10,000 flips. The function returns the fraction of heads, which came out to 0.4966 on one run and to 0.5027 on another.</span></p>
<p><span style='font-size:medium'>Exercise 6: Consider the function below. Add comments to explain the code. Summarize the purpose of the function in a complete sentence. Demonstrate its performance on a sample run. Summarize the results in a complete sentence.</span></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">flip_trials_preliminary</span><span class="p">(</span><span class="n">num_flips_per_trial</span><span class="p">,</span> <span class="n">num_trials</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Flips a coin num_flips_per_trial times, calculates the fraction of heads,</span>
<span class="sd">    and repeats for num_trials trials. Returns the average of all num_trials fractions.&#39;&#39;&#39;</span>
    <span class="n">fraction_heads</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_trials</span><span class="p">):</span> <span class="c1"># In each trial</span>
        <span class="c1"># Call the function flip defined above.</span>
        <span class="c1"># Append the fraction of heads in num_flips_per_trial coin flips into the list.</span>
        <span class="n">fraction_heads</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">flip</span><span class="p">(</span><span class="n">num_flips_per_trial</span><span class="p">))</span>
    <span class="n">mean</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">fraction_heads</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">fraction_heads</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">mean</span>

<span class="nb">print</span><span class="p">(</span><span class="n">flip_trials_preliminary</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">))</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.5029899999999993
</pre></div>
</div>
</div>
</div>
<p><span style='font-size:medium'>The sample run does 1000 trials (in which 100 coin flips are executed and the fraction of heads is computed). The function returns the average of the 1000 fractions of heads, which came out to 0.49915999999999944 on one run and to 0.5029899999999993 on another.</span></p>
<p><span style='font-size:medium'>Exercise 7. When a fair coin is flipped once, the theoretical probability that the outcome will be heads is equal to 1/2. Therefore, according to the LLN, the proportion of heads in a “large” number </span><span class="math notranslate nohighlight">\(n\)</span><span style='font-size:medium'> of coin flips “should be” roughly 1⁄2, and the proportion of heads approaches 1/2 as </span><span class="math notranslate nohighlight">\(n\)</span><span style='font-size:medium'> approaches infinity. Illustrate this idea using simulation with a larger and larger number of flips.</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">flip</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">flip</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">flip</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">flip</span><span class="p">(</span><span class="mi">10_000</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.3
0.54
0.495
0.5039
</pre></div>
</div>
</div>
</div>
<p><span style='font-size:medium'>When I flip 10, 100, 1000, and 10,000 times, respectively, I get fractions of heads, for example, 0.3, 0.54, 0.495, 0.5039, respectively.</span></p>
</section>
<section id="conditional-probability">
<h2><span class="section-number">5.9.3. </span>Conditional probability<a class="headerlink" href="#conditional-probability" title="Link to this heading">#</a></h2>
<p><span style='font-size:medium'>Exercise 1: Suppose 35 spam email messages contain the word “free”; 25 spam messages do not contain the word “free”; three of non-spam messages contain the word “free”; and 37 non-spam messages do not contain the word “free”. (This problem is adapted from OpenIntoStatistics, David M. Diez, Christoper D. Barr, and Mine Cetinkaya-Rundel, Creative Commons, 2016.)</span></p>
<p><span style='font-size:medium'>Do the following problems and interpret your answer in complete sentences. </span></p>
<p><span style='font-size:medium'>(a) Calculate the probability that a message is spam, given that it contains the word “free”. </span></p>
<p><span style='font-size:medium'>(b) Calculate the probability that a message is not spam, given that it contains the word “free”.</span></p>
<p><span style='font-size:medium'>(c) Calculate the probability that a message contains the word “free”, given that it is spam.</span></p>
<p><span style='font-size:medium'>(d) Verify that Bayes’ Theorem holds for some data from this problem.</span></p>
<p><span style='font-size:medium'>(e) Which of the above quantities do you consider to be of the most practical interest?</span></p>
<p><span style='font-size:medium'>(f) Suppose we are trying to make decisions about whether a message is spam. Calculate the most relevant probabilities, explain their significance in the context of the practical problem at hand, and describe possible limitations of their applicability.</span></p>
<p>Exercise 1a)</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># F: Email contains the word &quot;free&quot;.</span>
<span class="c1"># NF: Email does not contain the word &quot;free&quot;.</span>
<span class="c1"># S: Email is spam.</span>
<span class="c1"># NS: Email is not spam.</span>
<span class="c1"># There are 100 emails.</span>
<span class="c1"># (a) </span>
<span class="c1"># P(S|F) = P(S and F)/P(F)</span>
<span class="mi">35</span><span class="o">/</span><span class="mi">100</span> <span class="o">/</span> <span class="p">((</span><span class="mi">35</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
<span class="c1"># The probability that a message is spam, given that it contains the word &quot;free&quot; is:</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.9210526315789473
</pre></div>
</div>
</div>
</div>
<p>Exercise 1b)</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># (b)</span>
<span class="c1"># P(NS | F) = P(NS and F)/P(F)</span>
<span class="mi">3</span><span class="o">/</span><span class="mi">100</span> <span class="o">/</span> <span class="p">(</span><span class="mi">38</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
<span class="c1"># The probability that a message is not spam, given that it contains the word &quot;free&quot; is:</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.07894736842105263
</pre></div>
</div>
</div>
</div>
<p>Exercise 1c)</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># (c)</span>
<span class="c1"># P (F | S) = P(F and S)/P(S)</span>
<span class="n">pFgS</span> <span class="o">=</span> <span class="mi">35</span><span class="o">/</span><span class="mi">100</span> <span class="o">/</span> <span class="p">((</span><span class="mi">35</span> <span class="o">+</span> <span class="mi">25</span><span class="p">)</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pFgS</span><span class="p">)</span>
<span class="c1"># The probability that a message contains the word &quot;free&quot;, given that it is spam is:</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.5833333333333334
</pre></div>
</div>
</div>
</div>
<p>Exercise 1d)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># (d)</span>
<span class="c1"># According to Bayes&#39; Theorem, P(S | F) = P(F | S) P(S) / P(F) or:</span>
<span class="n">pFgS</span> <span class="o">*</span> <span class="mi">60</span><span class="o">/</span><span class="mi">100</span> <span class="o">/</span> <span class="p">(</span><span class="mi">38</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
<span class="c1"># which agrees with (a).</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.9210526315789473
</pre></div>
</div>
</div>
</div>
<p>Exercise 1e)</p>
<p>Probably the most practical number is the probability of spam, given the email contains the word “free” because checking for spam is something you might want to do. It seems that “free” comes up a lot in spam messages. It may be a useful marker because the probability of spam given the possibly related word “free” is about 92%. One limitation of this conclusion is that it is based only on the data provided. We would need reasons to believe that the data are representative of all emails, spam and not spam, that do and do not contain the word “free”. Also practically all spam messages contain the word “the”, so we have to be confident that “free” is not so widespread that it isn’t helpful. Here the probability that a message is not spam, given that it has the word “free” is somewhat small: about 8%.</p>
<p>Exercise 2: Suppose the disease meningitis causes a stiff neck 70% of the time, the prior probability of any patient having meningitis is 1/50,000, and the prior probability of any patient having a stiff neck is 1/100. (Artificial Intelligence: A Modern Approach (Third Edition), Stuart J. Russell and Peter Norvig, Prentice Hall, Upper Saddle River, 2010). Use Bayes’ Theorem to calculate the probability that a patient has meningitis, given they have a stiff neck. Show how you apply Bayes’ Theorem. Interpret the results in a complete sentence.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># The probability of M (a patient having meningitis), given S (they have a stiff neck) is </span>
<span class="c1"># P(M | S) = P(S | M) P(M) / P(S) or</span>
<span class="mf">0.7</span> <span class="o">*</span> <span class="mi">1</span><span class="o">/</span><span class="mi">50_000</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
<span class="c1"># or 1.4 in 1000.</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.0014
</pre></div>
</div>
</div>
</div>
</section>
<section id="probability-distributions">
<h2><span class="section-number">5.9.4. </span>Probability Distributions<a class="headerlink" href="#probability-distributions" title="Link to this heading">#</a></h2>
<p><span style='font-size:medium'>Exercise 1: Consider points </span><span class="math notranslate nohighlight">\((x, y)\)</span><span style='font-size:medium'> in a 1 x 1 square in the first quadrant of the plane <span class="math notranslate nohighlight">\((x, y) \in [0, 1) \times [0, 1)\)</span>. Simulate filling the square with dots by picking points in the square at random. Generate the coordinates in each <span class="math notranslate nohighlight">\(x\)</span>-<span class="math notranslate nohighlight">\(y\)</span> pair by using Python to sample from a uniform distribution on the interval [0, 1). Use the ratio of number of dots inside a quarter circle with center at the origin to total dots to simulate the ratio of the area of the quarter circle to the area of the square. Use this ratio to to estimate the value of <span class="math notranslate nohighlight">\(\pi\)</span>.</span></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">total_points</span> <span class="o">=</span> <span class="mi">100_000</span>
<span class="n">circle_points</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">total_points</span><span class="p">):</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">circle_points</span> <span class="o">=</span> <span class="n">circle_points</span> <span class="o">+</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">4</span> <span class="o">*</span> <span class="n">circle_points</span><span class="o">/</span><span class="n">total_points</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.14152
</pre></div>
</div>
</div>
</div>
<p><span style='font-size:medium'>Exercise 2: 1. Use Python to simulate a game board in which 10,000 balls are dropped down onto a triangle of ten levels of pegs, one-by-one. Level 1 has 1 peg. Level 2 below it has 2 pegs, etc., down to 10 pegs at Level 10 at the bottom. Assume each ball has equal probability of moving to the left or to the right at each level.</span></p>
<p><span style='font-size:medium'>(a) Plot the number of balls against the landing-peg number. Include a descriptive title and labels for both axes on your plot.</span></p>
<p><span style='font-size:medium'>(b) How does the graph tend to change if you use more levels and keep the number of balls the same? Why?</span></p>
<p><span style='font-size:medium'>(c) How does the graph tend to change if you use more balls and keep the number of levels the same? Why?</span></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="k">def</span> <span class="nf">board_game</span><span class="p">(</span><span class="n">balls</span><span class="p">,</span> <span class="n">levels</span><span class="p">):</span>
    <span class="c1"># The number levels is the number of levels (excluding 0th level) and number of pegs at bottom level</span>
    <span class="n">total_balls</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">levels</span><span class="p">)</span> <span class="c1"># array to keep a record of how many balls land in each position</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">balls</span><span class="p">):</span> <span class="c1"># For each trial:</span>
        <span class="n">current_position</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">level</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">levels</span><span class="p">):</span> <span class="c1"># Start at Level 1 and go up to and not including the bottom row.</span>
            <span class="n">current_position</span> <span class="o">+=</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1"># Increment the current position by 0 (left move) or 1 (right move).</span>
        <span class="c1"># When you&#39;re done with all levels, increment the ball total at the position where the ball ended up.</span>
        <span class="n">total_balls</span><span class="p">[</span><span class="n">current_position</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">total_balls</span><span class="p">)</span>
    <span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">balls</span><span class="si">}</span><span class="s2"> balls in a </span><span class="si">{</span><span class="n">levels</span><span class="si">}</span><span class="s2">-level board with a left-bounce probability of </span><span class="si">{</span><span class="mf">0.5</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Position&#39;</span><span class="p">)</span>
    <span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Number of balls&#39;</span><span class="p">)</span>
    <span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">board_game</span><span class="p">(</span><span class="mi">10_000</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="../../_images/735a032b22d05d61b7d6e61cf23e3c36f88db12d5b043e96fc3abae8fed54d1c.png"><img alt="../../_images/735a032b22d05d61b7d6e61cf23e3c36f88db12d5b043e96fc3abae8fed54d1c.png" src="../../_images/735a032b22d05d61b7d6e61cf23e3c36f88db12d5b043e96fc3abae8fed54d1c.png" style="width: 730px; height: 440px;" /></a>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># If you use more levels and keep the number of balls the same, then the graph is very thin in the tails because it is unlikely for a ball to bounch all the way to the left or all the way to the right so many times, and the balls pile up sharply in the range of &quot;middle&quot; positions.</span>
<span class="n">board_game</span><span class="p">(</span><span class="mi">10_000</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="../../_images/91af102feb2af2cb28a8c56082481e3f6c8014b9da427a8871060153eadb8a05.png"><img alt="../../_images/91af102feb2af2cb28a8c56082481e3f6c8014b9da427a8871060153eadb8a05.png" src="../../_images/91af102feb2af2cb28a8c56082481e3f6c8014b9da427a8871060153eadb8a05.png" style="width: 723px; height: 440px;" /></a>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Similarly, if you increase the number of balls and keep the the number of levels at 10, the tails are a little chunkier than before:</span>
<span class="n">board_game</span><span class="p">(</span><span class="mi">1_000_000</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="../../_images/af4b72f02f08719111e39420ccbbc5a4babab2f699036f4e17d9675d34971565.png"><img alt="../../_images/af4b72f02f08719111e39420ccbbc5a4babab2f699036f4e17d9675d34971565.png" src="../../_images/af4b72f02f08719111e39420ccbbc5a4babab2f699036f4e17d9675d34971565.png" style="width: 743px; height: 440px;" /></a>
</div>
</div>
<p><span style='font-size:medium'>Exercise 3: Consider a biased coin that lands on heads 20% of the time. Simulate 30 flips of the coin. Record whether no heads were flipped, 1 head was flipped, 2 heads were flipped,  3 heads were flipped, etc., up to 30 heads. Repeat the experiment 10,000 times. Draw a histogram that shows how often each number 1-30 of heads was flipped. Describe the shape and spread of the graph. Compare it to the graph of the mathematical distribution given by the formula.</span></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="k">def</span> <span class="nf">flip_biased</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">num_flips</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Return the number of heads in num_flips flips of a coin</span>
<span class="sd">    that lands on heads with probability p.&#39;&#39;&#39;</span>
    <span class="n">head_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1"># Do num_flips coin flips.</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_flips</span><span class="p">):</span>
        <span class="c1"># If the flip is heads, increment heads counter.</span>
        <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">p</span><span class="p">:</span>
            <span class="n">head_count</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="c1"># Return the number of heads flipped.</span>
    <span class="k">return</span> <span class="n">head_count</span>

<span class="k">def</span> <span class="nf">histogram_biased_coin</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">num_flips_per_trial</span><span class="p">,</span> <span class="n">num_trials</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Make a histogram of the number of successes (heads) flipped in each of</span>
<span class="sd">    num_trials trials, given that each flip has probability p of landing on heads.&#39;&#39;&#39;</span>
    <span class="n">successes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_trials</span><span class="p">):</span>
        <span class="n">successes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">flip_biased</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">num_flips_per_trial</span><span class="p">))</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Make a histogram that shows how many times each number 1 through num_flips_per_trial of heads</span>
<span class="sd">    was flipped across all the num_trials trials.&#39;&#39;&#39;</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Number of successes (heads) in </span><span class="si">{</span><span class="n">num_trials</span><span class="si">}</span><span class="s1"> trials of </span><span class="si">{</span><span class="n">num_flips_per_trial</span><span class="si">}</span><span class="s1"> flips if P(heads) is </span><span class="si">{</span><span class="n">p</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Number of heads&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Number of trials&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">successes</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">num_flips_per_trial</span><span class="p">),</span> <span class="n">rwidth</span> <span class="o">=</span> <span class="mf">0.8</span><span class="p">)</span>
    <span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">num_flips_per_trial</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>

<span class="n">histogram_biased_coin</span><span class="p">(</span><span class="mf">0.2</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">10_000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="../../_images/fa638f1ad2fbbea8516130e59274f14eae561a2efac8c7a7b7e6517c6ccb209d.png"><img alt="../../_images/fa638f1ad2fbbea8516130e59274f14eae561a2efac8c7a7b7e6517c6ccb209d.png" src="../../_images/fa638f1ad2fbbea8516130e59274f14eae561a2efac8c7a7b7e6517c6ccb209d.png" style="width: 730px; height: 440px;" /></a>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 864x504 with 0 Axes&gt;
</pre></div>
</div>
</div>
</div>
<p><span style='font-size:medium'>This histogram shows how often each number 1-30 of heads was flipped. The most common number of heads appears to be around 5 or 6. It is very rare for this biased coin to land on heads for more than about 16 of 30 flips, so the heights of the bars are not visible for the number of heads between about 16 and 30. The graph has the shape of a binomial distribution with a shape very similar to the graph of the mathematical distribution given by the formula.</span></p>
</section>
<section id="random-walks">
<h2><span class="section-number">5.9.5. </span>Random walks<a class="headerlink" href="#random-walks" title="Link to this heading">#</a></h2>
<p><span style='font-size:medium'>Exercise 1: A person walks on a street with an equal probability of movement to the left or right at each pace. Write a Python program to approximate the expected number of paces the person should take in order to move one pace to the left of the starting point. Suggestion: Use 0 as the starting point. State your conclusions in a complete sentence.</span></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">random_walk</span><span class="p">(</span><span class="n">probability_left</span><span class="p">,</span> <span class="n">max_steps</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Do a random walk with probability_left probability of moving to the left on the number line and 1-probability_left of moving to the right. Start from 0. Return whether the walk arrived at position -1 within max_steps steps, and if it did, return how many steps were needed.&#39;&#39;&#39;</span>
    <span class="n">position</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># Start from 0.</span>
    <span class="n">steps</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># Initialize the number of steps.</span>
    <span class="c1"># Execute the random walk.</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">position</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">steps</span> <span class="o">&lt;</span> <span class="n">max_steps</span><span class="p">):</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># Generate 0 &lt;= r &lt; 1.</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">r</span> <span class="o">&lt;</span> <span class="n">probability_left</span><span class="p">):</span>
            <span class="n">position</span> <span class="o">=</span> <span class="n">position</span> <span class="o">-</span> <span class="mi">1</span> <span class="c1"># Move left.</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">position</span> <span class="o">=</span> <span class="n">position</span> <span class="o">+</span> <span class="mi">1</span> <span class="c1"># Move right.</span>
        <span class="n">steps</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">position</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span> <span class="c1"># If target position was reached:</span>
        <span class="k">return</span> <span class="n">steps</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span> <span class="c1"># Target position was not reached.</span>

<span class="k">def</span> <span class="nf">histogram_random_walk</span><span class="p">(</span><span class="n">num_trials</span><span class="p">,</span> <span class="n">probability_left</span><span class="p">,</span> <span class="n">max_steps</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Make a histogram of the number of steps required to reach position -1 from 0 in num_trials trials,</span>
<span class="sd">    given that the probability of moving left at each step is probability_left. Print the number of times</span>
<span class="sd">    that -1 was not reached within max_steps steps.&#39;&#39;&#39;</span>
    <span class="n">successes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">failure_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_trials</span><span class="p">):</span>
        <span class="n">steps</span> <span class="o">=</span> <span class="n">random_walk</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">steps</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span> <span class="c1"># If target position was reached:</span>
            <span class="n">successes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">steps</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">failure_count</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Number of steps in </span><span class="si">{</span><span class="n">num_trials</span><span class="si">}</span><span class="s1"> trials required to get from 0 to -1 in a random walk of at most </span><span class="si">{</span><span class="n">max_steps</span><span class="si">}</span><span class="s1"> steps if the probability of moving left is </span><span class="si">{</span><span class="n">probability_left</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Number of steps&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Number of trials&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">successes</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_steps</span><span class="p">),</span> <span class="n">rwidth</span> <span class="o">=</span> <span class="mf">0.8</span><span class="p">)</span>
    <span class="c1"># xmin, xmax = 0, num_flips_per_trial</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">successes</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">In </span><span class="si">{</span><span class="n">failure_count</span><span class="si">}</span><span class="s2"> of </span><span class="si">{</span><span class="n">num_trials</span><span class="si">}</span><span class="s2"> trials (</span><span class="si">{</span><span class="n">failure_count</span><span class="o">/</span><span class="n">num_trials</span><span class="o">*</span><span class="mi">100</span><span class="si">}</span><span class="s2">%), the position -1 was not reached after </span><span class="si">{</span><span class="n">max_steps</span><span class="si">}</span><span class="s2"> steps.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">histogram_random_walk</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 5, 5, 5, 5, 5, 5, 5, 5, 7, 7, 13, 15, 17, 21, 23, 23, 27, 31, 31, 39, 51, 65]

In 7 of 100 trials (7.000000000000001%), the position -1 was not reached after 100 steps.
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/326528bba385ab50fb7319aa928ec973305c18742808b6d5fdba4c3732f6e50c.png"><img alt="../../_images/326528bba385ab50fb7319aa928ec973305c18742808b6d5fdba4c3732f6e50c.png" src="../../_images/326528bba385ab50fb7319aa928ec973305c18742808b6d5fdba4c3732f6e50c.png" style="width: 819px; height: 440px;" /></a>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 864x504 with 0 Axes&gt;
</pre></div>
</div>
</div>
</div>
<p><span style='font-size:medium'>About half the time, it takes a person one step move one pace to the left of the starting point. This is because there is a probability of 0.5 of moving left initially (and at each step). Note that it always takes an odd number of steps to get to -1. Approximately 15% of the time, it takes three steps to get to -1. About half again as often it takes five steps. Occasionally it takes more, with path lengths 7, 9, 11, …, 99 if 100 is the maximum number of steps allowed. A small percent of the time, position -1 is not reached within 100 steps. It is not very meaningful to say what the expected number of steps is in general because the number of steps can be quite large occasionally, but we can say that about half the time we arrive at -1 in one step.</span></p>
<p><span style='font-size:medium'>Exercise 2: Consider an unbiased random walk on a square lattice. Write a Python program to find approximate answers to the following questions:</span></p>
<p><span style='font-size:medium'>(a) What is the expected number of a paces the person should take in order to visit the location one pace to the left of the starting point (0, 0)? Explain.</span></p>
<p><span style='font-size:medium'>(b) How far away from the starting point (0,0) does a person end up after </span><span class="math notranslate nohighlight">\(n\)</span><span style='font-size:medium'> steps of an unbiased random walk on a square lattice? Explain.</span></p>
<p><span style='font-size:medium'>(c) If you run the simulation program for Part (b) many times, is there any statistical distribution you can expect? Explain.</span></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">random_walk_2d</span><span class="p">(</span><span class="n">prob_left</span><span class="p">,</span> <span class="n">prob_right</span><span class="p">,</span> <span class="n">prob_forward</span><span class="p">,</span> <span class="n">prob_back</span><span class="p">,</span> <span class="n">max_steps</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Do a random walk on a square lattice with equal probability of moving left, right, forward, and back. Start from (0, 0). If the walk arrived at position (-1, 0) within max_steps steps, return how many steps were needed. Otherwise return 0.&#39;&#39;&#39;</span>
    <span class="n">steps</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># Initialize the number of steps.</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">max_steps</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">max_steps</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># Start the indexing from i-1 = 0.</span>
    <span class="c1"># Execute the random walk.</span>
    <span class="k">while</span> <span class="p">(</span><span class="ow">not</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">))</span> <span class="ow">and</span> <span class="p">(</span><span class="n">steps</span> <span class="o">&lt;</span> <span class="n">max_steps</span><span class="p">):</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># Generate 0 &lt;= r &lt; 1.</span>
        <span class="k">if</span> <span class="n">r</span> <span class="o">&lt;</span> <span class="n">prob_forward</span><span class="p">:</span>
            <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="c1"># Move forward.</span>
        <span class="k">elif</span> <span class="n">r</span> <span class="o">&lt;</span> <span class="n">prob_forward</span> <span class="o">+</span> <span class="n">prob_back</span><span class="p">:</span>
            <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span> <span class="c1"># Move back.</span>
        <span class="k">elif</span> <span class="n">r</span> <span class="o">&lt;</span> <span class="n">prob_forward</span> <span class="o">+</span> <span class="n">prob_back</span> <span class="o">+</span> <span class="n">prob_left</span><span class="p">:</span>
            <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span> <span class="c1"># Move left.</span>
            <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="c1"># Move right.</span>
            <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">steps</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">prob_left</span> <span class="o">+</span> <span class="n">prob_right</span> <span class="o">+</span> <span class="n">prob_forward</span> <span class="o">+</span> <span class="n">prob_back</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;ERROR: Probabilities must sum to 1.&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>  <span class="c1"># If target position was reached:</span>
        <span class="k">return</span> <span class="n">steps</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span> <span class="c1"># Target position was not reached.</span>

<span class="k">def</span> <span class="nf">histogram_random_walk_2d</span><span class="p">(</span><span class="n">prob_left</span><span class="p">,</span> <span class="n">prob_right</span><span class="p">,</span> <span class="n">prob_forward</span><span class="p">,</span> <span class="n">prob_back</span><span class="p">,</span> <span class="n">num_trials</span><span class="p">,</span> <span class="n">max_steps</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Make a histogram of the number of steps required to reach position (-1, 0) in num_trials trials</span>
<span class="sd">    starting from (0, 0) in an unbiased random walk on a square lattice. Print the number of times</span>
<span class="sd">    that (-1, 0) was not reached within max_steps steps.&#39;&#39;&#39;</span>
    <span class="n">successes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">failure_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_trials</span><span class="p">):</span>
        <span class="n">steps</span> <span class="o">=</span> <span class="n">random_walk_2d</span><span class="p">(</span><span class="n">prob_left</span><span class="p">,</span> <span class="n">prob_right</span><span class="p">,</span> <span class="n">prob_forward</span><span class="p">,</span> <span class="n">prob_back</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">steps</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span> <span class="c1"># If target position was reached:</span>
            <span class="n">successes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">steps</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">failure_count</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Number of steps in </span><span class="si">{</span><span class="n">num_trials</span><span class="si">}</span><span class="s1"> trials required to get from (0, 0) to (-1, 0) in a random walk of at most </span><span class="si">{</span><span class="n">max_steps</span><span class="si">}</span><span class="s1"> steps in an unbiased random walk on a square lattice&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Number of steps&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Number of trials&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">successes</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="n">rwidth</span> <span class="o">=</span> <span class="mf">0.8</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">successes</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">In </span><span class="si">{</span><span class="n">failure_count</span><span class="si">}</span><span class="s2"> of </span><span class="si">{</span><span class="n">num_trials</span><span class="si">}</span><span class="s2"> trials (</span><span class="si">{</span><span class="n">failure_count</span><span class="o">/</span><span class="n">num_trials</span><span class="o">*</span><span class="mi">100</span><span class="si">}</span><span class="s2">%), the position (-1, 0) was not reached after </span><span class="si">{</span><span class="n">max_steps</span><span class="si">}</span><span class="s2"> steps.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The person arrived at (-1, 0) in three steps </span><span class="si">{</span><span class="n">successes</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="si">}</span><span class="s2"> times.&quot;</span><span class="p">)</span>

<span class="n">histogram_random_walk_2d</span><span class="p">(</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 15, 15, 15, 15, 15, 15, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 19, 19, 19, 19, 19, 19, 19, 19, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 23, 23, 23, 23, 23, 23, 23, 23, 25, 25, 25, 25, 25, 25, 25, 27, 27, 27, 27, 27, 31, 31, 31, 31, 31, 31, 33, 33, 33, 33, 33, 35, 35, 35, 35, 37, 37, 39, 39, 39, 39, 39, 41, 41, 41, 41, 41, 41, 43, 45, 45, 45, 45, 45, 45, 45, 47, 47, 47, 47, 47, 49, 49, 49, 51, 51, 51, 51, 51, 51, 53, 53, 53, 55, 55, 57, 59, 59, 59, 61, 61, 61, 65, 67, 69, 69, 69, 71, 73, 73, 73, 73, 77, 77, 77, 79, 79, 79, 81, 83, 83, 83, 85, 87, 91, 97, 99]

In 416 of 1000 trials (41.6%), the position (-1, 0) was not reached after 1000 steps.

The person arrived at (-1, 0) in three steps 70 times.
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/41c2d58926f3672297d3df0ff8f3eebd5fe177d70e85807452e8327f85e2955f.png"><img alt="../../_images/41c2d58926f3672297d3df0ff8f3eebd5fe177d70e85807452e8327f85e2955f.png" src="../../_images/41c2d58926f3672297d3df0ff8f3eebd5fe177d70e85807452e8327f85e2955f.png" style="width: 947px; height: 440px;" /></a>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 864x504 with 0 Axes&gt;
</pre></div>
</div>
</div>
</div>
<p><span style='font-size:medium'>(a) About 25% of the time, it takes a person one step to move one pace to the left of the starting point. This is because there is a probability of 0.25 of moving left initially (and at each step). Note that it always takes an odd number of steps to get to (-1, 0). Approximately 7.5% of the time, it takes three steps to get to (-1, 0). About half again as often it takes five steps. Occasionally it takes more, with path lengths 7, 9, 11, …, 999, if 1000 is the maximum number of steps allowed. About 40% of the time, position (-1, 0) is not reached within 1000 steps. It is not very meaningful to say what the expected number of steps is in general because the number of steps can vary a lot, can be very large, and most commonly takes the person so far from (-1, 0) that our simulation gives up on having them return. However, we can say that about 25% of the time we arrive at (-1, 0) in one step.</span></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">how_far</span><span class="p">(</span><span class="n">num_forward</span><span class="p">,</span> <span class="n">num_back</span><span class="p">,</span> <span class="n">num_left</span><span class="p">,</span> <span class="n">num_right</span><span class="p">,</span> <span class="n">num_trials</span><span class="p">,</span> <span class="n">num_steps</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Make a histogram of the distances reached from the origin in num_trials trials</span>
<span class="sd">    of a random walk of n unbiased steps on a square lattice. </span>
<span class="sd">    We assume that the probability of going forward, back, left, and right is the same.</span>
<span class="sd">    When the walk goes forward, it goes forward num_forward steps.</span>
<span class="sd">    When the walk goes back, it goes forward num_back steps.</span>
<span class="sd">    When the walk goes left, it goes left num_left steps.</span>
<span class="sd">    When the walk goes right, it goes forward num_right steps.&#39;&#39;&#39;</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">num_steps</span> <span class="c1"># Use parameter name from problem statement.</span>
    <span class="n">distances</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">trials</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">num_trials</span><span class="p">):</span>
        <span class="c1"># Use the code from the chapter in the body of the loop.</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
            <span class="n">val</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s1">&#39;forward&#39;</span><span class="p">,</span> <span class="s1">&#39;back&#39;</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">val</span> <span class="o">==</span> <span class="s1">&#39;forward&#39;</span><span class="p">:</span>
                <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">num_forward</span>
            <span class="k">elif</span> <span class="n">val</span> <span class="o">==</span> <span class="s1">&#39;back&#39;</span><span class="p">:</span>
                <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">num_back</span>
            <span class="k">elif</span> <span class="n">val</span> <span class="o">==</span> <span class="s1">&#39;left&#39;</span><span class="p">:</span>
                <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">num_left</span>
                <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span> <span class="c1"># val == &#39;right&#39;</span>
                <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">num_right</span>
                <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">distances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Distance reached from the origin in </span><span class="si">{</span><span class="n">num_trials</span><span class="si">}</span><span class="s1"> trials of a random walk of </span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1"> unbiased steps on a square lattice.&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Distance from the origin&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Number of trials&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">distances</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">distances</span><span class="p">))),</span> <span class="n">rwidth</span> <span class="o">=</span> <span class="mf">0.8</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>

<span class="n">how_far</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10_000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="../../_images/e63475d4022172f3c32f9eda86302eadb0659c200dbf9445856c89a80772ad51.png"><img alt="../../_images/e63475d4022172f3c32f9eda86302eadb0659c200dbf9445856c89a80772ad51.png" src="../../_images/e63475d4022172f3c32f9eda86302eadb0659c200dbf9445856c89a80772ad51.png" style="width: 723px; height: 440px;" /></a>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 864x504 with 0 Axes&gt;
</pre></div>
</div>
</div>
</div>
<p><span style='font-size:medium'>(b) If a person ends up at position </span><span class="math notranslate nohighlight">\((x, y)\)</span><span style='font-size:medium'>, we can consider them to be a distance </span><span class="math notranslate nohighlight">\(|x| + |y|\)</span><span style='font-size:medium'> from the origin. In </span><span class="math notranslate nohighlight">\(100\)</span><span style='font-size:medium'> steps, a person most commonly ends up about 10 “city blocks” from the origin. In 1000 steps, a person most commonly ends up about 30 units from the origin. (It can be shown mathematically that the distance the person ends up from the origin is proportional to <span class="math notranslate nohighlight">\(\sqrt{n}\)</span> for long walks of <span class="math notranslate nohighlight">\(n\)</span> steps.)</span></p>
<p><span style='font-size:medium'>(c) The distribution of distances looks like a binomial distribution as shown.</span></p>
<p><span style='font-size:medium'>Exercise 3: A person walks one pace left with a probability of 0.35, one pace right with a probability of 0.2, one pace forward with a probability of 0.4 and one pace backward with a probability of 0.05.  Write a Python program to approximate the expected number of paces the person should take in order to visit the location one pace to the left of the starting point. State your conclusions in a complete sentence.</span></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">histogram_random_walk_2d</span><span class="p">(</span><span class="mf">0.35</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 9, 9, 9, 9, 11]

In 544 of 1000 trials (54.400000000000006%), the position (-1, 0) was not reached after 1000 steps.
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/634bd63a99a3c5b7b10e7c6867a69418db6746d9f462e3177d3c4f878364551b.png"><img alt="../../_images/634bd63a99a3c5b7b10e7c6867a69418db6746d9f462e3177d3c4f878364551b.png" src="../../_images/634bd63a99a3c5b7b10e7c6867a69418db6746d9f462e3177d3c4f878364551b.png" style="width: 947px; height: 440px;" /></a>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 864x504 with 0 Axes&gt;
</pre></div>
</div>
</div>
</div>
<p><span style='font-size:medium'>About 35% of the time, it takes a person one step to move one pace to the left of the starting point. This is because there is a probability of 0.35 of moving left initially (and at each step). Note that it always takes an odd number of steps to get to (-1, 0). Approximately 5% of the time, it takes three steps to get to (-1, 0). About half again as often it takes five steps. Occasionally it takes more, with path lengths slightly longer like 7, 9, or 11. About 50% of the time, position (-1, 0) is not reached within 1000 steps. It looks like if the person doesn’t reach (-1, 0) within a relatively small number of steps like 11, then they do not reach the position at all withing 1000 steps. It is not very meaningful to say what the expected number of steps is in general because the arrival time is typically either in one step or (for all practical purposes) never. We can certainly say that about 35% of the time we arrive at (-1, 0) in one step.</span></p>
<p><span style='font-size:medium'>Exercise 4: A person walks one pace left, right, forward or back with equal probability. When the person walks left, right, or back, she walks one pace. When she walks forward, she walks two paces. Write a Python program to approximate how far forward the person has walked in 1000 paces. State your conclusions in a complete sentence.</span></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">how_far_forward</span><span class="p">(</span><span class="n">num_forward</span><span class="p">,</span> <span class="n">num_back</span><span class="p">,</span> <span class="n">num_left</span><span class="p">,</span> <span class="n">num_right</span><span class="p">,</span> <span class="n">num_trials</span><span class="p">,</span> <span class="n">num_steps</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Make a histogram of how far forward a person goes in num_trials trials</span>
<span class="sd">    of a random walk of n unbiased steps on a square lattice. </span>
<span class="sd">    We assume that the probability of going forward, back, left, and right is the same.</span>
<span class="sd">    When the walk goes forward, it goes forward num_forward steps.</span>
<span class="sd">    When the walk goes back, it goes forward num_back steps.</span>
<span class="sd">    When the walk goes left, it goes left num_left steps.</span>
<span class="sd">    When the walk goes right, it goes forward num_right steps.&#39;&#39;&#39;</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">num_steps</span> <span class="c1"># Use parameter name from problem statement.</span>
    <span class="n">distances_forward</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">trials</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">num_trials</span><span class="p">):</span>
        <span class="c1"># Use the code from the chapter in the body of the loop.</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
            <span class="n">val</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s1">&#39;forward&#39;</span><span class="p">,</span> <span class="s1">&#39;back&#39;</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">val</span> <span class="o">==</span> <span class="s1">&#39;forward&#39;</span><span class="p">:</span>
                <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">num_forward</span>
            <span class="k">elif</span> <span class="n">val</span> <span class="o">==</span> <span class="s1">&#39;back&#39;</span><span class="p">:</span>
                <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">num_back</span>
            <span class="k">elif</span> <span class="n">val</span> <span class="o">==</span> <span class="s1">&#39;left&#39;</span><span class="p">:</span>
                <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">num_left</span>
                <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span> <span class="c1"># val == &#39;right&#39;</span>
                <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">num_right</span>
                <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">distances_forward</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Distance reached from the origin in </span><span class="si">{</span><span class="n">num_trials</span><span class="si">}</span><span class="s1"> trials of a random walk of </span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1"> unbiased steps on a square lattice.&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Distance forward from 0&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Number of trials&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">distances_forward</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">distances_forward</span><span class="p">))),</span> <span class="n">rwidth</span> <span class="o">=</span> <span class="mf">0.8</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>

<span class="n">how_far</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10_000</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="../../_images/81199736cc85503ced8a5c5166ec9907df7cda5570a3f15b8d0b9a5417d2cf3d.png"><img alt="../../_images/81199736cc85503ced8a5c5166ec9907df7cda5570a3f15b8d0b9a5417d2cf3d.png" src="../../_images/81199736cc85503ced8a5c5166ec9907df7cda5570a3f15b8d0b9a5417d2cf3d.png" style="width: 723px; height: 440px;" /></a>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 864x504 with 0 Axes&gt;
</pre></div>
</div>
</div>
</div>
<p><span style='font-size:medium'>If a person ends up at position </span><span class="math notranslate nohighlight">\((x, y)\)</span><span style='font-size:medium'>, we can consider them to be </span><span class="math notranslate nohighlight">\(x\)</span><span style='font-size:medium'> units forward of the starting position (0, 0). In </span><span class="math notranslate nohighlight">\(100\)</span><span style='font-size:medium'> steps, a person most commonly ends up about 27 units forward. In 1000 steps, a person most commonly ends up about 270 units forward. A histogram of distances forward has its peak skewed left as shown.</span></p>
<p><span style='font-size:medium'>Exercise 5: A </span><span style='font-size:medium'><strong>Markov chain</strong></span><span style='font-size:medium'> describes a sequence of possible events in which the probability of each event depends on the state in the previous event. For example, suppose that we modify an unbiased random walk on a square lattice such that if the previous step was to the right, then the probability of making the current move up, down, left, or right is 0.2, 0.2, 0.4, or 0.2, respectively. As such,</span></p>
<p><span style='font-size:medium'>(a) explain the implications of a move to the right in practical terms in a complete sentence.</span></p>
<p><span style='font-size:medium'>(b) run some simulations and address the question: How does the use of the Markov chain change the unbiased random walk on a square lattice?  </span></p>
<p><span style='font-size:medium'>(a) In this problem, a move to the right makes the walker more likely to go left directly afterward.</span></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">random_walk_markov</span><span class="p">(</span><span class="n">prob_left</span><span class="p">,</span> <span class="n">prob_right</span><span class="p">,</span> <span class="n">prob_forward</span><span class="p">,</span> <span class="n">prob_back</span><span class="p">,</span> <span class="n">max_steps</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Do a random walk on a square lattice with equal probability of moving left, right, forward, and back.</span>
<span class="sd">    Start from (0, 0).</span>
<span class="sd">    If the step is to the right, then the probability of making the next move up, down, left, or right is</span>
<span class="sd">    0.2, 0.2, 0.4, or 0.2, respectively.</span>
<span class="sd">    If the walk arrived at position (-1, 0) within max_steps steps, return how many steps were needed.</span>
<span class="sd">    Otherwise return 0.&#39;&#39;&#39;</span>
    <span class="n">steps</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># Initialize the number of steps.</span>
    <span class="n">step_right</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">max_steps</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">max_steps</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># Start the indexing from i-1 = 0.</span>
    <span class="c1"># Execute the random walk.</span>
    <span class="k">while</span> <span class="p">(</span><span class="ow">not</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">))</span> <span class="ow">and</span> <span class="p">(</span><span class="n">steps</span> <span class="o">&lt;</span> <span class="n">max_steps</span><span class="p">):</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># Generate 0 &lt;= r &lt; 1.</span>
        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">step_right</span><span class="p">):</span> <span class="c1"># If the previous move was not to the right:</span>
            <span class="k">if</span> <span class="n">r</span> <span class="o">&lt;</span> <span class="n">prob_forward</span><span class="p">:</span>
                <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="c1"># Move forward.</span>
            <span class="k">elif</span> <span class="n">r</span> <span class="o">&lt;</span> <span class="n">prob_forward</span> <span class="o">+</span> <span class="n">prob_back</span><span class="p">:</span>
                <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span> <span class="c1"># Move back.</span>
            <span class="k">elif</span> <span class="n">r</span> <span class="o">&lt;</span> <span class="n">prob_forward</span> <span class="o">+</span> <span class="n">prob_back</span> <span class="o">+</span> <span class="n">prob_left</span><span class="p">:</span>
                <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span> <span class="c1"># Move left.</span>
                <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="c1"># Move right.</span>
                <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">step_right</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span> <span class="c1"># The previous step was to the right, so:</span>
            <span class="c1"># Make the next move forward, back, left, or right with probability 0.2, 0.2, 0.4, or 0.2, respectively.</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># Generate 0 &lt;= r &lt; 1.</span>
            <span class="k">if</span> <span class="n">r</span> <span class="o">&lt;</span> <span class="mf">0.2</span><span class="p">:</span>
                <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="c1"># Move forward.</span>
                <span class="n">step_right</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">elif</span> <span class="n">r</span> <span class="o">&lt;</span> <span class="mf">0.4</span><span class="p">:</span>
                <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span> <span class="c1"># Move back.</span>
                <span class="n">step_right</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">elif</span> <span class="n">r</span> <span class="o">&lt;</span> <span class="mf">0.8</span><span class="p">:</span>
                <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span> <span class="c1"># Move left.</span>
                <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">step_right</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="c1"># Move right.</span>
                <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">steps</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">prob_left</span> <span class="o">+</span> <span class="n">prob_right</span> <span class="o">+</span> <span class="n">prob_forward</span> <span class="o">+</span> <span class="n">prob_back</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;ERROR: Probabilities must sum to 1.&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>  <span class="c1"># If target position was reached:</span>
        <span class="k">return</span> <span class="n">steps</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span> <span class="c1"># Target position was not reached.</span>

<span class="k">def</span> <span class="nf">histogram_random_walk_markov</span><span class="p">(</span><span class="n">prob_left</span><span class="p">,</span> <span class="n">prob_right</span><span class="p">,</span> <span class="n">prob_forward</span><span class="p">,</span> <span class="n">prob_back</span><span class="p">,</span> <span class="n">num_trials</span><span class="p">,</span> <span class="n">max_steps</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Make a histogram of the number of steps required to reach position (-1, 0) in num_trials trials</span>
<span class="sd">    starting from (0, 0) in an unbiased random walk on a square lattice. Print the number of times</span>
<span class="sd">    that (-1, 0) was not reached within max_steps steps.&#39;&#39;&#39;</span>
    <span class="n">successes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">failure_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_trials</span><span class="p">):</span>
        <span class="n">steps</span> <span class="o">=</span> <span class="n">random_walk_markov</span><span class="p">(</span><span class="n">prob_left</span><span class="p">,</span> <span class="n">prob_right</span><span class="p">,</span> <span class="n">prob_forward</span><span class="p">,</span> <span class="n">prob_back</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">steps</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span> <span class="c1"># If target position was reached:</span>
            <span class="n">successes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">steps</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">failure_count</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Number of steps in </span><span class="si">{</span><span class="n">num_trials</span><span class="si">}</span><span class="s1"> trials required to get from (0, 0) to (-1, 0) in a random walk of at most </span><span class="si">{</span><span class="n">max_steps</span><span class="si">}</span><span class="s1"> steps in the Markov chain&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Number of steps&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Number of trials&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">successes</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="n">rwidth</span> <span class="o">=</span> <span class="mf">0.8</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">successes</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">In </span><span class="si">{</span><span class="n">failure_count</span><span class="si">}</span><span class="s2"> of </span><span class="si">{</span><span class="n">num_trials</span><span class="si">}</span><span class="s2"> trials (</span><span class="si">{</span><span class="n">failure_count</span><span class="o">/</span><span class="n">num_trials</span><span class="o">*</span><span class="mi">100</span><span class="si">}</span><span class="s2">%), the position (-1, 0) was not reached after </span><span class="si">{</span><span class="n">max_steps</span><span class="si">}</span><span class="s2"> steps.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The person arrived at (-1, 0) in three steps </span><span class="si">{</span><span class="n">successes</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="si">}</span><span class="s2"> times.&quot;</span><span class="p">)</span>

<span class="n">histogram_random_walk_markov</span><span class="p">(</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 15, 15, 15, 15, 15, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 19, 19, 19, 19, 19, 19, 19, 19, 19, 21, 21, 21, 21, 21, 21, 21, 21, 23, 23, 23, 23, 23, 23, 23, 23, 23, 25, 25, 25, 25, 25, 25, 25, 25, 27, 27, 27, 27, 27, 27, 27, 27, 27, 29, 29, 29, 29, 29, 29, 29, 29, 31, 31, 31, 31, 31, 33, 33, 33, 33, 35, 35, 35, 35, 35, 37, 37, 37, 39, 39, 39, 39, 39, 41, 41, 43, 43, 43, 43, 45, 45, 47, 47, 49, 49, 49, 49, 49, 51, 51, 53, 53, 55, 57, 57, 57, 57, 57, 59, 59, 61, 61, 63, 65, 69, 69, 69, 69, 71, 71, 73, 75, 75, 75, 75, 77, 79, 79, 81, 81, 81, 83, 85, 87, 87, 87, 89, 93, 93, 95, 97, 99]

In 368 of 1000 trials (36.8%), the position (-1, 0) was not reached after 1000 steps.

The person arrived at (-1, 0) in three steps 95 times.
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/8fc947c316ff9d96d9bdb6067ca1886cb6abd69d769bf1eb06d7d4a83c46887c.png"><img alt="../../_images/8fc947c316ff9d96d9bdb6067ca1886cb6abd69d769bf1eb06d7d4a83c46887c.png" src="../../_images/8fc947c316ff9d96d9bdb6067ca1886cb6abd69d769bf1eb06d7d4a83c46887c.png" style="width: 779px; height: 440px;" /></a>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 864x504 with 0 Axes&gt;
</pre></div>
</div>
</div>
</div>
<p><span style='font-size:medium'>(b) It is still the case that approximately 25% of the time the person needs one step to move one pace to the left of the starting point. This is because there is a probability of 0.25 of stepping to the left on the initial step. However, the Markov chain makes arrival at (-1, 0) in 3 steps more common than before. (It accounts for more like 9% of the trials, rather than 7.5%.) Similarly, taking 5, 7, 9, 11, …, or 999 steps to reach (-1, 0) is also more common. This is because every time the person steps to the right, there is a higher probability of going left (0.4) next, as compared with 0.25 in the non-Markov chain problem. As a result, it is less common (maybe 38% of the time on average rather than 40%) that the position (-1, 0) is not reached within 1000 steps. </span></p>
<p>Exercise 6: Two people get lost in a shopping mall. They both want to find each other as soon as possible. However, each has no clue where the other one is. There are two strategies available:</p>
<p>(1) One person stays in the same place. The other moves around.</p>
<p>(2) Both people move.</p>
<p>Which strategy is better for them to meet?</p>
<p>Do simulations and explain how they support your answer.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">meet_one_still</span><span class="p">(</span><span class="n">max_iterations</span><span class="p">,</span> <span class="n">to_plot</span><span class="p">):</span>
    <span class="c1"># Keep track of x-coordinates in the array x.</span>
    <span class="c1"># Keep track of the corresponding y-coordinates in the array y.</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">max_iterations</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">max_iterations</span><span class="p">)</span>
    <span class="c1"># Assume a starting position of (10, 0) for the still person.</span>
    <span class="c1"># Assume a starting point of (0, 0) for the moving person.</span>
    <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">x_target</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">y_target</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">found</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">x_target</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">y_target</span><span class="p">)</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">max_iterations</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span><span class="p">(</span><span class="n">found</span><span class="p">):</span>
        <span class="n">val</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s1">&#39;up&#39;</span><span class="p">,</span> <span class="s1">&#39;down&#39;</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">])</span>
        <span class="c1"># print(val)</span>
        <span class="k">if</span> <span class="n">val</span> <span class="o">==</span> <span class="s1">&#39;up&#39;</span><span class="p">:</span>
            <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">val</span> <span class="o">==</span> <span class="s1">&#39;down&#39;</span><span class="p">:</span>
            <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">val</span> <span class="o">==</span> <span class="s1">&#39;left&#39;</span><span class="p">:</span>
            <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span> <span class="c1"># val == &#39;right&#39;</span>
            <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="c1"># print(x[i],y[i])</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">x_target</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">y_target</span><span class="p">):</span>
            <span class="n">found</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="n">max_iterations</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Target not found in </span><span class="si">{</span><span class="n">max_iterations</span><span class="si">}</span><span class="s1"> steps.&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Target found in </span><span class="si">{</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="si">}</span><span class="s1"> steps.&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">to_plot</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="si">}</span><span class="s2"> steps&quot;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;r*-&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Final position&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">meet_one_still</span><span class="p">(</span><span class="mi">100_000</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Target found in 19780 steps.
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/a778a2c2027154052d266697903fbc5d718d48638d9ceccbdd9564c17fec721b.png"><img alt="../../_images/a778a2c2027154052d266697903fbc5d718d48638d9ceccbdd9564c17fec721b.png" src="../../_images/a778a2c2027154052d266697903fbc5d718d48638d9ceccbdd9564c17fec721b.png" style="width: 712px; height: 426px;" /></a>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Final position
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(0.0, 10.0)
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">both_move</span><span class="p">(</span><span class="n">max_iterations</span><span class="p">,</span> <span class="n">to_plot</span><span class="p">):</span>
    <span class="c1"># Keep track of x-coordinates in the array x.</span>
    <span class="c1"># Keep track of the corresponding y-coordinates in the array y.</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">max_iterations</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">max_iterations</span><span class="p">)</span>
    <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">max_iterations</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">max_iterations</span><span class="p">)</span>
    <span class="c1"># Assume a starting position of (10, 0) for Person 1.</span>
    <span class="c1"># Assume a starting point of (0, 0) for Person 2.</span>
    <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">x2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">y2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">not_met</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">x2</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="ow">or</span> <span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">y2</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">max_iterations</span><span class="p">)</span> <span class="ow">and</span> <span class="n">not_met</span><span class="p">:</span>
        <span class="n">val</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s1">&#39;up&#39;</span><span class="p">,</span> <span class="s1">&#39;down&#39;</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">])</span>
        <span class="c1"># print(val)</span>
        <span class="k">if</span> <span class="n">val</span> <span class="o">==</span> <span class="s1">&#39;up&#39;</span><span class="p">:</span>
            <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">val</span> <span class="o">==</span> <span class="s1">&#39;down&#39;</span><span class="p">:</span>
            <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">val</span> <span class="o">==</span> <span class="s1">&#39;left&#39;</span><span class="p">:</span>
            <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span> <span class="c1"># val == &#39;right&#39;</span>
            <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">val2</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s1">&#39;up&#39;</span><span class="p">,</span> <span class="s1">&#39;down&#39;</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">])</span>
        <span class="c1"># print(val)</span>
        <span class="k">if</span> <span class="n">val2</span> <span class="o">==</span> <span class="s1">&#39;up&#39;</span><span class="p">:</span>
            <span class="n">x2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x2</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">y2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y2</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">val</span> <span class="o">==</span> <span class="s1">&#39;down&#39;</span><span class="p">:</span>
            <span class="n">x2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x2</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">y2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y2</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">val</span> <span class="o">==</span> <span class="s1">&#39;left&#39;</span><span class="p">:</span>
            <span class="n">x2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x2</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="n">y2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y2</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span> <span class="c1"># val == &#39;right&#39;</span>
            <span class="n">x2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x2</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">y2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y2</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="c1"># print(x[i],y[i])</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">x2</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="ow">and</span> <span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">y2</span><span class="p">[</span><span class="n">i</span><span class="p">]):</span>
            <span class="n">not_met</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="n">max_iterations</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Target not found in </span><span class="si">{</span><span class="n">max_iterations</span><span class="si">}</span><span class="s1"> steps.&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Target found in </span><span class="si">{</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="si">}</span><span class="s1"> steps.&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">to_plot</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="si">}</span><span class="s2"> steps&quot;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;r*-&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Final position&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">both_move</span><span class="p">(</span><span class="mi">100_000</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Target not found in 100000 steps.
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/5d952c7545be733fcb0f75368d6b6d82568e5bffd12d4acf1a9b5de591bd43a2.png"><img alt="../../_images/5d952c7545be733fcb0f75368d6b6d82568e5bffd12d4acf1a9b5de591bd43a2.png" src="../../_images/5d952c7545be733fcb0f75368d6b6d82568e5bffd12d4acf1a9b5de591bd43a2.png" style="width: 718px; height: 426px;" /></a>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Final position
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(-120.0, -3.0)
</pre></div>
</div>
</div>
</div>
<p>Simulations on two persons that start ten paces apart show that typically the better strategy is for one person to stay in the same place and for the other to move around. Simulations of this strategy usually end with the two people finding each other. Simulations in which both people engage in random walks typically end with them failing to meet within 100,000 steps.</p>
</section>
<section id="agent-based-models">
<h2><span class="section-number">5.9.6. </span>Agent-based models<a class="headerlink" href="#agent-based-models" title="Link to this heading">#</a></h2>
<p><span style='font-size:medium'>Exercise 1: Simulate the spread of information under the given assumptions. How many days does it seem to take in general for the information to spread to half of the population? Will all individuals be informed after a certain number of days?</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">rumor_spread</span><span class="p">(</span><span class="n">total_population</span><span class="p">):</span>
    <span class="c1"># Set a maximum number of iterations.</span>
    <span class="n">max_it</span> <span class="o">=</span> <span class="mi">1000</span>
    <span class="c1"># Inform Agent 0.</span>
    <span class="n">informed_status</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="c1"># No one else has been informed.</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">total_population</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">informed_status</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="c1"># Generate a random number from 0 to 5 for each agent and store in a list as the number of transmissions.</span>
    <span class="n">transmission_numbers</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">total_population</span><span class="p">):</span>
        <span class="n">transmission_numbers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
    <span class="c1"># Simulation of the process</span>
    <span class="n">day</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">spread_to_half</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">day_spread_to_half</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">informed_status</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">!=</span> <span class="n">total_population</span> <span class="ow">and</span> <span class="p">(</span><span class="n">day</span> <span class="o">&lt;</span> <span class="n">max_it</span><span class="p">):</span>
        <span class="c1"># Record the first day that at least half of the population has the information.</span>
        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">spread_to_half</span><span class="p">)</span> <span class="ow">and</span> <span class="n">informed_status</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">int</span><span class="p">(</span><span class="n">total_population</span><span class="o">/</span><span class="mi">2</span><span class="p">):</span>
            <span class="n">day_spread_to_half</span> <span class="o">=</span> <span class="n">day</span>
            <span class="n">spread_to_half</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">new_status</span> <span class="o">=</span> <span class="n">informed_status</span><span class="p">[:]</span>
        <span class="k">for</span> <span class="n">agent_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">total_population</span><span class="p">):</span>
            <span class="c1"># print(informed_status)</span>
            <span class="k">if</span> <span class="n">informed_status</span><span class="p">[</span><span class="n">agent_index</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># If agent is informed,</span>
                <span class="c1"># transmit to (inform) the appropriate number of randomly selected agents (excluding self).</span>
                <span class="k">for</span> <span class="n">informing</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">transmission_numbers</span><span class="p">[</span><span class="n">agent_index</span><span class="p">]):</span>
                    <span class="n">recipient_index</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="n">total_population</span><span class="p">)</span>
                    <span class="k">while</span> <span class="n">recipient_index</span> <span class="o">==</span> <span class="n">agent_index</span><span class="p">:</span>
                        <span class="n">recipient_index</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="n">total_population</span><span class="p">)</span> <span class="c1"># Ensure agent does not transmit to self.</span>
                    <span class="n">new_status</span><span class="p">[</span><span class="n">recipient_index</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="c1"># Copy the lists to ensure that informed_status and new_status point to two different lists in memory.</span>
        <span class="n">informed_status</span> <span class="o">=</span> <span class="n">new_status</span><span class="p">[:]</span>
        <span class="n">day</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">informed_status</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">total_population</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;All the individuals are informed by Day </span><span class="si">{</span><span class="n">day</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Not all the individuals were informed within the maximum number of iterations (</span><span class="si">{</span><span class="n">max_it</span><span class="si">}</span><span class="s2">).&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">day_spread_to_half</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;(Half of the individuals are informed by Day </span><span class="si">{</span><span class="n">day_spread_to_half</span><span class="si">}</span><span class="s2">.)&quot;</span><span class="p">)</span>

<span class="n">rumor_spread</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Typically it seems to take about 6 days in general for the information to spread to half of the population of 1000 and about 9 days for all individuals to be informed. However, sometimes not all the individuals are informed within a maximum number of iterations, such as 1000. Upon closer inspection (by doing print(informed_status.count(1) upon exiting the while loop), this situation seems to arise when the initial agent is assigned a transmission number of 0.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">rumor_spread</span><span class="p">(</span><span class="n">total_population</span><span class="p">):</span>
    <span class="n">total_population</span> <span class="o">=</span> <span class="mi">1000</span>
    <span class="c1"># Set a maximum number of iterations.</span>
    <span class="n">max_it</span> <span class="o">=</span> <span class="mi">1000</span>
    <span class="c1"># Inform Agent 0.</span>
    <span class="n">informed_status</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="c1"># No one else has been informed.</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">total_population</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">informed_status</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="c1"># Generate a random number from 0 to 5 for each agent and store in a list as the number of transmissions.</span>
    <span class="n">transmission_numbers</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">total_population</span><span class="p">):</span>
        <span class="n">transmission_numbers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
    <span class="c1"># Simulation of the process</span>
    <span class="n">day</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">spread_to_half</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">day_spread_to_half</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">informed_status</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">!=</span> <span class="n">total_population</span> <span class="ow">and</span> <span class="p">(</span><span class="n">day</span> <span class="o">&lt;</span> <span class="n">max_it</span><span class="p">):</span>
        <span class="c1"># Record the first day that at least half of the population has the information.</span>
        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">spread_to_half</span><span class="p">)</span> <span class="ow">and</span> <span class="n">informed_status</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">int</span><span class="p">(</span><span class="n">total_population</span><span class="o">/</span><span class="mi">2</span><span class="p">):</span>
            <span class="n">day_spread_to_half</span> <span class="o">=</span> <span class="n">day</span>
            <span class="n">spread_to_half</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">new_status</span> <span class="o">=</span> <span class="n">informed_status</span><span class="p">[:]</span>
        <span class="k">for</span> <span class="n">agent_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">total_population</span><span class="p">):</span>
            <span class="c1"># print(informed_status)</span>
            <span class="k">if</span> <span class="n">informed_status</span><span class="p">[</span><span class="n">agent_index</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># If agent is informed,</span>
                <span class="c1"># transmit to (inform) the appropriate number of randomly selected agents (excluding self).</span>
                <span class="k">for</span> <span class="n">informing</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">transmission_numbers</span><span class="p">[</span><span class="n">agent_index</span><span class="p">]):</span>
                    <span class="n">recipient_index</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="n">total_population</span><span class="p">)</span>
                    <span class="k">while</span> <span class="n">recipient_index</span> <span class="o">==</span> <span class="n">agent_index</span><span class="p">:</span>
                        <span class="n">recipient_index</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="n">total_population</span><span class="p">)</span> <span class="c1"># Ensure agent does not transmit to self.</span>
                    <span class="n">new_status</span><span class="p">[</span><span class="n">recipient_index</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="c1"># Copy the lists to ensure that informed_status and new_status point to two different lists in memory.</span>
        <span class="n">informed_status</span> <span class="o">=</span> <span class="n">new_status</span><span class="p">[:]</span>
        <span class="n">day</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">day</span> <span class="o">&lt;</span> <span class="n">max_it</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;All the individuals are informed by Day </span><span class="si">{</span><span class="n">day</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Not all the individuals were informed within the maximum number of iterations (</span><span class="si">{</span><span class="n">max_it</span><span class="si">}</span><span class="s2">).&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">day_spread_to_half</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;(Half of the individuals are informed by Day </span><span class="si">{</span><span class="n">day_spread_to_half</span><span class="si">}</span><span class="s2">.)&quot;</span><span class="p">)</span>

<span class="n">rumor_spread</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>All the individuals are informed by Day 8.
(Half of the individuals are informed by Day 5.)
</pre></div>
</div>
</div>
</div>
<p><span style='font-size:medium'>Typically it seems to take about 6 days in general for the information to spread to half of the population of 1000 and about 8 days for all individuals to be informed. However, sometimes not all the individuals are informed within a maximum number of iterations, such as 1000. This situation arises when the transmission numbers are too low to produce the typical pattern of information spread.</span></p>
<p><span style='font-size:medium'>Exercise 2: This agent-based model could also be applied to the spread of disease. If “knowing the information” means “having the disease” and “not having the information” means “not having the disease”, what are the interpretations of the assumptions, initial condition, and parameters that are given? Explain how you may find the model compelling in the context of disease, or what changes to the model you recommend to better reflect the spread of disease.</span></p>
<p><span style='font-size:medium'>If a disease is shared, it might spread from one agent to another similarly to how information spreads. We can assume, similarly to before that:</span></p>
<ol class="arabic simple">
<li><p><span style='font-size:medium'>The population is a closed community. The number of individuals does not change. With a disease raging, this assumption may not be sound.</span></p></li>
<li><p><span style='font-size:medium'>Agents who do not have the disease do not pass the disease to others. This assumption is not good for all diseases. During COVID, we saw that asymptomatic individuals could spread the disease. So people who appeared “not sick” were still contagious.</span></p></li>
<li><p><span style='font-size:medium'>An agent does not pass the disease to itself.</span></p></li>
<li><p><span style='font-size:medium'>Once an agent catches the disease, it will not be uninfected. This assumption may not be good, as there should be a transition from “sick” to “not sick”.</span></p></li>
<li><p><span style='font-size:medium'>A transmission rate defines how many people catch the disease from a given individual in one day. </span></p></li>
<li><p><span style='font-size:medium'>Each agent has one of the allowed transmission rates with equal probability. It is unclear whether different people have different degrees of contagion.</span></p></li>
<li><p><span style='font-size:medium'>When an agent spreads the disease to another individual, that individual is selected from all the other members of the population with equal probability. This might be no less contrived than the analogous assumption in the information-spreading model. However, in reality, both cases involve social networks in which some people come into contact with a given individual more than others.</span></p></li>
</ol>
<p><span style='font-size:medium'>Like for the information spreading, we could impose the initial condition that on Day 0, 1 individual is sick. (This person is called the “index case” in the field.)</span></p>
<p><span style='font-size:medium'>For parameters for the agent-based model of disease transmission, we could again say</span></p>
<ol class="arabic simple">
<li><p><span style='font-size:medium'>The value of the population parameter is 1000. (There are 1000 agents.)</span></p></li>
<li><p><span style='font-size:medium'>The allowed transmission rates are 0, 1, 2, 3, 4, and 5.</span></p></li>
</ol>
<p><span style='font-size:medium'>The way the disease could spread is as follows: We have Persons 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12,…, 1000. These people might have transmission rates 3, 3, 2, 0, 5, 1, 1, 2, 3, 4, 2, 1, …, 4 respectively. Initially, 1 person is sick. If that person is Person 1, and Person 1 has a transmission rate of 3, then on the first day of illness, Person 1 might spread the disease to Persons 5, 8, and 9 with transmission rates 5, 2, and 3, respectively. In Day 2 of the pandemic, Person 1 spreads the information to 3 people, Person 5 to 5 people, Person 8 to 2 people and Person 9 to 3 people. Note these may be some of the same people or people who already are sick in our model. The process continues day-by-day. One of the complicating factors with COVID was that people could spread the disease a couple of days before they showed symptoms themselves. Our model does not account for this.</span></p>
</section>
<section id="mathematical-games">
<h2><span class="section-number">5.9.7. </span>Mathematical Games<a class="headerlink" href="#mathematical-games" title="Link to this heading">#</a></h2>
<p><span style='font-size:medium'>Exercise 1: For the game of craps, does the choice of “Pass Line” vs. “Don’t Pass” affect the likelihood of winning, under the rules given? If so, what kind of difference and how much difference? Use quantitative information to support your answer. State whether you have provided mathematical proof or computational evidence.</span></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">roll_two_dice</span><span class="p">(</span><span class="n">unbiased</span><span class="p">):</span>
    <span class="c1"># Return the sum of a roll of two six-sided dice with a boolean parameter unbiased.</span>
    <span class="k">if</span> <span class="n">unbiased</span><span class="p">:</span>
        <span class="n">die1</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
        <span class="n">die2</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">die1</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
        <span class="n">die2</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">die1</span> <span class="o">+</span> <span class="n">die2</span>

<span class="k">def</span> <span class="nf">pass_line</span><span class="p">(</span><span class="n">unbiased</span><span class="p">):</span>
    <span class="c1"># Play craps with the pass-line rules.</span>
    <span class="c1"># The boolean parameter allows for both unbiased and biased dice.</span>
    <span class="c1"># Return -3 for a draw, -2 for a loss, and -1 for a win.</span>
    <span class="n">roll</span> <span class="o">=</span> <span class="n">roll_two_dice</span><span class="p">(</span><span class="n">unbiased</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">roll</span> <span class="o">==</span> <span class="mi">7</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">roll</span> <span class="o">==</span> <span class="mi">11</span><span class="p">):</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span> <span class="c1"># win</span>
    <span class="k">elif</span> <span class="p">(</span><span class="n">roll</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">roll</span> <span class="o">==</span> <span class="mi">3</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">roll</span> <span class="o">==</span> <span class="mi">12</span><span class="p">):</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">2</span> <span class="c1"># lose</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">the_point</span> <span class="o">=</span> <span class="n">roll</span>
        <span class="n">roll</span> <span class="o">=</span> <span class="n">roll_two_dice</span><span class="p">(</span><span class="n">unbiased</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">roll</span> <span class="o">==</span> <span class="n">the_point</span><span class="p">):</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span> <span class="c1"># win</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">roll</span> <span class="o">==</span> <span class="mi">7</span><span class="p">):</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">2</span> <span class="c1"># lose</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">3</span> <span class="c1"># draw</span>

<span class="k">def</span> <span class="nf">dont_pass</span><span class="p">(</span><span class="n">unbiased</span><span class="p">):</span>
    <span class="c1"># Play craps with the no-pass rules.</span>
    <span class="c1"># The boolean parameter allows for both unbiased and biased dice.</span>
    <span class="c1"># Return 1 for a draw, 2 for a loss, and 3 for a win.</span>
    <span class="n">roll</span> <span class="o">=</span> <span class="n">roll_two_dice</span><span class="p">(</span><span class="n">unbiased</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">roll</span> <span class="o">==</span> <span class="mi">7</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">roll</span> <span class="o">==</span> <span class="mi">11</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">2</span> <span class="c1"># lose</span>
    <span class="k">elif</span> <span class="p">(</span><span class="n">roll</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">roll</span> <span class="o">==</span> <span class="mi">3</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">roll</span> <span class="o">==</span> <span class="mi">12</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">3</span> <span class="c1"># win</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">the_point</span> <span class="o">=</span> <span class="n">roll</span>
        <span class="n">roll</span> <span class="o">=</span> <span class="n">roll_two_dice</span><span class="p">(</span><span class="n">unbiased</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">roll</span> <span class="o">==</span> <span class="n">the_point</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">2</span> <span class="c1"># lose</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">roll</span> <span class="o">==</span> <span class="mi">7</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">3</span> <span class="c1"># win</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span> <span class="c1"># draw</span>

<span class="k">def</span> <span class="nf">histogram_craps</span><span class="p">(</span><span class="n">trials</span><span class="p">,</span> <span class="n">unbiased</span><span class="p">):</span>
    <span class="c1"># Play craps trials times with pass-line rules and trials times with the no-pass rules.</span>
    <span class="c1"># The boolean parameter allows for both unbiased and biased dice.</span>
    <span class="c1"># Draw a histogram with the outcomes.</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">trials</span><span class="p">):</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pass_line</span><span class="p">(</span><span class="n">unbiased</span><span class="p">))</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dont_pass</span><span class="p">(</span><span class="n">unbiased</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Draw (-3), loss (-2), and win (-1) for craps (pass-line) and draw (1), loss (2), and win (3) for don&#39;t-pass&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Outcome&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Number of trials&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">rwidth</span> <span class="o">=</span> <span class="mf">0.8</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>

<span class="n">histogram_craps</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="../../_images/9ba76db88e240173dc400dcf4423b891c1ae9db15d9ff45a6c70ea162617d50a.png"><img alt="../../_images/9ba76db88e240173dc400dcf4423b891c1ae9db15d9ff45a6c70ea162617d50a.png" src="../../_images/9ba76db88e240173dc400dcf4423b891c1ae9db15d9ff45a6c70ea162617d50a.png" style="width: 723px; height: 440px;" /></a>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 864x504 with 0 Axes&gt;
</pre></div>
</div>
</div>
</div>
<p><span style='font-size:medium'>The results give computational evidence that the “Pass Line” rules are favorable. In both “Pass” and “Don’t Pass” the most common outcome is a draw. But for losses then wins, respectively, we see the third bar higher than the second in the first set of three bars, meaning that there are more wins than loses. The “Don’t Pass” rules make a win less likely than a loss:  the third bar is lower than the second in the second set of three bars. It appears that the number of wins for “Pass” are comparable to the number of losses for “Don’t Pass”, and the number of losses for “Pass” are comparable to the number of wins for “Don’t Pass”.</span></p>
<p><span style='font-size:medium'>Exercise 2: If one of the two dice is biased in the game of craps, how does that affect the analysis and conclusions from Exercise 1? Illustrate your answer by doing some simulations and discussing the results.</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">histogram_craps</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="../../_images/6d408f57759145ffd99de666362e23a6e229794ad4f9df32ca4a4dc908c41b25.png"><img alt="../../_images/6d408f57759145ffd99de666362e23a6e229794ad4f9df32ca4a4dc908c41b25.png" src="../../_images/6d408f57759145ffd99de666362e23a6e229794ad4f9df32ca4a4dc908c41b25.png" style="width: 723px; height: 440px;" /></a>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 864x504 with 0 Axes&gt;
</pre></div>
</div>
</div>
</div>
<p><span style='font-size:medium'>The qualitative comparison between the outcomes of the two versions of the game is quite robust to various biases in the dice for the biases that I tried. There are quantitative changes in the outcomes. For example, a win becomes more likely for don’t pass than before if one of the dice rolls a 5 with probability 1/4, a six with probability 1/4, and a 1, 2, 3, or 4 with probability 1/8 each. However, wins are still more common under the pass-line rules than don’t-pass even in this case. Draws are less frequent than with unbiased dice, but they are still the most frequent outcome.</span></p>
<p><span style='font-size:medium'>Exercise 3: Simulate the optimal stopping problem for ten rooms using the algorithm discussed in this section. Execute many trials.</span></p>
<p><span style='font-size:medium'>(a) Explain whether you typically get the best room or not when you preview 37% (three or four) of the rooms.</span></p>
<p><span style='font-size:medium'>(b) If you don’t get the best room, how good of a room do you typically get?</span></p>
<p><span style='font-size:medium'>(c) Show a histogram of the ranks of the rooms you choose. Do the shape, center, and spread of the ranks suggest that the strategy (algorithm) is a good one for winning the best room? Explain.</span></p>
<p><span style='font-size:medium'>(d) Does the strategy of previewing three or four of the ten rooms tend to lead to a better outcome than if you preview two or five? Support your answer.</span></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">trials_of_room_visits</span><span class="p">(</span><span class="n">num_trials</span><span class="p">,</span> <span class="n">num_rooms_per_trial</span><span class="p">,</span> <span class="n">fraction_to_preview</span><span class="p">):</span>
    <span class="c1"># Keep track of the rank of the room chosen in each trial.</span>
    <span class="n">ranks_chosen</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># Keep track of how many times you chose the best, second best, third best, and worst room.</span>
    <span class="n">rank1</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">rank2</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">rank3</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">rank_last</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_trials</span><span class="p">):</span>
        <span class="c1"># For each trial, generate a list of ratings between 0 and 100 inclusive.</span>
        <span class="n">ratings</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_rooms_per_trial</span><span class="p">):</span>
            <span class="n">ratings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
        <span class="n">number_to_visit</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">fraction_to_preview</span> <span class="o">*</span> <span class="n">num_rooms_per_trial</span><span class="p">)</span>
        <span class="c1"># Visit the first 37% of rooms.</span>
        <span class="c1"># Find the max among the first 37%.</span>
        <span class="nb">max</span> <span class="o">=</span> <span class="n">ratings</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">number_to_visit</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">ratings</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="nb">max</span><span class="p">:</span>
                <span class="nb">max</span> <span class="o">=</span> <span class="n">ratings</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="c1"># Advance to the next room.</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="c1"># While rooms still remain to be visited,</span>
        <span class="c1"># and the rating does not surpass the first 37% of ratings,</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">num_rooms_per_trial</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">ratings</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="nb">max</span><span class="p">):</span>
            <span class="c1"># advance to the next room.</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="c1"># If you haven&#39;t seen the final room,</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num_rooms_per_trial</span><span class="p">:</span>
            <span class="c1"># you must have found an room that surpasses the first 37%.</span>
            <span class="n">choice</span> <span class="o">=</span> <span class="n">ratings</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span> <span class="c1"># Otherwise, you must take the last room.</span>
            <span class="n">choice</span> <span class="o">=</span> <span class="n">ratings</span><span class="p">[</span><span class="n">num_rooms_per_trial</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">ratings</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">reverse</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">rank</span> <span class="o">=</span> <span class="n">ratings</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">choice</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">ranks_chosen</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rank</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">rank</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">rank1</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">rank</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">rank2</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">rank</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">rank3</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">rank</span> <span class="o">==</span> <span class="n">num_rooms_per_trial</span><span class="p">:</span>
            <span class="n">rank_last</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number of times rooms of each rank were chosen for </span><span class="si">{</span><span class="n">num_rooms_per_trial</span><span class="si">}</span><span class="s2"> rooms and </span><span class="si">{</span><span class="n">num_trials</span><span class="si">}</span><span class="s2"> trials when </span><span class="si">{</span><span class="n">fraction_to_preview</span><span class="si">}</span><span class="s2"> of the rooms were previewed&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Rank&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Number of trials&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">ranks_chosen</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="n">num_rooms_per_trial</span><span class="p">,</span> <span class="n">rwidth</span> <span class="o">=</span> <span class="mf">0.8</span><span class="p">)</span>
    <span class="c1"># print(ranks_chosen)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Number of rooms: </span><span class="si">{</span><span class="n">num_rooms_per_trial</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Number of rooms previewed: </span><span class="si">{</span><span class="n">number_to_visit</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Number of trials with </span><span class="si">{</span><span class="n">num_rooms_per_trial</span><span class="si">}</span><span class="s1"> rooms per trial: </span><span class="si">{</span><span class="n">num_trials</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Percent of times best room was picked: </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">rank1</span><span class="o">/</span><span class="n">num_trials</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Percent of times second best room was picked: </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">rank2</span><span class="o">/</span><span class="n">num_trials</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Percent of times third best room was picked: </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">rank3</span><span class="o">/</span><span class="n">num_trials</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Percent of times one of the top three rooms was picked: </span><span class="si">{</span><span class="nb">round</span><span class="p">((</span><span class="n">rank1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rank2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rank3</span><span class="p">)</span><span class="o">/</span><span class="n">num_trials</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Percent of times worst room was picked: </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">rank_last</span><span class="o">/</span><span class="n">num_trials</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="n">trials_of_room_visits</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mf">0.37</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Number of rooms: 10
Number of rooms previewed: 3
Number of trials with 10 rooms per trial: 1000
Percent of times best room was picked: 41
Percent of times second best room was picked: 19
Percent of times third best room was picked: 10
Percent of times one of the top three rooms was picked: 71
Percent of times worst room was picked: 3
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/3829bceb5083f849abff3ee50ac02a72b30c78277e4ea64aceb3378f42ddc739.png"><img alt="../../_images/3829bceb5083f849abff3ee50ac02a72b30c78277e4ea64aceb3378f42ddc739.png" src="../../_images/3829bceb5083f849abff3ee50ac02a72b30c78277e4ea64aceb3378f42ddc739.png" style="width: 723px; height: 440px;" /></a>
</div>
</div>
<p>(a) When you preview three of the rooms, you get the best room about 41% of the time, which is a lot better than a random choice of <span class="math notranslate nohighlight">\(1/n = 1/10\)</span>.</p>
<p>(b) You typically get a room in the top three about 70% of the time—about 20% of the time you get the second best and about 10% of the time you get third best.</p>
<p>(c) The histogram suggests that the strategy (algorithm) is a good one for winning the best room because it shows that Rank 1 is the dominant rank selected, and lower and lower ranks are generally chosen less and less often.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trials_of_room_visits</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Number of rooms: 10
Number of trials with 10 rooms per trial: 1000
Percent of times best room was picked: 38
Percent of times second best room was picked: 21
Percent of times third best room was picked: 12
Percent of times one of the top three rooms was picked: 72
Percent of times worst room was picked: 3
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/42cbc3992bbb6e90d5af27b6d5f427515ddfa1f6c76f5fd897413f8df247cb79.png"><img alt="../../_images/42cbc3992bbb6e90d5af27b6d5f427515ddfa1f6c76f5fd897413f8df247cb79.png" src="../../_images/42cbc3992bbb6e90d5af27b6d5f427515ddfa1f6c76f5fd897413f8df247cb79.png" style="width: 710px; height: 414px;" /></a>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trials_of_room_visits</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Number of rooms: 10
Number of trials with 10 rooms per trial: 1000
Percent of times best room was picked: 36
Percent of times second best room was picked: 14
Percent of times third best room was picked: 9
Percent of times one of the top three rooms was picked: 60
Percent of times worst room was picked: 6
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/8e4e340cd8d73d1ba49fad196c9da2487000210ba805dd2a77e3fdea6c2aeef3.png"><img alt="../../_images/8e4e340cd8d73d1ba49fad196c9da2487000210ba805dd2a77e3fdea6c2aeef3.png" src="../../_images/8e4e340cd8d73d1ba49fad196c9da2487000210ba805dd2a77e3fdea6c2aeef3.png" style="width: 710px; height: 411px;" /></a>
</div>
</div>
<p>(d) The strategy of previewing three of the ten rooms tends to lead to a better outcome than if you preview a fraction 0.2 of the rooms (two rooms) or 0.4 of the rooms (four rooms). With a preview of two rooms, the percentage of times that you get the best room drops slightly compared to a preview of three rooms. The percentage of times you get a room in the top three seems to hold fairly steady. With a preview of four rooms, the percentage of times that you get the best room drops a little compared to a preview of three rooms. The percentage of times you get a room in the top three drops quite noticeably.  With a preview of four rooms, the histogram shows a slightly lower peak at Rank 1 and a thicker tail for the distribution, meaning lower-rank choices are more common.</p>
<p>(e) These results are generally consistent with the mathematical finding that the optimal fraction of the total rooms that you should preview is <span class="math notranslate nohighlight">\(1/e\)</span> because <span class="math notranslate nohighlight">\(1/e\)</span> is between 30 and 40% of the rooms. Technically, this mathematical conclusion only applies as <span class="math notranslate nohighlight">\(n\)</span> gets very large, so it is striking that even when <span class="math notranslate nohighlight">\(n\)</span> is only 10, we should still preview around 37% of the rooms. If the probability that you will select the best room this way tends to <span class="math notranslate nohighlight">\(1/e\)</span> for large <span class="math notranslate nohighlight">\(n\)</span>, then we would predict obtaining the best room about 37% of the time. Our simulations show slightly better results than that when we preview three or four out of the ten rooms. It’s reasonable to imagine that getting the best room might become harder as <span class="math notranslate nohighlight">\(n\)</span> gets large, so probably if we simulate with a larger number of rooms and preview about 37% of them, we might get the best room only about 37% of the time, rather than 40 or 41%.</p>
<p><span style='font-size:medium'>Exercise 4: With a fair coin, is there a winning strategy to maximize your points in the coin-flipping game described in this section? If so, what is the winning strategy? Illustrate your conclusions using simulation.</span></p>
<p><span style='font-size:medium'>Exercise 5: If you know the coin is biased, with 60% chance of heads and 40% chance of tails, how should you change your strategy? Illustrate your answer using simulation.</span></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">flipping_game</span><span class="p">(</span><span class="n">prob_heads</span><span class="p">,</span> <span class="n">token_count</span><span class="p">,</span> <span class="n">F</span><span class="p">,</span> <span class="n">max_turns_per_game</span><span class="p">,</span> <span class="n">trials</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Suppose you have a coin that flips heads with probability prob_heads and token_count tokens.</span>
<span class="sd">    Put a fraction F of your tokens (F * token_count tokens) on the table, 0 &lt; F &lt;= 1.</span>
<span class="sd">    Then flip the coin.</span>
<span class="sd">    If it comes up heads, then you win F * token_count additional tokens.</span>
<span class="sd">    Otherwise, you lose all F * token_count tokens.</span>
<span class="sd">    Repeat the process until you lose all your tokens or up to a maximum number of turns per game, whichever comes first.</span>
<span class="sd">    Note your score may involve fractions of tokens (points).</span>
<span class="sd">    Do trials trials.&#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="n">F</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">F</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ERROR. Choose 0 &lt; F &lt;= 1.&quot;</span><span class="p">)</span>
    <span class="n">initial_tokens</span> <span class="o">=</span> <span class="n">token_count</span>
    <span class="n">final_points</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># Final points for each trial of the game</span>
    <span class="n">less_than_1_point</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># Number of times the final points were less than 1</span>
    <span class="n">less_than_starting_points</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># Number of times for the final points were less than the initial number</span>
    <span class="n">final_points_losses</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># Final points for each game with a score &lt; initial points</span>
    <span class="n">final_points_wins</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># Final points for each game with a score &gt;= initial points</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">trials</span><span class="p">):</span>
        <span class="n">turns</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">token_count</span> <span class="o">=</span> <span class="n">initial_tokens</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">token_count</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">turns</span> <span class="o">&lt;=</span> <span class="n">max_turns_per_game</span><span class="p">):</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">r</span> <span class="o">&lt;</span> <span class="n">prob_heads</span><span class="p">:</span>
                <span class="n">token_count</span> <span class="o">+=</span> <span class="n">F</span> <span class="o">*</span> <span class="n">token_count</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">token_count</span> <span class="o">-=</span> <span class="n">F</span> <span class="o">*</span> <span class="n">token_count</span>
            <span class="n">turns</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">token_count</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">less_than_1_point</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">final_points_losses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">token_count</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">token_count</span> <span class="o">&lt;</span> <span class="n">initial_tokens</span><span class="p">:</span>
            <span class="n">less_than_starting_points</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">final_points_losses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">token_count</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">final_points_wins</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">token_count</span><span class="p">)</span>
        <span class="n">final_points</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">token_count</span><span class="p">)</span>
    <span class="n">total_loss_percentage</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">less_than_1_point</span><span class="o">/</span><span class="n">trials</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">non_zero_loss_percentage</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">less_than_starting_points</span><span class="o">/</span><span class="n">trials</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Game ended with 0 &lt;= points &lt; 1 approximately </span><span class="si">{</span><span class="n">total_loss_percentage</span><span class="si">}</span><span class="s2">% of the time within a maximum number of turns = </span><span class="si">{</span><span class="n">max_turns_per_game</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Game ended with 1 &lt;= points &lt;= </span><span class="si">{</span><span class="n">initial_tokens</span><span class="si">}</span><span class="s2"> initial tokens approximately </span><span class="si">{</span><span class="n">non_zero_loss_percentage</span><span class="si">}</span><span class="s2">% of the time.&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;So, the player won additional tokens approximately </span><span class="si">{</span><span class="mi">100</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">total_loss_percentage</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">non_zero_loss_percentage</span><span class="si">}</span><span class="s2">% of the time.&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The average loss between 1 and 100 across all trials is approximately </span><span class="si">{</span><span class="n">initial_tokens</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">round</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">final_points_losses</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">final_points_losses</span><span class="p">))</span><span class="si">}</span><span class="s2"> points.&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The average winnings (meaning average number of final_points beyond the initial 100) across all trials is approximately </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">final_points_wins</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">final_points_wins</span><span class="p">))</span><span class="o">-</span><span class="mi">100</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Maximum score was approximately </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">final_points</span><span class="p">))</span><span class="si">}</span><span class="s2"> in </span><span class="si">{</span><span class="n">trials</span><span class="si">}</span><span class="s2"> trials.&quot;</span><span class="p">)</span>
<span class="n">flipping_game</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">10_000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Game ended with 0 &lt;= points &lt; 1 approximately 50% of the time within a maximum number of turns = 30.
Game ended with 1 &lt;= points &lt;= 100 initial tokens approximately 42% of the time.
So, the player won additional tokens approximately 8% of the time.
The average loss between 1 and 100 across all trials is approximately 93 points.
The average winnings (meaning average number of final_points beyond the initial 100) across all trials is approximately 910.
Maximum score was approximately 39455 in 10000 trials.
</pre></div>
</div>
</div>
</div>
<p><span style='font-size:medium'>With a fair coin, the formula in the chapter says the optimal </span><span class="math notranslate nohighlight">\(F\)</span><span style='font-size:medium'> is 0, meaning that there is no winning strategy to maximize your points in the coin-flipping game described in this section. The simulation shows that about 50% of the time you lose all your tokens (100 tokens) within the maximum number of turns in the game (30). You end the game with more points than you started with only about 8% of the time. Note that you consistently lose 93 of your 100 tokens when you lose. The average winnings when you do win tend to be about 1000 tokens. The number of points you have at the end can occasionally be very large. A high score is possible but improbable, within this strategy that I do not consider a winning strategy.</span></p>
<p><span style='font-size:medium'>Exercise 5: If you know the coin is biased, with probability 0.6 of success, the formula in the chapter says you should use </span><span class="math notranslate nohighlight">\(F = 0.2\)</span><span style='font-size:medium'>. </span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">flipping_game</span><span class="p">(</span><span class="mf">0.6</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">10_000</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Game ended with 0 &lt;= points &lt; 1 approximately 0% of the time within a maximum number of turns = 30.
Game ended with 1 &lt;= points &lt;= 100 initial tokens approximately 34% of the time.
So, the player won additional tokens approximately 66% of the time.
The average loss between 1 and 100 across all trials is approximately 36 points.
The average winnings (meaning average number of final_points beyond the initial 100) across all trials is approximately 382.
Maximum score was approximately 8440 in 10000 trials.
</pre></div>
</div>
</div>
</div>
<p><span style='font-size:medium'>This strategy has a very different outcome. When we play the game this way, we never seem to lose all the tokens (instead of losing all of them half the time). Your winnings are less on average (around 380) this way than with the fair coin and </span><span class="math notranslate nohighlight">\(F = 1/2\)</span><span style='font-size:medium'>. However, you have more points at the end that at the beginning far more often— around 66% of the time rather than 8%. When you do lose, the losses are less on average (35 points, rather than 93 points). </span></p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./ProbStat/ProbIntro"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="prob6.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">5.8. </span>Mathematical Games</p>
      </div>
    </a>
    <a class="right-next"
       href="lab.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">5.10. </span>JNB Lab Homicides in Chicago</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#random-numbers">5.9.1. Random Numbers</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#probability">5.9.2. Probability</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conditional-probability">5.9.3. Conditional probability</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#probability-distributions">5.9.4. Probability Distributions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#random-walks">5.9.5. Random walks</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#agent-based-models">5.9.6. Agent-based models</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mathematical-games">5.9.7. Mathematical Games</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Paul Isihara, Claire Wagner, Peter Jantsch, and Thomas VanDrunen, Editors
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <p>
  <a rel='license' href='http://creativecommons.org/licenses/by/4.0/'><img alt='Creative Commons License' width=88 style='border-width:0' src='https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by.png'/></a>
  Except where otherwise noted, this work is licensed under a <a rel='license' href='http://creativecommons.org/licenses/by/4.0/'>Creative Commons Attribution 4.0 International License</a>.
</p>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>